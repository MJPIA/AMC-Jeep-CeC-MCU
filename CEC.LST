8048 TO 8051 ASSEMBLY LANGUAGE CONVERTER                                                                        PAGE   1


ISIS-II 8048 TO 8051 ASSEMBLY LANGUAGE CONVERSION OF FILE cec.txt
ASM51 PLACED IN cec.A51
CONVERTER V1.0 INVOKED BY:
conv51 cec.txt



8048 PROGRAM

    1   W0000:
    2         sel    MB1                        
    3         jmp    W0000                      ; Cold Boot
    4   
    5         sel    RB1                        
    6         mov    R2,A                       
    7         jmp    W013D                      ; Get Keystroke
    8   
    9         sel    RB1                        
   10         mov    R2,A                       
   11         mov    R0,#6Bh                    
   12         mov    A,@R0                      
   13         inc    @R0                        
   14         jz     W002A                      
   15         add    A,#0FCh                    
   16         jc     W0055                      
   17         add    A,#02h                     
   18         jnz    W0040                      
   19         orl    P2,#40h                    
   20         mov    R0,#48h                    
   21         mov    @R0,#0D8h                  
   22         mov    R0,#6Ch                    
   23         mov    A,@R0                      
   24         jb7    W0024                      
   25         jmp    W0045                      
   26   
   27   W0024:
   28         sel    RB0                        
   29         mov    A,R2                       
   30         add    A,#06h                     
   31         jmp    W0047                      
   32   
   33   W002A:
   34         mov    A,R7                       
   35         jz     W0035                      
   36         mov    A,#01h                     
   37   W002F:
   38         add    A,#0FFh                    
   39         jnz    W002F                      
   40   W0033:
   41         djnz   R7,W0033                   
   42   W0035:
   43         anl    P2,#0BFh                   
   44         mov    A,R6                       
   45         anl    A,#0BFh                    
   46         mov    R6,A                       
   47         mov    R1,#69h                    
   48         mov    A,@R1                      
8048 TO 8051 ASSEMBLY LANGUAGE CONVERTER                                                                        PAGE   2


   49         jmp    W0047                      
   50   
   51   W0040:
   52         inc    A                          
   53   W0041:
   54         jz     W0045                      
   55         orl    P2,#40h                    
   56   W0045:
   57         sel    RB0                        
   58         mov    A,R2                       
   59   W0047:
   60         cpl    A                          
   61         inc    A                          
   62         sel    RB1                        
   63         mov    R0,A                       
   64         call   W059E                      
   65         mov    A,T                        
   66         add    A,R0                       
   67         mov    T,A                        
   68         mov    A,R0                       
   69         call   W0470                      
   70         jmp    W0400                      ; Restart
   71   
   72   W0055:
   73         jni    W005C                      
   74         mov    A,R7                       
   75         jz     W005C                      
   76   W005A:
   77         djnz   R7,W005A                   
   78   W005C:
   79         anl    P2,#0BFh                   
   80         mov    A,R2                       
   81         retr                              
   82   
   83   W0060:
   84         sel    RB0                        
   85         mov    R0,#76h                    
   86         call   W059E                      
   87         sel    RB1                        
   88         mov    A,R6                       
   89         jb1    W0077                      
   90         orl    A,#02h                     
   91         mov    R6,A                       
   92         sel    RB0                        
   93         mov    R1,#67h                    
   94         mov    A,@R1                      
   95         add    A,@R0                      
   96         mov    R1,#78h                    
   97         add    A,@R1                      
   98         mov    @R0,A                      
   99         mov    @R1,#00h                   
  100   W0077:
  101         sel    RB0                        
  102         mov    A,T                        
  103         add    A,@R0                      
  104         add    A,#0F6h                    
  105         jc     W008A                      
8048 TO 8051 ASSEMBLY LANGUAGE CONVERTER                                                                        PAGE   3


  106         add    A,#01h                     
  107         jc     W008A                      
  108         add    A,#03h                     
  109         jnc    W0088                      
  110         jmp    W0060                      
  111   
  112   W0088:
  113         sel    RB0                        
  114         ret                               
  115   
  116   W008A:
  117         call   W059E                      
  118         mov    R0,#76h                    
  119         mov    A,@R0                      
  120         add    A,#0F4h                    
  121         mov    @R0,A                      
  122         mov    R1,#57h                    
  123         mov    @R1,#0FEh                  
  124         mov    R0,#52h                    
  125         call   W0133                      
  126         call   W04A5                      
  127         sel    RB0                        
  128         mov    A,R3                       
  129         add    A,#9Bh                     
  130         jc     W00E7                      ; Set up VDC Access
  131         clr    C                          
  132         jnt1   W00A6                      
  133         cpl    C                          
  134   W00A6:
  135         mov    R1,#34h                    
  136         mov    A,@R1                      
  137         rlc    A                          
  138         mov    @R1,A                      
  139         mov    R0,#3Bh                    
  140         jni    W00D2                      
  141         mov    A,@R0                      
  142         jnz    W00D7                      
  143         cpl    A                          
  144         mov    @R0,A                      
  145         mov    R0,#3Dh                    
  146         mov    A,@R1                      
  147   W00B7:
  148         anl    A,#0Fh                     
  149   W00B9:
  150         jz     W00C0                      
  151         xrl    A,#0Fh                     
  152         jnz    W00C8                      
  153         cpl    A                          
  154   W00C0:
  155         mov    @R1,A                      
  156         xrl    A,@R0                      
  157   W00C2:
  158         jz     W00C8                      
  159         mov    A,@R1                      
  160         mov    @R0,A                      
  161         jmp    W00CC                      
  162   
8048 TO 8051 ASSEMBLY LANGUAGE CONVERTER                                                                        PAGE   4


  163   W00C8:
  164         mov    R1,#38h                    
  165         mov    A,@R0                      
  166         mov    @R1,A                      
  167   W00CC:
  168         mov    A,R5                       
  169         jz     W00D7                      
  170         dec    R5                         
  171         jmp    W00D7                      
  172   
  173   W00D2:
  174         mov    A,@R0                      
  175         jz     W00D7                      
  176         mov    @R0,#00h                   
  177   W00D7:
  178         call   W041E                      
  179         mov    R0,#2Fh                    
  180         mov    A,@R0                      
  181         dec    A                          
  182         mov    @R0,A                      
  183         jz     W00E5                      
  184         dec    A                          
  185         jb7    W00E5                      
  186         jmp    W01BE                      
  187   
  188   W00E5:
  189         jmp    W0100                      
  190   
  191   W00E7:
  192         jmp    W0411                      
  193   
  194         mov    A,R7                       
  195         mov    A,R7                       
  196         mov    A,R7                       
  197         mov    A,R7                       
  198         mov    A,R7                       
  199         mov    A,R7                       
  200         mov    A,R7                       
  201         mov    A,R7                       
  202         mov    A,R7                       
  203         mov    A,R7                       
  204         mov    A,R7                       
  205         mov    A,R7                       
  206         mov    A,R7                       
  207         mov    A,R7                       
  208         mov    A,R7                       
  209         mov    A,R7                       
  210         mov    A,R7                       
  211         mov    A,R7                       
  212         mov    A,R7                       
  213         mov    A,R7                       
  214         mov    A,R7                       
  215         jmp    W0411                      
  216   
  217   W0100:
  218         add    A,#05h                     
  219         mov    @R0,A                      
8048 TO 8051 ASSEMBLY LANGUAGE CONVERTER                                                                        PAGE   5


  220         mov    A,R2                       
  221         add    A,#0EBh                    
  222         jnc    W010C                      
  223         sel    MB1                        
  224         call   W0500                      
  225         sel    MB0                        
  226   W010C:
  227         mov    R1,#2Eh                    
  228         mov    A,@R1                      
  229         inc    @R1                        
  230         jb0    W0116                      
  231         anl    P2,#7Fh                    
  232         jmp    W0118                      
  233   
  234   W0116:
  235         orl    P2,#80h                    
  236   W0118:
  237         call   W04B4                      
  238         sel    RB0                        
  239         mov    R1,#57h                    
  240         mov    @R1,#0F9h                  
  241         mov    R0,#43h                    
  242         call   W0133                      
  243         mov    R0,#30h                    
  244         mov    A,@R0                      
  245         dec    A                          
  246         mov    @R0,A                      
  247         jnz    W0131                      
  248         mov    @R0,#15h                   
  249         sel    RB1                        
  250         mov    A,R6                       
  251         orl    A,#08h                     
  252         mov    R6,A                       
  253   W0131:
  254         jmp    W01BE                      
  255   
  256   W0133:
  257         mov    A,@R0                      
  258         jz     W0137                      
  259         inc    @R0                        
  260   W0137:
  261         inc    R0                         
  262         inc    @R1                        
  263         mov    A,@R1                      
  264         jnz    W0133                      
  265         ret                               
  266   
  267   W013D:
  268         mov    R1,#6Ch                    
  269         mov    A,@R1                      
  270         jb7    W014F                      
  271         anl    P2,#0BFh                   
  272         strt   T                          
  273         mov    A,T                        
  274         mov    R0,#67h                    
  275         mov    @R0,A                      
  276         clr    A                          
8048 TO 8051 ASSEMBLY LANGUAGE CONVERTER                                                                        PAGE   6


  277         mov    T,A                        
  278         call   W0520                      
  279   W014D:
  280         jmp    W019B                      
  281   
  282   W014F:
  283         mov    R0,#67h                    
  284         strt   T                          
  285         mov    A,T                        
  286         mov    @R0,A                      
  287         mov    R1,#61h                    
  288         mov    A,@R1                      
  289         jz     W017A                      
  290         add    A,#0F9h                    
  291         jnc    W016F                      
  292         mov    A,@R1                      
  293         cpl    A                          
  294         inc    A                          
  295         mov    T,A                        
  296         mov    A,R6                       
  297         orl    A,#40h                     
  298         mov    R6,A                       
  299         call   W0520                      
  300         call   W0469                      
  301         mov    R0,#6Bh                    
  302         mov    @R0,#00h                   
  303         jmp    W01A9                      
  304   
  305   W016F:
  306         mov    A,@R1                      
  307         cpl    A                          
  308         inc    A                          
  309         jtf    W0174                      
  310   W0174:
  311         mov    T,A                        
  312         nop                               
  313   W0176:
  314         jtf    W0187                      
  315         jmp    W0176                      ; Wait for Interrupt
  316   
  317   W017A:
  318         clr    A                          
  319         mov    T,A                        
  320         mov    A,R7                       
  321         jz     W0191                      
  322         add    A,#0FDh                    
  323         jnc    W0191                      
  324         dec    R7                         
  325         dec    R7                         
  326         jmp    W018F                      
  327   
  328   W0187:
  329         mov    A,R7                       
  330         jz     W0191                      
  331         mov    A,#03h                     
  332   W018C:
  333         dec    A                          
8048 TO 8051 ASSEMBLY LANGUAGE CONVERTER                                                                        PAGE   7


  334         jnz    W018C                      
  335   W018F:
  336         djnz   R7,W018F                   
  337   W0191:
  338         anl    P2,#0BFh                   
  339         call   W0520                      
  340         call   W0469                      
  341         mov    R1,#6Bh                    
  342         mov    @R1,#01h                   
  343   W019B:
  344         call   W059E                      
  345         mov    A,T                        
  346         cpl    A                          
  347         inc    A                          
  348         mov    R0,#69h                    
  349         add    A,@R0                      
  350   W01A3:
  351         cpl    A                          
  352         inc    A                          
  353         mov    T,A                        
  354         mov    A,@R0                      
  355         call   W0476                      
  356   W01A9:
  357         mov    R1,#47h                    
  358         mov    @R1,#0D8h                  
  359         mov    R1,#79h                    
  360         mov    A,@R1                      
  361         anl    A,#7Fh                     
  362         mov    @R1,A                      
  363         mov    A,R6                       
  364         anl    A,#0F8h                    
  365         mov    R6,A                       
  366         dis    I                          
  367         jtf    W01BA                      
  368   W01BA:
  369         dis    TCNTI                      
  370         en     TCNTI                      
  371         jmp    W040F                      
  372   
  373   W01BE:
  374         sel    RB1                        
  375         mov    A,R6                       
  376         jb6    W01E0                      
  377         jb2    W01D2                      
  378         orl    A,#24h                     
  379         mov    R6,A                       
  380         sel    MB1                        
  381         call   W0200                      
  382         sel    MB0                        
  383         sel    RB1                        
  384         mov    A,R6                       
  385         anl    A,#0DFh                    
  386         mov    R6,A                       
  387         jmp    W01E0                      
  388   
  389   W01D2:
  390         sel    RB0                        
8048 TO 8051 ASSEMBLY LANGUAGE CONVERTER                                                                        PAGE   8


  391         mov    R0,#79h                    
  392         mov    A,@R0                      
  393         jb7    W01E0                      
  394         jnt0   W01E0                      
  395         mov    @R0,#01h                   
  396         mov    R0,#4Dh                    
  397         mov    @R0,#01h                   
  398   W01E0:
  399         sel    RB1                        
  400         mov    A,R6                       
  401         jb0    W01EA                      
  402         jni    W01EA                      
  403         en     I                          
  404         orl    A,#01h                     
  405         mov    R6,A                       
  406   W01EA:
  407         jb5    W01F4                      
  408         sel    RB0                        
  409         mov    A,R2                       
  410         add    A,#0ECh                    
  411         jc     W01F4                      
  412         jmp    W0060                      
  413   
  414   W01F4:
  415         sel    RB0                        
  416         ret                               
  417   
  418         mov    A,R7                       
  419         mov    A,R7                       
  420         mov    A,R7                       
  421         mov    A,R7                       
  422         mov    A,R7                       
  423         mov    A,R7                       
  424         mov    A,R7                       
  425         mov    A,R7                       
  426         jmp    W0411                      
  427   
  428   W0200:
  429         mov    R0,#41h                    
  430         mov    A,@R0                      
  431         jnz    W020E                      
  432         jf1    W0221                      
  433         mov    R1,#38h                    
  434         mov    A,@R1                      
  435         jz     W022D                      
  436         jmp    W02C6                      
  437   
  438   W020E:
  439         mov    A,R4                       
  440         orl    A,#2Ah                     
  441         mov    R4,A                       
  442         mov    R0,#31h                    
  443         mov    A,@R0                      
  444         jb2    W021B                      
  445         mov    R0,#4Ah                    
  446         jmp    W021D                      
  447   
8048 TO 8051 ASSEMBLY LANGUAGE CONVERTER                                                                        PAGE   9


  448   W021B:
  449         mov    R0,#4Bh                    
  450   W021D:
  451         mov    A,@R0                      
  452         mov    R3,A                       
  453         clr    F1                         
  454         cpl    F1                         
  455   W0221:
  456         jmp    W0700                      
  457   
  458   W0223:
  459         add    A,#9Ch                     
  460         jnc    W0228                      
  461         clr    A                          
  462   W0228:
  463         add    A,#64h                     
  464         mov    R3,A                       
  465         jmp    W0700                      
  466   
  467   W022D:
  468         mov    R0,#73h                    
  469         mov    A,R4                       
  470   W0230:
  471         orl    A,#08h                     
  472         mov    R4,A                       
  473         jb1    W0279                      
  474         mov    A,@R0                      
  475         jnz    W023C                      
  476         mov    A,R4                       
  477         orl    A,#40h                     
  478         mov    R4,A                       
  479   W023C:
  480         mov    A,R5                       
  481         jnz    W0221                      
  482         mov    R0,#53h                    
  483         mov    A,@R0                      
  484         jnz    W0221                      
  485         mov    R0,#49h                    
  486         mov    A,@R0                      
  487         jnz    W0221                      
  488         mov    R0,#40h                    
  489         mov    A,@R0                      
  490         jnz    W02AF                      
  491         mov    R0,#5Fh                    
  492         mov    A,@R0                      
  493         mov    R0,#31h                    
  494         jz     W025C                      
  495         mov    A,@R0                      
  496         anl    A,#2Bh                     
  497         xrl    A,#28h                     
  498         jz     W0266                      
  499   W025C:
  500         mov    A,R4                       
  501         jb2    W026F                      
  502         mov    A,@R0                      
  503         anl    A,#2Fh                     
  504         xrl    A,#2Dh                     
8048 TO 8051 ASSEMBLY LANGUAGE CONVERTER                                                                        PAGE  10


  505         jnz    W026F                      
  506   W0266:
  507         mov    A,R3                       
  508         jz     W0221                      
  509         dec    A                          
  510         call   W05A5                      
  511         mov    R3,A                       
  512         jmp    W0273                      
  513   
  514   W026F:
  515         mov    A,R3                       
  516         jz     W0221                      
  517         dec    R3                         
  518   W0273:
  519         clr    F1                         
  520         cpl    F1                         
  521         call   W05BF                      
  522         jmp    W0700                      
  523   
  524   W0279:
  525         mov    @R0,#0ECh                  
  526         jb5    W02C1                      
  527         mov    R0,#2Ch                    
  528         mov    A,R3                       
  529         mov    @R0,A                      
  530         mov    R0,#31h                    
  531         mov    A,@R0                      
  532         anl    A,#0Bh                     
  533         xrl    A,#08h                     
  534         jnz    W028C                      
  535         call   W0445                      
  536   W028C:
  537         mov    A,R4                       
  538         anl    A,#0BDh                    
  539         mov    R4,A                       
  540         mov    R0,#74h                    
  541         mov    A,@R0                      
  542         jnz    W02AF                      
  543         mov    A,R4                       
  544         cpl    A                          
  545         jb4    W02AF                      
  546         mov    R0,#49h                    
  547         in     A,P2                       
  548         jb3    W02A3                      
  549         mov    A,R2                       
  550         add    A,#0D6h                    
  551         jc     W02A7                      
  552   W02A3:
  553         mov    @R0,#0D8h                  
  554         jmp    W02A9                      
  555   
  556   W02A7:
  557         mov    @R0,#88h                   
  558   W02A9:
  559         mov    R0,#40h                    
  560         mov    @R0,#0FFh                  
  561         jmp    W0700                      
8048 TO 8051 ASSEMBLY LANGUAGE CONVERTER                                                                        PAGE  11


  562   
  563   W02AF:
  564         mov    R0,#40h                    
  565         mov    @R0,#00h                   
  566         mov    R0,#2Ch                    
  567         mov    A,@R0                      
  568         mov    R0,#2Dh                    
  569         add    A,@R0                      
  570         inc    A                          
  571         clr    C                          
  572         rrc    A                          
  573         mov    R3,A                       
  574         clr    F1                         
  575         cpl    F1                         
  576         jmp    W0700                      
  577   
  578   W02C1:
  579         anl    A,#9Dh                     
  580         mov    R4,A                       
  581         jmp    W0700                      
  582   
  583   W02C6:
  584         mov    A,R4                       
  585         orl    A,#02h                     
  586         mov    R4,A                       
  587         jb3    W02DC                      
  588         mov    A,R5                       
  589         jnz    W0221                      
  590         mov    R0,#53h                    
  591         mov    A,@R0                      
  592         jnz    W0221                      
  593         mov    A,R3                       
  594         add    A,#9Ch                     
  595         jc     W0221                      
  596         inc    R3                         
  597         jmp    W0273                      
  598   
  599   W02DC:
  600         jb5    W02E8                      
  601         mov    R0,#2Dh                    
  602         mov    A,R3                       
  603         mov    @R0,A                      
  604         mov    A,R4                       
  605         anl    A,#0B7h                    
  606         mov    R4,A                       
  607         jmp    W02AF                      
  608   
  609   W02E8:
  610         anl    A,#97h                     
  611         mov    R4,A                       
  612         jmp    W0700                      
  613   
  614         mov    A,R7                       
  615         mov    A,R7                       
  616         mov    A,R7                       
  617         mov    A,R7                       
  618         mov    A,R7                       
8048 TO 8051 ASSEMBLY LANGUAGE CONVERTER                                                                        PAGE  12


  619         mov    A,R7                       
  620         mov    A,R7                       
  621         mov    A,R7                       
  622         mov    A,R7                       
  623         mov    A,R7                       
  624         mov    A,R7                       
  625         mov    A,R7                       
  626         mov    A,R7                       
  627         mov    A,R7                       
  628         mov    A,R7                       
  629         mov    A,R7                       
  630         mov    A,R7                       
  631         jmp    W0411                      
  632   
  633   W0300:
  634         in     A,P2                       
  635         jb2    W03C1                      
  636   W0303:
  637         jf0    W0309                      
  638   W0305:
  639         call   W0500                      
  640         jmp    W030B                      
  641   
  642   W0309:
  643         call   W051B                      
  644   W030B:
  645         mov    A,#32h                     
  646         jmp    W0223                      
  647   
  648   W030F:
  649         jf0    W03D9                      
  650   W0311:
  651         call   W0509                      
  652   W0313:
  653         jmp    W0200                      
  654   
  655   W0315:
  656         jf0    W03D9                      
  657         in     A,P2                       
  658         jb2    W0311                      
  659         ins    A,BUS                      
  660         jb6    W031F                      
  661         jmp    W0311                      
  662   
  663   W031F:
  664         call   W0512                      
  665         jmp    W0200                      
  666   
  667   W0323:
  668         call   W0500                      
  669   W0325:
  670         jf0    W03D9                      
  671         in     A,P2                       
  672         jb2    W0340                      
  673         jb3    W0336                      
  674         jb0    W0332                      
  675   W032E:
8048 TO 8051 ASSEMBLY LANGUAGE CONVERTER                                                                        PAGE  13


  676         mov    A,#28h                     
  677         jmp    W0223                      
  678   
  679   W0332:
  680         mov    A,#32h                     
  681         jmp    W0223                      
  682   
  683   W0336:
  684         jb0    W033C                      
  685   W0338:
  686         mov    A,#23h                     
  687         jmp    W0223                      
  688   
  689   W033C:
  690         mov    A,#2Dh                     
  691         jmp    W0223                      
  692   
  693   W0340:
  694         jb3    W0344                      
  695         jmp    W0336                      
  696   
  697   W0344:
  698         jb0    W032E                      
  699         mov    A,#1Eh                     
  700         jmp    W0223                      
  701   
  702   W034A:
  703         jf0    W03DD                      
  704   W034C:
  705         call   W0500                      
  706         jmp    W0200                      
  707   
  708   W0350:
  709         jf0    W03DD                      
  710         in     A,P2                       
  711         jb2    W0360                      
  712         jb1    W0359                      
  713         jmp    W034C                      
  714   
  715   W0359:
  716         call   W0500                      
  717   W035B:
  718         mov    R0,#4Ah                    
  719   W035D:
  720         mov    A,@R0                      
  721         jmp    W0223                      
  722   
  723   W0360:
  724         jb1    W0366                      
  725         call   W0512                      
  726         jmp    W0368                      
  727   
  728   W0366:
  729         call   W0500                      
  730   W0368:
  731         in     A,P2                       
  732         cpl    A                          
8048 TO 8051 ASSEMBLY LANGUAGE CONVERTER                                                                        PAGE  14


  733         jb3    W0313                      
  734         ins    A,BUS                      
  735         jb6    W035B                      
  736         jmp    W0200                      
  737   
  738   W0371:
  739         jf0    W0305                      
  740         mov    A,R4                       
  741   W0374:
  742         jb2    W0311                      
  743         jmp    W034C                      
  744   
  745   W0378:
  746         jf0    W0391                      
  747         mov    A,R4                       
  748         cpl    A                          
  749         jb2    W0389                      
  750         in     A,P2                       
  751         jb2    W0311                      
  752         ins    A,BUS                      
  753         cpl    A                          
  754         jb6    W0311                      
  755         call   W0512                      
  756         jmp    W0200                      
  757   
  758   W0389:
  759         in     A,P2                       
  760         cpl    A                          
  761         jb2    W034C                      
  762         jb1    W0311                      
  763         jmp    W034C                      
  764   
  765   W0391:
  766         call   W0500                      
  767   W0393:
  768         mov    A,#3Ch                     
  769         jmp    W0223                      
  770   
  771   W0397:
  772         jf0    W03A2                      
  773         call   W0500                      
  774         in     A,P2                       
  775         jb2    W0393                      
  776   W039E:
  777         mov    A,#46h                     
  778         jmp    W0223                      
  779   
  780   W03A2:
  781         call   W051B                      
  782         jmp    W039E                      
  783   
  784   W03A6:
  785         mov    A,R4                       
  786         cpl    A                          
  787         jb2    W0305                      
  788         in     A,P2                       
  789   W03AB:
8048 TO 8051 ASSEMBLY LANGUAGE CONVERTER                                                                        PAGE  15


  790         jb2    W0305                      
  791         jmp    W03D9                      
  792   
  793   W03AF:
  794         call   W0500                      
  795         mov    A,R4                       
  796         cpl    A                          
  797         jb2    W0393                      
  798         in     A,P2                       
  799         cpl    A                          
  800         jb2    W033C                      
  801         jf0    W0338                      
  802         jmp    W033C                      
  803   
  804   W03BD:
  805         jf0    W03D0                      
  806         jmp    W03DD                      
  807   
  808   W03C1:
  809         jf0    W03C7                      
  810         call   W0500                      
  811         jmp    W03C9                      
  812   
  813   W03C7:
  814         call   W051B                      
  815   W03C9:
  816         mov    R0,#36h                    
  817         mov    A,@R0                      
  818         add    A,#32h                     
  819         jmp    W0223                      
  820   
  821   W03D0:
  822         call   W051B                      
  823         mov    R0,#36h                    
  824         mov    A,@R0                      
  825         add    A,#2Ah                     
  826         jmp    W0223                      
  827   
  828   W03D9:
  829         call   W0500                      
  830         jmp    W03DF                      
  831   
  832   W03DD:
  833         call   W051B                      
  834   W03DF:
  835         mov    R0,#36h                    
  836         mov    A,@R0                      
  837         jmp    W0223                      
  838   
  839         mov    A,R7                       
  840         mov    A,R7                       
  841         mov    A,R7                       
  842         mov    A,R7                       
  843         mov    A,R7                       
  844         mov    A,R7                       
  845         mov    A,R7                       
  846         mov    A,R7                       
8048 TO 8051 ASSEMBLY LANGUAGE CONVERTER                                                                        PAGE  16


  847         mov    A,R7                       
  848         mov    A,R7                       
  849         mov    A,R7                       
  850         mov    A,R7                       
  851         mov    A,R7                       
  852         mov    A,R7                       
  853         mov    A,R7                       
  854         mov    A,R7                       
  855         mov    A,R7                       
  856         mov    A,R7                       
  857         mov    A,R7                       
  858         mov    A,R7                       
  859         mov    A,R7                       
  860         mov    A,R7                       
  861         mov    A,R7                       
  862         mov    A,R7                       
  863         mov    A,R7                       
  864         mov    A,R7                       
  865         jmp    W0411                      
  866   
  867   W0400:
  868         mov    A,PSW                      
  869         dec    A                          
  870         anl    A,#07h                     
  871         add    A,#0FAh                    
  872         jc     W0411                      
  873         jni    W040F                      
  874         en     I                          
  875         mov    A,R6                       
  876         orl    A,#01h                     
  877         mov    R6,A                       
  878   W040F:
  879         mov    A,R2                       
  880   W0410:
  881         retr                              
  882   
  883   W0411:
  884         orl    P2,#20h                    
  885         dis    TCNTI                      
  886         dis    I                          
  887         clr    A                          
  888         mov    PSW,A                      
  889         sel    MB0                        
  890         call   W0410                      
  891         sel    RB0                        
  892         movx   A,@R0                      
  893         jmp    W0000                      ; Cold Boot
  894   
  895   W041E:
  896         sel    RB0                        
  897         mov    R0,#29h                    
  898         mov    R1,#28h                    
  899         ins    A,BUS                      
  900         anl    A,#3Fh                     
  901         xch    A,@R0                      
  902         xrl    A,@R0                      
  903         jz     W042E                      
8048 TO 8051 ASSEMBLY LANGUAGE CONVERTER                                                                        PAGE  17


  904         mov    @R1,#0FDh                  
  905         jmp    W0444                      
  906   
  907   W042E:
  908         inc    @R1                        
  909         mov    A,@R1                      
  910         jnz    W0444                      
  911         mov    A,@R0                      
  912         mov    R0,#2Ah                    
  913         mov    @R0,A                      
  914         mov    A,R4                       
  915         jb7    W0444                      
  916         mov    A,@R0                      
  917         jb1    W0444                      
  918         mov    R0,#5Fh                    
  919         mov    @R0,#10h                   
  920         mov    A,R4                       
  921   W0441:
  922         orl    A,#80h                     
  923         mov    R4,A                       
  924   W0444:
  925         ret                               
  926   
  927   W0445:
  928         mov    R1,#31h                    
  929         mov    A,@R1                      
  930         mov    R1,#4Bh                    
  931         jb2    W044E                      
  932   W044C:
  933         mov    R1,#4Ah                    
  934   W044E:
  935         mov    R0,#2Ch                    
  936         mov    A,@R0                      
  937         mov    R0,#2Dh                    
  938         add    A,@R0                      
  939         clr    C                          
  940         rrc    A                          
  941         clr    C                          
  942         add    A,@R1                      
  943         add    A,@R1                      
  944         jc     W045E                      
  945         add    A,@R1                      
  946         jmp    W0461                      
  947   
  948   W045E:
  949         add    A,@R1                      
  950         clr    C                          
  951         cpl    C                          
  952   W0461:
  953         rrc    A                          
  954         clr    C                          
  955         rrc    A                          
  956         jnc    W0467                      
  957         inc    A                          
  958   W0467:
  959         mov    @R1,A                      
  960         ret                               
8048 TO 8051 ASSEMBLY LANGUAGE CONVERTER                                                                        PAGE  18


  961   
  962   W0469:
  963         mov    R0,#61h                    
  964         mov    A,@R0                      
  965         jz     W0483                      
  966         jmp    W0476                      
  967   
  968   W0470:
  969         mov    R1,#76h                    
  970   W0472:
  971         cpl    A                          
  972         inc    A                          
  973         jmp    W0478                      
  974   
  975   W0476:
  976         mov    R1,#78h                    
  977   W0478:
  978         mov    R0,#77h                    
  979         mov    @R0,A                      
  980         add    A,@R1                      
  981         mov    @R1,A                      
  982         mov    A,@R0                      
  983         add    A,R4                       
  984         jnc    W0482                      
  985         inc    R5                         
  986   W0482:
  987         mov    R4,A                       
  988   W0483:
  989         ret                               
  990   
  991   W0484:
  992         mov    R1,#66h                    
  993         mov    R0,#65h                    
  994         mov    A,@R0                      
  995         cpl    A                          
  996         inc    A                          
  997         add    A,R4                       
  998         jz     W049C                      
  999         dec    A                          
 1000         jz     W049C                      
 1001         mov    A,R4                       
 1002         mov    @R0,A                      
 1003         mov    R0,#63h                    
 1004         mov    @R0,A                      
 1005         mov    A,R5                       
 1006   W0497:
 1007         mov    @R1,A                      
 1008         mov    R1,#64h                    
 1009         mov    @R1,A                      
 1010         ret                               
 1011   
 1012   W049C:
 1013         mov    A,@R0                      
 1014         mov    R0,#63h                    
 1015         mov    @R0,A                      
 1016         mov    A,@R1                      
 1017         mov    R1,#64h                    
8048 TO 8051 ASSEMBLY LANGUAGE CONVERTER                                                                        PAGE  19


 1018         mov    @R1,A                      
 1019         ret                               
 1020   
 1021   W04A5:
 1022         mov    R0,#3Ah                    
 1023         mov    A,@R0                      
 1024         jnz    W04EA                      
 1025         mov    R0,#3Eh                    
 1026         mov    A,@R0                      
 1027         inc    @R0                        
 1028         jnz    W04EA                      
 1029   W04B0:
 1030         mov    @R0,#0F6h                  
 1031         jmp    W04B9                      
 1032   
 1033   W04B4:
 1034         mov    R0,#3Ah                    
 1035         mov    A,@R0                      
 1036         jz     W04EA                      
 1037   W04B9:
 1038         sel    RB0                        
 1039         mov    A,R3                       
 1040         sel    RB1                        
 1041         cpl    A                          
 1042         add    A,R3                       
 1043   W04BE:
 1044         inc    A                          
 1045         jz     W04E9                      
 1046         jnc    W04C6                      
 1047         dec    R3                         
 1048         jmp    W04C7                      
 1049   
 1050   W04C6:
 1051         inc    R3                         
 1052   W04C7:
 1053         mov    A,R3                       
 1054         anl    A,#03h                     
 1055         add    A,#0CDh                    
 1056         jmpp   @A                         
 1057         xrl    A,@R1                      
 1058         mov    PSW,A                      
 1059         xrl    A,R5                       
 1060         movp3  A,@A                       
 1061         orl    P1,#09h                    
 1062         anl    P1,#0F9h                   
 1063         jmp    W04EA                      
 1064   
 1065         orl    P1,#0Ah                    
 1066         anl    P1,#0FAh                   
 1067         jmp    W04EA                      
 1068   
 1069         orl    P1,#06h                    
 1070         anl    P1,#0F6h                   
 1071         jmp    W04EA                      
 1072   
 1073         orl    P1,#05h                    
 1074         anl    P1,#0F5h                   
8048 TO 8051 ASSEMBLY LANGUAGE CONVERTER                                                                        PAGE  20


 1075         jmp    W04EA                      
 1076   
 1077   W04E9:
 1078         clr    F1                         
 1079   W04EA:
 1080         ret                               
 1081   
 1082         mov    A,R7                       
 1083         mov    A,R7                       
 1084         mov    A,R7                       
 1085         mov    A,R7                       
 1086         mov    A,R7                       
 1087         mov    A,R7                       
 1088         mov    A,R7                       
 1089         mov    A,R7                       
 1090         mov    A,R7                       
 1091         mov    A,R7                       
 1092         mov    A,R7                       
 1093         mov    A,R7                       
 1094         mov    A,R7                       
 1095         mov    A,R7                       
 1096         mov    A,R7                       
 1097         mov    A,R7                       
 1098         mov    A,R7                       
 1099         mov    A,R7                       
 1100         mov    A,R7                       
 1101         jmp    W0411                      
 1102   
 1103   W0500:
 1104         call   W05D5                      
 1105         jz     W051B                      
 1106   W0504:
 1107         orl    P1,#20h                    
 1108         orl    P1,#10h                    
 1109         ret                               
 1110   
 1111   W0509:
 1112         call   W05D5                      
 1113         jz     W051B                      
 1114   W050D:
 1115         anl    P1,#0DFh                   
 1116         orl    P1,#10h                    
 1117         ret                               
 1118   
 1119   W0512:
 1120         call   W05D5                      
 1121         jz     W051B                      
 1122         mov    A,R4                       
 1123         jb6    W0504                      
 1124         jmp    W050D                      
 1125   
 1126   W051B:
 1127         anl    P1,#0DFh                   
 1128         anl    P1,#0EFh                   
 1129         ret                               
 1130   
 1131   W0520:
8048 TO 8051 ASSEMBLY LANGUAGE CONVERTER                                                                        PAGE  21


 1132         mov    R0,#6Bh                    
 1133         mov    R1,#67h                    
 1134         mov    A,@R0                      
 1135         add    A,#0FBh                    
 1136         jnc    W0530                      
 1137         mov    A,@R1                      
 1138         add    A,R4                       
 1139         jnc    W0537                      
 1140         inc    R5                         
 1141         jmp    W0537                      
 1142   
 1143   W0530:
 1144         mov    A,@R1                      
 1145         jz     W0538                      
 1146         add    A,R4                       
 1147         jc     W0537                      
 1148         dec    R5                         
 1149   W0537:
 1150         mov    R4,A                       
 1151   W0538:
 1152         call   W0484                      
 1153         mov    R0,#00h                    
 1154         mov    R1,#00h                    
 1155         mov    R1,#66h                    
 1156         mov    A,@R1                      
 1157         mov    R0,#65h                    
 1158         sel    RB0                        
 1159         mov    R2,#00h                    
 1160         clr    C                          
 1161         jz     W0556                      
 1162         dec    A                          
 1163         jz     W0555                      
 1164         dec    A                          
 1165         mov    R2,#80h                    
 1166         jz     W0556                      
 1167         mov    R2,#0C0h                   
 1168         jmp    W0556                      
 1169   
 1170   W0555:
 1171         cpl    C                          
 1172   W0556:
 1173         sel    RB1                        
 1174         mov    A,@R0                      
 1175   W0558:
 1176         mov    R1,#7Bh                    
 1177         mov    @R1,#00h                   
 1178         rrc    A                          
 1179         jnc    W0560                      
 1180         inc    @R1                        
 1181   W0560:
 1182         clr    C                          
 1183         rrc    A                          
 1184         jnc    W0566                      
 1185         inc    @R1                        
 1186         inc    @R1                        
 1187   W0566:
 1188         sel    RB0                        
8048 TO 8051 ASSEMBLY LANGUAGE CONVERTER                                                                        PAGE  22


 1189         add    A,R2                       
 1190         mov    R2,A                       
 1191         jnc    W056F                      
 1192         mov    R2,#0FFh                   
 1193         sel    RB1                        
 1194         ret                               
 1195   
 1196   W056F:
 1197         mov    A,R2                       
 1198         sel    RB1                        
 1199         mov    R1,#6Bh                    
 1200         mov    @R1,#01h                   
 1201         mov    R1,#7Bh                    
 1202         add    A,@R1                      
 1203         mov    R0,#69h                    
 1204         jc     W0592                      
 1205         mov    @R0,A                      
 1206         mov    R1,#6Ch                    
 1207         mov    A,@R1                      
 1208         jb7    W059D                      
 1209   W0582:
 1210         mov    R1,#61h                    
 1211         mov    A,@R1                      
 1212         jz     W059D                      
 1213         cpl    A                          
 1214         inc    A                          
 1215         add    A,@R0                      
 1216         mov    @R0,A                      
 1217         jnc    W0595                      
 1218         add    A,#0F6h                    
 1219         jnc    W0595                      
 1220         ret                               
 1221   
 1222   W0592:
 1223         mov    @R0,#0FFh                  
 1224         ret                               
 1225   
 1226   W0595:
 1227         mov    R1,#6Bh                    
 1228   W0597:
 1229         inc    @R1                        
 1230         sel    RB0                        
 1231         mov    A,R2                       
 1232         sel    RB1                        
 1233         add    A,@R0                      
 1234         mov    @R0,A                      
 1235   W059D:
 1236         ret                               
 1237   
 1238   W059E:
 1239         mov    A,T                        
 1240         mov    R1,A                       
 1241   W05A0:
 1242         mov    A,T                        
 1243         xrl    A,R1                       
 1244         jz     W05A0                      
 1245         ret                               
8048 TO 8051 ASSEMBLY LANGUAGE CONVERTER                                                                        PAGE  23


 1246   
 1247   W05A5:
 1248         mov    R0,A                       
 1249         mov    R1,#36h                    
 1250         mov    A,@R1                      
 1251         add    A,#0E2h                    
 1252         jnc    W05BB                      
 1253         jz     W05BB                      
 1254         cpl    A                          
 1255         inc    A                          
 1256         clr    C                          
 1257         add    A,R0                       
 1258         jc     W05BB                      
 1259         mov    A,@R1                      
 1260         add    A,#0E2h                    
 1261         jb7    W05BD                      
 1262         ret                               
 1263   
 1264   W05BB:
 1265         mov    A,R0                       
 1266         ret                               
 1267   
 1268   W05BD:
 1269         clr    A                          
 1270         ret                               
 1271   
 1272   W05BF:
 1273         mov    A,R2                       
 1274         add    A,#0DFh                    
 1275         jnc    W05CC                      
 1276         mov    A,R2                       
 1277         add    A,#0CFh                    
 1278         jnc    W05D0                      
 1279         mov    R1,#08h                    
 1280         ret                               
 1281   
 1282   W05CC:
 1283         mov    A,#0Ch                     
 1284         mov    R5,A                       
 1285         ret                               
 1286   
 1287   W05D0:
 1288         mov    R0,#53h                    
 1289         mov    @R0,#83h                   
 1290         ret                               
 1291   
 1292   W05D5:
 1293         mov    R0,#5Dh                    
 1294         mov    A,@R0                      
 1295         jz     W05F0                      
 1296         mov    R0,#5Ch                    
 1297         mov    A,@R0                      
 1298         jz     W05F0                      
 1299         mov    R1,#37h                    
 1300         mov    A,R2                       
 1301         add    A,#0DFh                    
 1302         jnc    W05EE                      
8048 TO 8051 ASSEMBLY LANGUAGE CONVERTER                                                                        PAGE  24


 1303         mov    A,R2                       
 1304         add    A,#0DEh                    
 1305         jc     W05F2                      
 1306         mov    A,@R1                      
 1307         jz     W05F4                      
 1308   W05EE:
 1309         mov    @R1,#01h                   
 1310   W05F0:
 1311         clr    A                          
 1312         ret                               
 1313   
 1314   W05F2:
 1315         mov    @R1,#00h                   
 1316   W05F4:
 1317         mov    A,#0FFh                    
 1318         ret                               
 1319   
 1320         mov    A,R7                       
 1321         mov    A,R7                       
 1322         mov    A,R7                       
 1323         mov    A,R7                       
 1324         mov    A,R7                       
 1325         mov    A,R7                       
 1326         mov    A,R7                       
 1327         jmp    W0411                      
 1328   
 1329   W0600:
 1330         mov    R0,#5Bh                    
 1331         mov    @R0,#00h                   
 1332         mov    R0,#6Eh                    
 1333         mov    @R0,#00h                   
 1334         mov    R0,#5Eh                    
 1335         mov    @R0,#00h                   
 1336         jmp    W03DD                      
 1337   
 1338   W060E:
 1339         call   W0060                      
 1340         clr    F0                         
 1341         mov    R0,#5Bh                    
 1342         mov    A,@R0                      
 1343         jz     W0617                      
 1344         cpl    F0                         
 1345   W0617:
 1346         mov    R0,#31h                    
 1347         mov    A,@R0                      
 1348         anl    A,#35h                     
 1349         xrl    A,#31h                     
 1350         jz     W0624                      
 1351         mov    R1,#5Ch                    
 1352         mov    @R1,#0E2h                  
 1353   W0624:
 1354         mov    A,@R0                      
 1355         anl    A,#2Dh                     
 1356         xrl    A,#2Dh                     
 1357         jz     W062F                      
 1358         mov    R1,#5Dh                    
 1359         mov    @R1,#88h                   
8048 TO 8051 ASSEMBLY LANGUAGE CONVERTER                                                                        PAGE  25


 1360   W062F:
 1361         call   W0631                      
 1362   W0631:
 1363         mov    R0,#31h                    
 1364         mov    A,@R0                      
 1365         anl    A,#3Fh                     
 1366         rl     A                          
 1367         add    A,#3Dh                     
 1368         mov    R0,#08h                    
 1369         mov    @R0,A                      
 1370         ret                               
 1371   
 1372         jmp    W07C7                      
 1373   
 1374         jmp    W03C7                      
 1375   
 1376         jmp    W03DD                      
 1377   
 1378         jmp    W03C7                      
 1379   
 1380         jmp    W03DD                      
 1381   
 1382         jmp    W03DD                      
 1383   
 1384         jmp    W03DD                      
 1385   
 1386         jmp    W03DD                      
 1387   
 1388         jmp    W03BD                      
 1389   
 1390         jmp    W03C7                      
 1391   
 1392         jmp    W03D0                      
 1393   
 1394         jmp    W03D0                      
 1395   
 1396         jmp    W03BD                      
 1397   
 1398         jmp    W03D0                      
 1399   
 1400         jmp    W03D0                      
 1401   
 1402         jmp    W03D0                      
 1403   
 1404         jmp    W03DD                      
 1405   
 1406         jmp    W03C7                      
 1407   
 1408         jmp    W03DD                      
 1409   
 1410         jmp    W03C7                      
 1411   
 1412         jmp    W03DD                      
 1413   
 1414         jmp    W03DD                      
 1415   
 1416         jmp    W03DD                      
8048 TO 8051 ASSEMBLY LANGUAGE CONVERTER                                                                        PAGE  26


 1417   
 1418         jmp    W03DD                      
 1419   
 1420         jmp    W03BD                      
 1421   
 1422         jmp    W03C7                      
 1423   
 1424         jmp    W03D0                      
 1425   
 1426         jmp    W03D0                      
 1427   
 1428         jmp    W03BD                      
 1429   
 1430         jmp    W03D0                      
 1431   
 1432         jmp    W03D0                      
 1433   
 1434         jmp    W03D0                      
 1435   
 1436         jmp    W03DD                      
 1437   
 1438         jmp    W0300                      ; Frequency Data
 1439   
 1440         jmp    W03DD                      
 1441   
 1442         jmp    W03C1                      
 1443   
 1444         jmp    W03DD                      
 1445   
 1446         jmp    W03DD                      
 1447   
 1448         jmp    W03DD                      
 1449   
 1450         jmp    W03DD                      
 1451   
 1452         jmp    W030F                      
 1453   
 1454         jmp    W034A                      ; Tune Data
 1455   
 1456         jmp    W03D9                      
 1457   
 1458         jmp    W0303                      
 1459   
 1460         jmp    W030F                      
 1461   
 1462         jmp    W0371                      
 1463   
 1464         jmp    W03D9                      
 1465   
 1466         jmp    W03A6                      
 1467   
 1468         jmp    W03DD                      
 1469   
 1470         jmp    W03C1                      
 1471   
 1472         jmp    W03DD                      
 1473   
8048 TO 8051 ASSEMBLY LANGUAGE CONVERTER                                                                        PAGE  27


 1474         jmp    W03C1                      
 1475   
 1476         jmp    W03DD                      
 1477   
 1478         jmp    W03DD                      
 1479   
 1480         jmp    W03DD                      
 1481   
 1482         jmp    W03DD                      
 1483   
 1484         jmp    W0315                      
 1485   
 1486         jmp    W0350                      
 1487   
 1488         jmp    W03D9                      
 1489   
 1490         jmp    W0397                      
 1491   
 1492         jmp    W0315                      
 1493   
 1494         jmp    W0378                      
 1495   
 1496         jmp    W0323                      
 1497   
 1498         jmp    W03AF                      
 1499   
 1500         mov    A,R7                       
 1501         mov    A,R7                       
 1502         mov    A,R7                       
 1503         mov    A,R7                       
 1504         mov    A,R7                       
 1505         mov    A,R7                       
 1506         mov    A,R7                       
 1507         mov    A,R7                       
 1508         mov    A,R7                       
 1509         mov    A,R7                       
 1510         mov    A,R7                       
 1511         mov    A,R7                       
 1512         mov    A,R7                       
 1513         mov    A,R7                       
 1514         mov    A,R7                       
 1515         mov    A,R7                       
 1516         mov    A,R7                       
 1517         mov    A,R7                       
 1518         mov    A,R7                       
 1519         mov    A,R7                       
 1520         mov    A,R7                       
 1521         mov    A,R7                       
 1522         mov    A,R7                       
 1523         mov    A,R7                       
 1524         mov    A,R7                       
 1525         mov    A,R7                       
 1526         mov    A,R7                       
 1527         mov    A,R7                       
 1528         mov    A,R7                       
 1529         mov    A,R7                       
 1530         mov    A,R7                       
8048 TO 8051 ASSEMBLY LANGUAGE CONVERTER                                                                        PAGE  28


 1531         mov    A,R7                       
 1532         mov    A,R7                       
 1533         mov    A,R7                       
 1534         mov    A,R7                       
 1535         mov    A,R7                       
 1536         mov    A,R7                       
 1537         mov    A,R7                       
 1538         mov    A,R7                       
 1539         mov    A,R7                       
 1540         mov    A,R7                       
 1541         mov    A,R7                       
 1542         mov    A,R7                       
 1543         mov    A,R7                       
 1544         mov    A,R7                       
 1545         mov    A,R7                       
 1546         mov    A,R7                       
 1547         mov    A,R7                       
 1548         mov    A,R7                       
 1549         mov    A,R7                       
 1550         mov    A,R7                       
 1551         mov    A,R7                       
 1552         mov    A,R7                       
 1553         mov    A,R7                       
 1554         mov    A,R7                       
 1555         mov    A,R7                       
 1556         mov    A,R7                       
 1557         mov    A,R7                       
 1558         mov    A,R7                       
 1559         mov    A,R7                       
 1560         mov    A,R7                       
 1561         mov    A,R7                       
 1562         mov    A,R7                       
 1563         mov    A,R7                       
 1564         mov    A,R7                       
 1565         jmp    W0411                      
 1566   
 1567   W0700:
 1568         en     TCNTI                      
 1569         call   W0410                      
 1570         mov    R0,#47h                    
 1571         mov    A,@R0                      
 1572         jnz    W070A                      
 1573         jmp    W0411                      
 1574   
 1575   W070A:
 1576         inc    R0                         
 1577         mov    A,@R0                      
 1578         jnz    W0710                      
 1579         jmp    W0411                      
 1580   
 1581   W0710:
 1582         call   W07A4                      
 1583   W0712:
 1584         call   W0060                      
 1585         mov    R0,#31h                    
 1586         mov    A,@R0                      
 1587         anl    A,#0Dh                     
8048 TO 8051 ASSEMBLY LANGUAGE CONVERTER                                                                        PAGE  29


 1588         xrl    A,#0Dh                     
 1589         jnz    W0724                      
 1590         mov    A,R4                       
 1591   W071E:
 1592         jb2    W0724                      
 1593         anl    P2,#0EFh                   
 1594         jmp    W0726                      
 1595   
 1596   W0724:
 1597         orl    P2,#10h                    
 1598   W0726:
 1599         sel    MB1                        
 1600         mov    R0,#50h                    
 1601   W0729:
 1602         mov    A,@R0                      
 1603   W072A:
 1604         jb0    W0731                      
 1605         call   W0100                      
 1606         sel    MB0                        
 1607         jmp    W0734                      
 1608   
 1609   W0731:
 1610         call   W0600                      
 1611         sel    MB0                        
 1612   W0734:
 1613         call   W07A4                      
 1614         call   W0060                      
 1615         sel    RB0                        
 1616         in     A,P2                       
 1617         jb3    W0745                      
 1618         mov    A,#0A7h                    
 1619         add    A,R2                       
 1620         jc     W0759                      
 1621         mov    A,#0BEh                    
 1622   W0743:
 1623         jmp    W074C                      
 1624   
 1625   W0745:
 1626         mov    A,#0B2h                    
 1627         add    A,R2                       
 1628         jc     W0759                      
 1629         mov    A,#0C4h                    
 1630   W074C:
 1631         add    A,R2                       
 1632         jnc    W0753                      
 1633         mov    A,R4                       
 1634         cpl    A                          
 1635   W0751:
 1636         jb2    W0759                      
 1637   W0753:
 1638         mov    A,R4                       
 1639         orl    A,#04h                     
 1640         mov    R4,A                       
 1641         jmp    W075D                      
 1642   
 1643   W0759:
 1644         mov    A,R4                       
8048 TO 8051 ASSEMBLY LANGUAGE CONVERTER                                                                        PAGE  30


 1645         anl    A,#0FBh                    
 1646         mov    R4,A                       
 1647   W075D:
 1648         mov    R0,#36h                    
 1649         mov    @R0,#32h                   
 1650         ins    A,BUS                      
 1651         jb4    W0766                      
 1652         mov    @R0,#19h                   
 1653   W0766:
 1654         mov    R1,#3Ch                    
 1655         mov    R0,#2Ah                    
 1656         mov    A,@R0                      
 1657         mov    R0,#31h                    
 1658   W076D:
 1659         mov    @R0,A                      
 1660         xrl    A,@R1                      
 1661         mov    R0,#41h                    
 1662         mov    @R0,#00h                   
 1663         jz     W079E                      
 1664         mov    @R0,#0FFh                  
 1665         in     A,P2                       
 1666         cpl    A                          
 1667         jb2    W079A                      
 1668         ins    A,BUS                      
 1669         jb7    W079A                      
 1670         mov    R0,#31h                    
 1671         mov    A,@R0                      
 1672         anl    A,#3Bh                     
 1673         xrl    A,#38h                     
 1674   W0785:
 1675         jz     W0794                      
 1676         mov    A,@R0                      
 1677         xrl    A,#3Dh                     
 1678         jnz    W079A                      
 1679         mov    A,R4                       
 1680   W078D:
 1681         cpl    A                          
 1682         jb2    W0794                      
 1683         mov    R0,#74h                    
 1684         mov    @R0,#0CEh                  
 1685   W0794:
 1686         mov    A,R4                       
 1687         orl    A,#10h                     
 1688         mov    R4,A                       
 1689         jmp    W079E                      
 1690   
 1691   W079A:
 1692         mov    A,R4                       
 1693         anl    A,#0EFh                    
 1694         mov    R4,A                       
 1695   W079E:
 1696         mov    R0,#31h                    
 1697         mov    A,@R0                      
 1698         mov    @R1,A                      
 1699         jmp    W060E                      
 1700   
 1701   W07A4:
8048 TO 8051 ASSEMBLY LANGUAGE CONVERTER                                                                        PAGE  31


 1702         sel    RB1                        
 1703         mov    A,R6                       
 1704         jb3    W07A9                      
 1705         ret                               
 1706   
 1707   W07A9:
 1708         anl    A,#0F7h                    
 1709         mov    R6,A                       
 1710         sel    RB0                        
 1711         mov    R1,#57h                    
 1712         mov    @R1,#0F9h                  
 1713         mov    R0,#6Eh                    
 1714         call   W0133                      
 1715         mov    R0,#4Eh                    
 1716         mov    A,@R0                      
 1717         jz     W07BC                      
 1718         inc    @R0                        
 1719         ret                               
 1720   
 1721   W07BC:
 1722         mov    @R0,#0F7h                  
 1723         mov    R1,#57h                    
 1724         mov    @R1,#0FAh                  
 1725         mov    R0,#5Ah                    
 1726         call   W0133                      
 1727         ret                               
 1728   
 1729   W07C7:
 1730         mov    R0,#50h                    
 1731         mov    A,@R0                      
 1732         jb1    W07F6                      
 1733         jb0    W07F4                      
 1734         mov    R1,#41h                    
 1735         mov    A,@R1                      
 1736         jz     W07D7                      
 1737         mov    A,@R0                      
 1738         orl    A,#04h                     
 1739         mov    @R0,A                      
 1740   W07D7:
 1741         mov    A,@R0                      
 1742         cpl    A                          
 1743         jb2    W07F6                      
 1744         mov    A,R2                       
 1745         add    A,#0D6h                    
 1746         jc     W07F6                      
 1747         mov    A,@R0                      
 1748         anl    A,#0FBh                    
 1749         orl    A,#11h                     
 1750         mov    @R0,A                      
 1751         mov    R1,#7Ch                    
 1752         mov    @R1,#06h                   
 1753         mov    R1,#6Fh                    
 1754         mov    @R1,#0FBh                  
 1755         mov    R1,#4Dh                    
 1756         mov    @R1,#00h                   
 1757         anl    P1,#3Fh                    
 1758   W07F4:
8048 TO 8051 ASSEMBLY LANGUAGE CONVERTER                                                                        PAGE  32


 1759         jmp    W03DD                      
 1760   
 1761   W07F6:
 1762         jmp    W0600                      
 1763   
 1764         mov    A,R7                       
 1765         mov    A,R7                       
 1766         mov    A,R7                       
 1767         mov    A,R7                       
 1768   W07FC:
 1769         mov    A,R7                       
 1770         mov    A,R7                       
 1771   W07FE:
 1772         jmp    W0411                      
 1773   
 1774         sel    RB0                        
 1775         orl    P2,#20h                    
 1776         anl    P2,#7Fh                    
 1777         mov    R1,#7Eh                    
 1778         mov    A,@R1                      
 1779         xrl    A,#2Eh                     
 1780         jnz    W0812                      
 1781         inc    R1                         
 1782         mov    A,@R1                      
 1783         xrl    A,#0D2h                    
 1784         jz     W0814                      
 1785   W0812:
 1786         jmp    W072A                      
 1787   
 1788   W0814:
 1789         mov    R0,#7Dh                    
 1790         clr    A                          
 1791   W0817:
 1792         mov    @R0,A                      
 1793         djnz   R0,W0817                   
 1794         call   W01A3                      
 1795         mov    R0,#36h                    
 1796         mov    @R0,#32h                   
 1797         ins    A,BUS                      
 1798         jb4    W0825                      
 1799         mov    @R0,#19h                   
 1800   W0825:
 1801         mov    A,@R0                      
 1802         mov    R0,#4Ah                    
 1803         mov    @R0,A                      
 1804         mov    R0,#4Bh                    
 1805         mov    @R0,A                      
 1806         mov    R0,#0Bh                    
 1807         ins    A,BUS                      
 1808         jb1    W0835                      
 1809         mov    A,R4                       
 1810         orl    A,#80h                     
 1811         mov    R4,A                       
 1812   W0835:
 1813         dis    I                          
 1814         dis    TCNTI                      
 1815         sel    RB1                        
8048 TO 8051 ASSEMBLY LANGUAGE CONVERTER                                                                        PAGE  33


 1816   W0838:
 1817         mov    R1,#00h                    
 1818         sel    RB0                        
 1819         clr    A                          
 1820   W083C:
 1821         jni    W0849                      
 1822         orl    P2,#40h                    
 1823         clr    A                          
 1824   W0841:
 1825         jni    W0851                      
 1826         jnz    W0841                      
 1827         call   W00C8+1                    
 1828         jmp    W0041                      
 1829   
 1830   W0849:
 1831         anl    P2,#0BFh                   
 1832         jnz    W083C                      
 1833         call   W00C8+1                    
 1834         jmp    W003B+1                    
 1835   
 1836   W0851:
 1837         clr    A                          
 1838         mov    T,A                        
 1839         strt   T                          
 1840         jtf    W0856                      
 1841   W0856:
 1842         jni    W086A                      
 1843         orl    P2,#40h                    
 1844         clr    A                          
 1845         jni    W0879                      
 1846         jnz    W0861                      
 1847         call   W00C8+1                    
 1848   W0861:
 1849         jtf    W0865                      
 1850         jmp    W005A+1                    
 1851   
 1852   W0865:
 1853         sel    RB1                        
 1854         inc    R5                         
 1855         sel    RB0                        
 1856         jmp    W005A+1                    
 1857   
 1858   W086A:
 1859         anl    P2,#0BFh                   
 1860         jnz    W0870                      
 1861         call   W00C8+1                    
 1862   W0870:
 1863         jtf    W0874                      
 1864         jmp    W0055+1                    
 1865   
 1866   W0874:
 1867         sel    RB1                        
 1868         inc    R5                         
 1869         sel    RB0                        
 1870         jmp    W0055+1                    
 1871   
 1872   W0879:
8048 TO 8051 ASSEMBLY LANGUAGE CONVERTER                                                                        PAGE  34


 1873         mov    A,T                        
 1874         sel    RB1                        
 1875         mov    R4,A                       
 1876         mov    A,R5                       
 1877         add    A,#0FDh                    
 1878         jc     W0838                      
 1879         strt   T                          
 1880         clr    A                          
 1881         mov    T,A                        
 1882         sel    RB0                        
 1883         en     I                          
 1884         anl    P2,#0DFh                   
 1885         call   W00C8+1                    
 1886         mov    R1,#32h                    
 1887         call   W00C2                      
 1888         call   W00C8+1                    
 1889         sel    RB0                        
 1890         mov    R1,#31h                    
 1891         mov    R0,#35h                    
 1892         ins    A,BUS                      
 1893         mov    @R0,A                      
 1894         mov    @R1,A                      
 1895         mov    R3,#64h                    
 1896         call   W00B7                      
 1897         mov    R3,#32h                    
 1898         call   W00B7                      
 1899         mov    R0,#3Ah                    
 1900         inc    @R0                        
 1901   W08A3:
 1902         sel    MB0                        
 1903         call   W0060                      
 1904         sel    MB1                        
 1905         mov    A,R2                       
 1906         add    A,#4Dh                     
 1907         jc     W08A3                      
 1908         mov    R0,#5Bh                    
 1909         mov    @R0,#0ECh                  
 1910         mov    R0,#6Ch                    
 1911         mov    @R0,#06h                   
 1912         sel    MB0                        
 1913         jmp    W0700                      
 1914   
 1915         clr    F1                         
 1916         cpl    F1                         
 1917         jf1    W08BC                      
 1918         ret                               
 1919   
 1920   W08BC:
 1921         sel    MB0                        
 1922         call   W0060                      
 1923         sel    MB1                        
 1924         jmp    W00B9                      
 1925   
 1926   W08C2:
 1927         mov    R0,#63h                    
 1928   W08C4:
 1929         djnz   R0,W08C4                   
8048 TO 8051 ASSEMBLY LANGUAGE CONVERTER                                                                        PAGE  35


 1930         djnz   R1,W08C2                   
 1931         ret                               
 1932   
 1933         orl    P2,#80h                    
 1934         mov    A,#64h                     
 1935   W08CD:
 1936         dec    A                          
 1937         jnz    W08CD                      
 1938         anl    P2,#7Fh                    
 1939         mov    A,#01h                     
 1940         ret                               
 1941   
 1942         mov    A,R7                       
 1943         mov    A,R7                       
 1944         mov    A,R7                       
 1945         mov    A,R7                       
 1946         mov    A,R7                       
 1947         mov    A,R7                       
 1948         mov    A,R7                       
 1949         mov    A,R7                       
 1950         mov    A,R7                       
 1951         mov    A,R7                       
 1952         mov    A,R7                       
 1953         mov    A,R7                       
 1954         mov    A,R7                       
 1955         mov    A,R7                       
 1956         mov    A,R7                       
 1957         mov    A,R7                       
 1958         mov    A,R7                       
 1959         mov    A,R7                       
 1960         mov    A,R7                       
 1961         mov    A,R7                       
 1962         mov    A,R7                       
 1963         mov    A,R7                       
 1964         mov    A,R7                       
 1965         mov    A,R7                       
 1966         mov    A,R7                       
 1967         mov    A,R7                       
 1968         mov    A,R7                       
 1969         mov    A,R7                       
 1970         mov    A,R7                       
 1971         mov    A,R7                       
 1972         mov    A,R7                       
 1973         mov    A,R7                       
 1974         mov    A,R7                       
 1975         mov    A,R7                       
 1976         mov    A,R7                       
 1977         mov    A,R7                       
 1978         mov    A,R7                       
 1979         mov    A,R7                       
 1980         mov    A,R7                       
 1981         mov    A,R7                       
 1982         sel    MB0                        
 1983         jmp    W0411                      
 1984   
 1985         mov    R0,#6Eh                    
 1986         mov    R1,#7Dh                    
8048 TO 8051 ASSEMBLY LANGUAGE CONVERTER                                                                        PAGE  36


 1987         mov    A,@R1                      
 1988         jb0    W0977                      
 1989         mov    A,@R0                      
 1990         jnz    W0911                      
 1991         mov    R0,#52h                    
 1992         mov    A,@R0                      
 1993         jnz    W0911                      
 1994         anl    P1,#0BFh                   
 1995   W0911:
 1996         mov    R0,#6Fh                    
 1997         mov    A,@R0                      
 1998         jnz    W0918                      
 1999         anl    P1,#7Fh                    
 2000   W0918:
 2001         in     A,P2                       
 2002         cpl    A                          
 2003         jb3    W0921                      
 2004         mov    A,R2                       
 2005         add    A,#8Eh                     
 2006         jmp    W0123+1                    
 2007   
 2008   W0921:
 2009         mov    A,R2                       
 2010         add    A,#70h                     
 2011         jnc    W0936                      
 2012         orl    P1,#40h                    
 2013         orl    P1,#80h                    
 2014         mov    R0,#6Eh                    
 2015         mov    @R0,#0FCh                  
 2016         mov    R0,#6Fh                    
 2017         mov    @R0,#0E7h                  
 2018         mov    R0,#55h                    
 2019         mov    @R0,#0FFh                  
 2020   W0936:
 2021         mov    R0,#55h                    
 2022         mov    A,@R0                      
 2023         jz     W094D                      
 2024         mov    R1,#31h                    
 2025         mov    A,@R1                      
 2026         jb0    W0949                      
 2027         mov    R1,#6Fh                    
 2028         mov    A,@R1                      
 2029         jnz    W094D                      
 2030         mov    @R0,#00h                   
 2031         jmp    W014D                      
 2032   
 2033   W0949:
 2034         mov    R0,#6Fh                    
 2035         mov    @R0,#0E7h                  
 2036   W094D:
 2037         mov    R0,#31h                    
 2038         mov    A,@R0                      
 2039         anl    A,#05h                     
 2040         xrl    A,#05h                     
 2041         jnz    W0963                      
 2042         in     A,P2                       
 2043         jb3    W0963                      
8048 TO 8051 ASSEMBLY LANGUAGE CONVERTER                                                                        PAGE  37


 2044         mov    A,R2                       
 2045         add    A,#0A0h                    
 2046         jnc    W09A2                      
 2047         mov    R0,#4Ch                    
 2048         mov    @R0,#0FFh                  
 2049         ret                               
 2050   
 2051   W0963:
 2052         mov    R0,#4Ch                    
 2053         mov    A,@R0                      
 2054         jz     W09A2                      
 2055         mov    @R0,#00h                   
 2056         orl    P1,#40h                    
 2057         orl    P1,#80h                    
 2058         mov    R0,#6Fh                    
 2059         mov    @R0,#0E7h                  
 2060         mov    R0,#52h                    
 2061         mov    @R0,#98h                   
 2062         ret                               
 2063   
 2064   W0977:
 2065         mov    A,@R0                      
 2066         jnz    W09A2                      
 2067         mov    R0,#31h                    
 2068         mov    A,@R1                      
 2069         jb1    W0998                      
 2070         jb2    W099C                      
 2071         mov    A,@R0                      
 2072         jb1    W0990                      
 2073   W0984:
 2074         anl    P1,#0BFh                   
 2075   W0986:
 2076         mov    R0,#5Eh                    
 2077         mov    A,@R0                      
 2078         jnz    W09A2                      
 2079         anl    P1,#7Fh                    
 2080         mov    @R1,#00h                   
 2081         ret                               
 2082   
 2083   W0990:
 2084         jb5    W0995                      
 2085         mov    @R1,#03h                   
 2086         ret                               
 2087   
 2088   W0995:
 2089         mov    @R1,#05h                   
 2090         ret                               
 2091   
 2092   W0998:
 2093         mov    A,@R0                      
 2094         jb5    W0984                      
 2095         ret                               
 2096   
 2097   W099C:
 2098         anl    P1,#0BFh                   
 2099         mov    A,@R0                      
 2100         cpl    A                          
8048 TO 8051 ASSEMBLY LANGUAGE CONVERTER                                                                        PAGE  38


 2101         jb1    W0986                      
 2102   W09A2:
 2103         ret                               
 2104   
 2105         sel    RB0                        
 2106         mov    A,#0F9h                    
 2107         outl   P1,A                       
 2108         orl    P2,#5Fh                    
 2109         mov    R0,#30h                    
 2110         mov    @R0,#15h                   
 2111         mov    R1,#2Fh                    
 2112         mov    @R1,#05h                   
 2113         mov    R0,#7Dh                    
 2114         mov    @R0,#01h                   
 2115         mov    R0,#6Eh                    
 2116         mov    @R0,#6Ah                   
 2117         mov    R0,#5Eh                    
 2118         mov    @R0,#0C4h                  
 2119         mov    R0,#2Ch                    
 2120         mov    @R0,#32h                   
 2121         inc    R0                         
 2122         mov    @R0,#32h                   
 2123         mov    R0,#5Ch                    
 2124         mov    @R0,#0E2h                  
 2125         mov    R0,#5Dh                    
 2126         mov    @R0,#88h                   
 2127         mov    R2,#06h                    
 2128         mov    R0,#3Eh                    
 2129         mov    @R0,#0F5h                  
 2130         mov    R0,#5Ah                    
 2131         mov    @R0,#0FEh                  
 2132         ret                               
 2133   
 2134         mov    A,R7                       
 2135         mov    A,R7                       
 2136         mov    A,R7                       
 2137         mov    A,R7                       
 2138         mov    A,R7                       
 2139         mov    A,R7                       
 2140         mov    A,R7                       
 2141         mov    A,R7                       
 2142         mov    A,R7                       
 2143         mov    A,R7                       
 2144         mov    A,R7                       
 2145         mov    A,R7                       
 2146         mov    A,R7                       
 2147         mov    A,R7                       
 2148         mov    A,R7                       
 2149         mov    A,R7                       
 2150         mov    A,R7                       
 2151         mov    A,R7                       
 2152         mov    A,R7                       
 2153         mov    A,R7                       
 2154         mov    A,R7                       
 2155         mov    A,R7                       
 2156         mov    A,R7                       
 2157         mov    A,R7                       
8048 TO 8051 ASSEMBLY LANGUAGE CONVERTER                                                                        PAGE  39


 2158         mov    A,R7                       
 2159         mov    A,R7                       
 2160         mov    A,R7                       
 2161         mov    A,R7                       
 2162         mov    A,R7                       
 2163         mov    A,R7                       
 2164         mov    A,R7                       
 2165         mov    A,R7                       
 2166         mov    A,R7                       
 2167         mov    A,R7                       
 2168         mov    A,R7                       
 2169         mov    A,R7                       
 2170         mov    A,R7                       
 2171         mov    A,R7                       
 2172         sel    MB0                        
 2173         jmp    W0411                      
 2174   
 2175         sel    RB1                        
 2176         mov    R3,#00h                    
 2177         sel    RB0                        
 2178         mov    R0,#33h                    
 2179         mov    A,R2                       
 2180         add    A,#0EBh                    
 2181         jc     W0A0F                      
 2182         mov    @R0,#01h                   
 2183         jmp    W0215+1                    
 2184   
 2185   W0A0F:
 2186         mov    A,R2                       
 2187         add    A,#0EAh                    
 2188         jnc    W0A16                      
 2189         mov    @R0,#00h                   
 2190   W0A16:
 2191         mov    R0,#56h                    
 2192         mov    R1,#6Ch                    
 2193         mov    A,@R0                      
 2194         jb7    W0A36                      
 2195         mov    R0,#50h                    
 2196         mov    A,@R0                      
 2197         cpl    A                          
 2198         jb0    W0A27                      
 2199         mov    R0,#7Ch                    
 2200         jmp    W0230                      
 2201   
 2202   W0A27:
 2203         mov    R0,#46h                    
 2204         mov    A,@R0                      
 2205         jz     W0A40                      
 2206         jmp    W022D+1                    
 2207   
 2208         mov    R0,#6Ah                    
 2209         mov    A,@R0                      
 2210         mov    @R1,A                      
 2211         jb7    W0A87                      
 2212         jmp    W0400                      ; Restart
 2213   
 2214   W0A36:
8048 TO 8051 ASSEMBLY LANGUAGE CONVERTER                                                                        PAGE  40


 2215         mov    @R0,#00h                   
 2216         mov    R0,#71h                    
 2217         mov    @R0,#0F9h                  
 2218         mov    R0,#6Ah                    
 2219         mov    A,@R0                      
 2220         mov    @R1,A                      
 2221   W0A40:
 2222         mov    R0,#39h                    
 2223         mov    A,@R0                      
 2224         swap   A                          
 2225         orl    A,#01h                     
 2226         mov    @R0,A                      
 2227         mov    R0,#31h                    
 2228         mov    A,@R0                      
 2229         anl    A,#0Fh                     
 2230         xrl    A,#03h                     
 2231         jz     W0A56                      
 2232         xrl    A,#02h                     
 2233         jnz    W0A66                      
 2234         jmp    W028A+1                    
 2235   
 2236   W0A56:
 2237         mov    R0,#61h                    
 2238         mov    A,R2                       
 2239         add    A,#0EAh                    
 2240         jc     W0A62                      
 2241         mov    @R1,#01h                   
 2242         mov    @R0,#02h                   
 2243         ret                               
 2244   
 2245   W0A62:
 2246         mov    @R1,#04h                   
 2247         jmp    W0400                      ; Restart
 2248   
 2249   W0A66:
 2250         mov    A,@R0                      
 2251         anl    A,#0Bh                     
 2252         xrl    A,#08h                     
 2253         mov    R0,#33h                    
 2254         jnz    W0A82                      
 2255         mov    A,@R0                      
 2256         jz     W0A89                      
 2257         in     A,P2                       
 2258         jb2    W0A7B                      
 2259         ins    A,BUS                      
 2260         cpl    A                          
 2261         jb7    W0A7B                      
 2262         jmp    W03DD                      
 2263   
 2264   W0A7B:
 2265         mov    @R1,#0FCh                  
 2266         mov    R0,#61h                    
 2267         mov    @R0,#02h                   
 2268         ret                               
 2269   
 2270   W0A82:
 2271         mov    A,@R0                      
8048 TO 8051 ASSEMBLY LANGUAGE CONVERTER                                                                        PAGE  41


 2272         jz     W0A89                      
 2273         jmp    W03DD                      
 2274   
 2275   W0A87:
 2276         jmp    W03C5+1                    
 2277   
 2278   W0A89:
 2279         jmp    W0300                      ; Frequency Data
 2280   
 2281         mov    A,R2                       
 2282         add    A,#0D2h                    
 2283         jnc    W0A94                      
 2284         mov    @R1,#0FCh                  
 2285         jmp    W0400                      ; Restart
 2286   
 2287   W0A94:
 2288         jmp    W03DD                      
 2289   
 2290         mov    A,R7                       
 2291         mov    A,R7                       
 2292         mov    A,R7                       
 2293         mov    A,R7                       
 2294         mov    A,R7                       
 2295         mov    A,R7                       
 2296         mov    A,R7                       
 2297         mov    A,R7                       
 2298         mov    A,R7                       
 2299         mov    A,R7                       
 2300         mov    A,R7                       
 2301         mov    A,R7                       
 2302         mov    A,R7                       
 2303         mov    A,R7                       
 2304         mov    A,R7                       
 2305         mov    A,R7                       
 2306         mov    A,R7                       
 2307         mov    A,R7                       
 2308         mov    A,R7                       
 2309         mov    A,R7                       
 2310         mov    A,R7                       
 2311         mov    A,R7                       
 2312         mov    A,R7                       
 2313         mov    A,R7                       
 2314         mov    A,R7                       
 2315         mov    A,R7                       
 2316         mov    A,R7                       
 2317         mov    A,R7                       
 2318         mov    A,R7                       
 2319         mov    A,R7                       
 2320         mov    A,R7                       
 2321         mov    A,R7                       
 2322         mov    A,R7                       
 2323         mov    A,R7                       
 2324         mov    A,R7                       
 2325         mov    A,R7                       
 2326         mov    A,R7                       
 2327         mov    A,R7                       
 2328         mov    A,R7                       
8048 TO 8051 ASSEMBLY LANGUAGE CONVERTER                                                                        PAGE  42


 2329         mov    A,R7                       
 2330         mov    A,R7                       
 2331         mov    A,R7                       
 2332         mov    A,R7                       
 2333         mov    A,R7                       
 2334         mov    A,R7                       
 2335         mov    A,R7                       
 2336         mov    A,R7                       
 2337         mov    A,R7                       
 2338         mov    A,R7                       
 2339         mov    A,R7                       
 2340         mov    A,R7                       
 2341         mov    A,R7                       
 2342         mov    A,R7                       
 2343         mov    A,R7                       
 2344         mov    A,R7                       
 2345         mov    A,R7                       
 2346         mov    A,R7                       
 2347         mov    A,R7                       
 2348         mov    A,R7                       
 2349         mov    A,R7                       
 2350         mov    A,R7                       
 2351         mov    A,R7                       
 2352         mov    A,R7                       
 2353         mov    A,R7                       
 2354         mov    A,R7                       
 2355         mov    A,R7                       
 2356         mov    A,R7                       
 2357         mov    A,R7                       
 2358         mov    A,R7                       
 2359         mov    A,R7                       
 2360         mov    A,R7                       
 2361         mov    A,R7                       
 2362         mov    A,R7                       
 2363         mov    A,R7                       
 2364         mov    A,R7                       
 2365         mov    A,R7                       
 2366         mov    A,R7                       
 2367         mov    A,R7                       
 2368         mov    A,R7                       
 2369         mov    A,R7                       
 2370         mov    A,R7                       
 2371         mov    A,R7                       
 2372         mov    A,R7                       
 2373         mov    A,R7                       
 2374         mov    A,R7                       
 2375         mov    A,R7                       
 2376         mov    A,R7                       
 2377         mov    A,R7                       
 2378         mov    A,R7                       
 2379         mov    A,R7                       
 2380         mov    A,R7                       
 2381         mov    A,R7                       
 2382         mov    A,R7                       
 2383         mov    A,R7                       
 2384         mov    A,R7                       
 2385         mov    A,R7                       
8048 TO 8051 ASSEMBLY LANGUAGE CONVERTER                                                                        PAGE  43


 2386         mov    A,R7                       
 2387         mov    A,R7                       
 2388         mov    A,R7                       
 2389         mov    A,R7                       
 2390         mov    A,R7                       
 2391         mov    A,R7                       
 2392         mov    A,R7                       
 2393         sel    MB0                        
 2394         jmp    W0411                      
 2395   
 2396         sel    RB0                        
 2397         mov    R1,#6Dh                    
 2398         mov    R0,#31h                    
 2399         mov    A,@R0                      
 2400         anl    A,#0Ah                     
 2401         xrl    A,#0Ah                     
 2402         jz     W0B23                      
 2403         in     A,P2                       
 2404         jb2    W0B13                      
 2405   W0B0F:
 2406         mov    R2,#06h                    
 2407         jmp    W0325                      
 2408   
 2409   W0B13:
 2410         jb3    W0B0F                      
 2411         mov    A,@R0                      
 2412         anl    A,#3Eh                     
 2413         xrl    A,#38h                     
 2414         jnz    W0B0F                      
 2415         ins    A,BUS                      
 2416         jb6    W0B0F                      
 2417         mov    R2,#04h                    
 2418         jmp    W0325                      
 2419   
 2420   W0B23:
 2421         mov    R2,#0Ch                    
 2422         mov    R0,#31h                    
 2423         mov    A,@R0                      
 2424         anl    A,#05h                     
 2425         xrl    A,#05h                     
 2426         jnz    W0B51                      
 2427         mov    A,@R1                      
 2428         jb7    W0B3B                      
 2429         cpl    A                          
 2430         mov    R0,#72h                    
 2431         jb0    W0B4B                      
 2432         mov    A,@R0                      
 2433         jnz    W0B5D                      
 2434         mov    @R1,#80h                   
 2435   W0B3B:
 2436         mov    R1,#6Ch                    
 2437         mov    A,R4                       
 2438         jb2    W0BDD                      
 2439         in     A,P2                       
 2440         jb3    W0B47                      
 2441         mov    @R1,#0F7h                  
 2442         jmp    W0400                      ; Restart
8048 TO 8051 ASSEMBLY LANGUAGE CONVERTER                                                                        PAGE  44


 2443   
 2444   W0B47:
 2445         mov    @R1,#0F3h                  
 2446         jmp    W0400                      ; Restart
 2447   
 2448   W0B4B:
 2449         mov    @R1,#01h                   
 2450         mov    @R0,#0F6h                  
 2451         jmp    W035D                      
 2452   
 2453   W0B51:
 2454         mov    A,@R1                      
 2455         mov    @R1,#00h                   
 2456         jb7    W0BD7                      
 2457         mov    R0,#39h                    
 2458         mov    A,@R0                      
 2459         mov    @R0,#00h                   
 2460         jb4    W0BD7                      
 2461   W0B5D:
 2462         mov    R0,#5Ah                    
 2463         mov    R1,#6Ch                    
 2464         mov    A,@R0                      
 2465         mov    R0,#79h                    
 2466         jz     W0B6A                      
 2467         mov    @R0,#00h                   
 2468         jmp    W03AB                      
 2469   
 2470   W0B6A:
 2471         mov    A,@R0                      
 2472         jnt0   W0BA9                      
 2473         orl    A,#80h                     
 2474         mov    @R0,A                      
 2475         jmp    W0374                      
 2476   
 2477   W0B72:
 2478         mov    @R0,#00h                   
 2479         sel    RB0                        
 2480         mov    R0,#4Dh                    
 2481         mov    @R0,#01h                   
 2482         mov    R0,#71h                    
 2483         mov    @R0,#0F4h                  
 2484         mov    R0,#31h                    
 2485         mov    A,@R1                      
 2486         jb7    W0BA4                      
 2487         mov    A,R4                       
 2488         jb0    W0B87                      
 2489         jmp    W0397+1                    
 2490   
 2491   W0B87:
 2492         mov    A,R4                       
 2493         anl    A,#0FEh                    
 2494         mov    R4,A                       
 2495         mov    A,@R0                      
 2496         jb0    W0B93                      
 2497         mov    A,@R1                      
 2498         add    A,#0FCh                    
 2499         jmp    W039E+1                    
8048 TO 8051 ASSEMBLY LANGUAGE CONVERTER                                                                        PAGE  45


 2500   
 2501   W0B93:
 2502         mov    A,@R1                      
 2503         add    A,#0FDh                    
 2504         jmp    W039E+1                    
 2505   
 2506         mov    A,@R1                      
 2507         add    A,#0FEh                    
 2508         jmp    W039E+1                    
 2509   
 2510   W0B9D:
 2511         mov    A,@R1                      
 2512         dec    A                          
 2513         mov    @R1,A                      
 2514         jb7    W0BC6                      
 2515         jmp    W0400                      ; Restart
 2516   
 2517   W0BA4:
 2518         mov    A,@R0                      
 2519         jb0    W0B9D                      
 2520         jmp    W0397+1                    
 2521   
 2522   W0BA9:
 2523         jb0    W0B72                      
 2524         mov    R0,#71h                    
 2525         mov    A,@R0                      
 2526         jnz    W0BD5                      
 2527         mov    A,R4                       
 2528         orl    A,#01h                     
 2529         mov    R4,A                       
 2530         mov    @R0,#0F9h                  
 2531         mov    A,@R1                      
 2532         add    A,#01h                     
 2533         mov    @R1,A                      
 2534         jb7    W0BD5                      
 2535         mov    A,R6                       
 2536         cpl    A                          
 2537         inc    A                          
 2538         add    A,@R1                      
 2539         jnc    W0BD5                      
 2540         mov    A,R6                       
 2541         mov    @R1,A                      
 2542         jmp    W0400                      ; Restart
 2543   
 2544   W0BC6:
 2545         add    A,#09h                     
 2546         jc     W0BD5                      
 2547         mov    @R1,#0F6h                  
 2548         mov    R0,#46h                    
 2549         mov    A,@R0                      
 2550         jnz    W0BD5                      
 2551         mov    R1,#5Ah                    
 2552         mov    @R1,#0FCh                  
 2553   W0BD5:
 2554         jmp    W0400                      ; Restart
 2555   
 2556   W0BD7:
8048 TO 8051 ASSEMBLY LANGUAGE CONVERTER                                                                        PAGE  46


 2557         mov    R1,#6Ch                    
 2558         mov    A,R6                       
 2559         mov    @R1,A                      
 2560         jmp    W0400                      ; Restart
 2561   
 2562   W0BDD:
 2563         mov    @R1,#00h                   
 2564         mov    R0,#61h                    
 2565         mov    @R0,#00h                   
 2566         ret                               
 2567   
 2568         mov    A,R7                       
 2569         mov    A,R7                       
 2570         mov    A,R7                       
 2571         mov    A,R7                       
 2572         mov    A,R7                       
 2573         mov    A,R7                       
 2574         mov    A,R7                       
 2575         mov    A,R7                       
 2576         mov    A,R7                       
 2577         mov    A,R7                       
 2578         mov    A,R7                       
 2579         mov    A,R7                       
 2580         mov    A,R7                       
 2581         mov    A,R7                       
 2582         mov    A,R7                       
 2583         mov    A,R7                       
 2584         mov    A,R7                       
 2585         mov    A,R7                       
 2586         mov    A,R7                       
 2587         mov    A,R7                       
 2588         mov    A,R7                       
 2589         mov    A,R7                       
 2590         mov    A,R7                       
 2591         mov    A,R7                       
 2592         mov    A,R7                       
 2593         sel    MB0                        
 2594         jmp    W0411                      
 2595   
 2596         sel    MB0                        
 2597         call   W0060                      
 2598         sel    MB1                        
 2599         sel    RB0                        
 2600         mov    R0,#63h                    
 2601         mov    R1,#64h                    
 2602         mov    A,@R1                      
 2603         jnz    W0C11                      
 2604         mov    A,@R0                      
 2605         add    A,#89h                     
 2606         jnc    W0C41                      
 2607   W0C11:
 2608         mov    R3,#00h                    
 2609         mov    A,@R1                      
 2610         jz     W0C28                      
 2611         mov    @R1,#02h                   
 2612         mov    R3,#10h                    
 2613         dec    A                          
8048 TO 8051 ASSEMBLY LANGUAGE CONVERTER                                                                        PAGE  47


 2614         jz     W0C28                      
 2615         mov    @R1,#04h                   
 2616         mov    R3,#20h                    
 2617         dec    A                          
 2618         jz     W0C28                      
 2619         mov    @R1,#06h                   
 2620         mov    R3,#30h                    
 2621   W0C28:
 2622         mov    A,@R0                      
 2623         add    A,#88h                     
 2624         jnc    W0C2F                      
 2625         inc    @R1                        
 2626         mov    @R0,A                      
 2627   W0C2F:
 2628         mov    A,R7                       
 2629         add    A,@R0                      
 2630         mov    @R0,A                      
 2631         jnc    W0C3B                      
 2632         inc    @R1                        
 2633         inc    @R1                        
 2634         add    A,#10h                     
 2635         mov    @R0,A                      
 2636         jmp    W0441                      
 2637   
 2638   W0C3B:
 2639         add    A,#88h                     
 2640         jnc    W0C41                      
 2641         inc    @R1                        
 2642         mov    @R0,A                      
 2643   W0C41:
 2644         mov    R1,#7Ah                    
 2645         mov    R0,#6Ch                    
 2646         mov    A,@R0                      
 2647         jb7    W0C4A                      
 2648         jmp    W044C                      
 2649   
 2650   W0C4A:
 2651         cpl    A                          
 2652         inc    A                          
 2653         mov    R7,A                       
 2654         sel    RB0                        
 2655         mov    @R1,A                      
 2656         mov    R1,#64h                    
 2657         mov    R0,#63h                    
 2658         mov    A,R7                       
 2659         jz     W0CBE                      
 2660         clr    A                          
 2661   W0C57:
 2662         add    A,@R1                      
 2663         djnz   R7,W0C57                   
 2664         mov    @R1,A                      
 2665         sel    MB0                        
 2666         call   W0060                      
 2667         sel    MB1                        
 2668         mov    R1,#64h                    
 2669         mov    R0,#7Ah                    
 2670         mov    A,@R0                      
8048 TO 8051 ASSEMBLY LANGUAGE CONVERTER                                                                        PAGE  48


 2671         mov    R0,#63h                    
 2672         mov    R7,A                       
 2673         clr    A                          
 2674   W0C68:
 2675         add    A,@R0                      
 2676         jnc    W0C6F                      
 2677         inc    @R1                        
 2678         inc    @R1                        
 2679         add    A,#10h                     
 2680   W0C6F:
 2681         djnz   R7,W0C68                   
 2682         mov    @R0,A                      
 2683         add    A,#88h                     
 2684         jnc    W0C79                      
 2685         inc    @R1                        
 2686         jmp    W0472                      
 2687   
 2688   W0C79:
 2689         add    A,#78h                     
 2690         mov    R0,#7Ah                    
 2691         rl     A                          
 2692         mov    @R0,A                      
 2693         mov    R1,#6Ch                    
 2694         mov    A,@R1                      
 2695         mov    R1,#64h                    
 2696         jb7    W0C9C                      
 2697         inc    @R1                        
 2698         mov    A,@R0                      
 2699         add    A,#80h                     
 2700         jc     W0C94                      
 2701         add    A,#10h                     
 2702         jc     W0C96                      
 2703         add    A,#0F0h                    
 2704         jmp    W0497                      
 2705   
 2706   W0C94:
 2707         add    A,#10h                     
 2708   W0C96:
 2709         inc    @R1                        
 2710         add    A,#10h                     
 2711         cpl    A                          
 2712         jmp    W04AE+1                    
 2713   
 2714   W0C9C:
 2715         mov    A,@R0                      
 2716         add    A,#80h                     
 2717         jc     W0CAF                      
 2718         mov    @R0,A                      
 2719         mov    A,@R1                      
 2720         dec    A                          
 2721         jb7    W0CAC                      
 2722         mov    @R1,A                      
 2723         mov    A,@R0                      
 2724         add    A,#0F0h                    
 2725         jmp    W04AE+1                    
 2726   
 2727   W0CAC:
8048 TO 8051 ASSEMBLY LANGUAGE CONVERTER                                                                        PAGE  49


 2728         clr    A                          
 2729         jmp    W04BE                      
 2730   
 2731   W0CAF:
 2732         sel    RB1                        
 2733         add    A,#0F1h                    
 2734         jnc    W0CB7                      
 2735         inc    R7                         
 2736         jmp    W04B0                      
 2737   
 2738   W0CB7:
 2739         add    A,#07h                     
 2740         jnc    W0CBC                      
 2741         inc    R7                         
 2742   W0CBC:
 2743         sel    RB0                        
 2744         mov    A,@R1                      
 2745   W0CBE:
 2746         mov    R0,#61h                    
 2747         mov    @R0,A                      
 2748         ret                               
 2749   
 2750         mov    A,R7                       
 2751         mov    A,R7                       
 2752         mov    A,R7                       
 2753         mov    A,R7                       
 2754         mov    A,R7                       
 2755         mov    A,R7                       
 2756         mov    A,R7                       
 2757         mov    A,R7                       
 2758         mov    A,R7                       
 2759         mov    A,R7                       
 2760         mov    A,R7                       
 2761         mov    A,R7                       
 2762         mov    A,R7                       
 2763         mov    A,R7                       
 2764         mov    A,R7                       
 2765         mov    A,R7                       
 2766         mov    A,R7                       
 2767         mov    A,R7                       
 2768         mov    A,R7                       
 2769         mov    A,R7                       
 2770         mov    A,R7                       
 2771         mov    A,R7                       
 2772         mov    A,R7                       
 2773         mov    A,R7                       
 2774         mov    A,R7                       
 2775         mov    A,R7                       
 2776         mov    A,R7                       
 2777         mov    A,R7                       
 2778         mov    A,R7                       
 2779         mov    A,R7                       
 2780         mov    A,R7                       
 2781         mov    A,R7                       
 2782         mov    A,R7                       
 2783         mov    A,R7                       
 2784         mov    A,R7                       
8048 TO 8051 ASSEMBLY LANGUAGE CONVERTER                                                                        PAGE  50


 2785         mov    A,R7                       
 2786         mov    A,R7                       
 2787         mov    A,R7                       
 2788         mov    A,R7                       
 2789         mov    A,R7                       
 2790         mov    A,R7                       
 2791         mov    A,R7                       
 2792         mov    A,R7                       
 2793         mov    A,R7                       
 2794         mov    A,R7                       
 2795         mov    A,R7                       
 2796         mov    A,R7                       
 2797         mov    A,R7                       
 2798         mov    A,R7                       
 2799         mov    A,R7                       
 2800         mov    A,R7                       
 2801         mov    A,R7                       
 2802         mov    A,R7                       
 2803         mov    A,R7                       
 2804         mov    A,R7                       
 2805         mov    A,R7                       
 2806         mov    A,R7                       
 2807         mov    A,R7                       
 2808         mov    A,R7                       
 2809         sel    MB0                        
 2810         jmp    W0411                      
 2811   
 2812         sel    RB0                        
 2813         mov    R1,#70h                    
 2814         mov    R0,#56h                    
 2815         mov    A,@R0                      
 2816         jb1    W0D61                      
 2817         jb2    W0D90                      
 2818         ins    A,BUS                      
 2819         jb1    W0D97                      
 2820         cpl    A                          
 2821         jb5    W0D97                      
 2822         mov    R1,#35h                    
 2823         mov    A,@R1                      
 2824         jb2    W0D17                      
 2825         jmp    W0597                      
 2826   
 2827   W0D17:
 2828         ins    A,BUS                      
 2829         jb2    W0D97                      
 2830         jb0    W0D4B                      
 2831         mov    R1,#43h                    
 2832         mov    @R1,#0E2h                  
 2833         mov    R1,#44h                    
 2834         mov    @R1,#0ECh                  
 2835         mov    @R0,#02h                   
 2836         mov    R0,#6Ch                    
 2837         mov    A,@R0                      
 2838         mov    R1,#4Fh                    
 2839         mov    @R1,A                      
 2840         mov    R1,#70h                    
 2841         mov    A,@R1                      
8048 TO 8051 ASSEMBLY LANGUAGE CONVERTER                                                                        PAGE  51


 2842         mov    R1,#3Fh                    
 2843         jnz    W0D41                      
 2844         mov    @R1,#01h                   
 2845         mov    A,@R0                      
 2846         add    A,#0F8h                    
 2847         mov    R0,#6Ah                    
 2848         mov    @R0,A                      
 2849         mov    R0,#70h                    
 2850         mov    @R0,#0CEh                  
 2851         jmp    W0558                      
 2852   
 2853   W0D41:
 2854         mov    @R1,#00h                   
 2855         mov    A,@R0                      
 2856         add    A,#0FCh                    
 2857         mov    R0,#6Ah                    
 2858         mov    @R0,A                      
 2859         jmp    W0558                      
 2860   
 2861   W0D4B:
 2862         mov    @R0,#04h                   
 2863         mov    R0,#6Ch                    
 2864         mov    A,@R0                      
 2865         mov    R1,#4Fh                    
 2866         mov    @R1,A                      
 2867         add    A,#0F4h                    
 2868         mov    R0,#6Ah                    
 2869         mov    @R0,A                      
 2870         mov    R0,#45h                    
 2871         mov    @R0,#0CEh                  
 2872         mov    R0,#46h                    
 2873         mov    @R0,#0CAh                  
 2874   W0D60:
 2875         ret                               
 2876   
 2877   W0D61:
 2878         mov    R1,#44h                    
 2879         mov    A,@R1                      
 2880         jz     W0D7D                      
 2881         ins    A,BUS                      
 2882         jb0    W0D6A                      
 2883         ret                               
 2884   
 2885   W0D6A:
 2886         mov    @R0,#04h                   
 2887         mov    R0,#3Fh                    
 2888         mov    A,@R0                      
 2889         mov    R0,#6Ah                    
 2890         jz     W0D78                      
 2891         mov    A,@R0                      
 2892         add    A,#0FCh                    
 2893         mov    @R0,A                      
 2894         ret                               
 2895   
 2896   W0D78:
 2897         mov    A,@R0                      
 2898         add    A,#0F8h                    
8048 TO 8051 ASSEMBLY LANGUAGE CONVERTER                                                                        PAGE  52


 2899         mov    @R0,A                      
 2900         ret                               
 2901   
 2902   W0D7D:
 2903         mov    R1,#43h                    
 2904         mov    A,@R1                      
 2905         jnz    W0D60                      
 2906         mov    R1,#4Fh                    
 2907         mov    A,@R1                      
 2908         mov    R1,#6Ah                    
 2909         mov    @R1,A                      
 2910         mov    @R0,#80h                   
 2911         mov    R0,#46h                    
 2912         mov    @R0,#0FCh                  
 2913         jmp    W0597                      
 2914   
 2915   W0D90:
 2916         mov    R1,#45h                    
 2917         mov    A,@R1                      
 2918         jnz    W0D60                      
 2919         jmp    W0582                      
 2920   
 2921   W0D97:
 2922         mov    R0,#35h                    
 2923         ins    A,BUS                      
 2924         mov    @R0,A                      
 2925         ret                               
 2926   
 2927         mov    A,R7                       
 2928         mov    A,R7                       
 2929         mov    A,R7                       
 2930         mov    A,R7                       
 2931         mov    A,R7                       
 2932         mov    A,R7                       
 2933         mov    A,R7                       
 2934         mov    A,R7                       
 2935         mov    A,R7                       
 2936         mov    A,R7                       
 2937         mov    A,R7                       
 2938         mov    A,R7                       
 2939         mov    A,R7                       
 2940         mov    A,R7                       
 2941         mov    A,R7                       
 2942         mov    A,R7                       
 2943         mov    A,R7                       
 2944         mov    A,R7                       
 2945         mov    A,R7                       
 2946         mov    A,R7                       
 2947         mov    A,R7                       
 2948         mov    A,R7                       
 2949         mov    A,R7                       
 2950         mov    A,R7                       
 2951         mov    A,R7                       
 2952         mov    A,R7                       
 2953         mov    A,R7                       
 2954         mov    A,R7                       
 2955         mov    A,R7                       
8048 TO 8051 ASSEMBLY LANGUAGE CONVERTER                                                                        PAGE  53


 2956         mov    A,R7                       
 2957         mov    A,R7                       
 2958         mov    A,R7                       
 2959         mov    A,R7                       
 2960         mov    A,R7                       
 2961         mov    A,R7                       
 2962         mov    A,R7                       
 2963         mov    A,R7                       
 2964         mov    A,R7                       
 2965         mov    A,R7                       
 2966         mov    A,R7                       
 2967         mov    A,R7                       
 2968         mov    A,R7                       
 2969         mov    A,R7                       
 2970         mov    A,R7                       
 2971         mov    A,R7                       
 2972         mov    A,R7                       
 2973         mov    A,R7                       
 2974         mov    A,R7                       
 2975         mov    A,R7                       
 2976         mov    A,R7                       
 2977         mov    A,R7                       
 2978         mov    A,R7                       
 2979         mov    A,R7                       
 2980         mov    A,R7                       
 2981         mov    A,R7                       
 2982         mov    A,R7                       
 2983         mov    A,R7                       
 2984         mov    A,R7                       
 2985         mov    A,R7                       
 2986         mov    A,R7                       
 2987         mov    A,R7                       
 2988         mov    A,R7                       
 2989         mov    A,R7                       
 2990         mov    A,R7                       
 2991         mov    A,R7                       
 2992         mov    A,R7                       
 2993         mov    A,R7                       
 2994         mov    A,R7                       
 2995         mov    A,R7                       
 2996         mov    A,R7                       
 2997         mov    A,R7                       
 2998         mov    A,R7                       
 2999         mov    A,R7                       
 3000         mov    A,R7                       
 3001         mov    A,R7                       
 3002         mov    A,R7                       
 3003         mov    A,R7                       
 3004         mov    A,R7                       
 3005         mov    A,R7                       
 3006         mov    A,R7                       
 3007         mov    A,R7                       
 3008         mov    A,R7                       
 3009         mov    A,R7                       
 3010         mov    A,R7                       
 3011         mov    A,R7                       
 3012         mov    A,R7                       
8048 TO 8051 ASSEMBLY LANGUAGE CONVERTER                                                                        PAGE  54


 3013         mov    A,R7                       
 3014         mov    A,R7                       
 3015         mov    A,R7                       
 3016         mov    A,R7                       
 3017         mov    A,R7                       
 3018         mov    A,R7                       
 3019         mov    A,R7                       
 3020         mov    A,R7                       
 3021         mov    A,R7                       
 3022         mov    A,R7                       
 3023         mov    A,R7                       
 3024         sel    MB0                        
 3025         jmp    W0411                      
 3026   
 3027         mov    R1,#6Fh                    
 3028         jb7    W0E3D                      
 3029         jb6    W0E31                      
 3030         jb5    W0E16                      
 3031         mov    A,@R1                      
 3032         jnz    W0E15                      
 3033         mov    A,@R0                      
 3034         orl    A,#20h                     
 3035         mov    @R0,A                      
 3036         mov    @R1,#0EBh                  
 3037         mov    R1,#7Ch                    
 3038         mov    @R1,#1Fh                   
 3039   W0E15:
 3040         ret                               
 3041   
 3042   W0E16:
 3043         mov    A,@R1                      
 3044         jz     W0E24                      
 3045         mov    R1,#4Dh                    
 3046         mov    A,@R1                      
 3047         jz     W0E15                      
 3048         mov    R1,#6Fh                    
 3049         mov    @R1,#0FCh                  
 3050         orl    P1,#0C0h                   
 3051   W0E24:
 3052         mov    R1,#7Ch                    
 3053         mov    @R1,#06h                   
 3054         mov    R1,#79h                    
 3055         mov    @R1,#00h                   
 3056         mov    A,@R0                      
 3057         orl    A,#40h                     
 3058         mov    @R0,A                      
 3059         ret                               
 3060   
 3061   W0E31:
 3062         mov    A,@R1                      
 3063         jnz    W0E15                      
 3064         anl    P1,#3Fh                    
 3065         mov    @R1,#0FBh                  
 3066         mov    A,@R0                      
 3067         orl    A,#80h                     
 3068         mov    @R0,A                      
 3069         ret                               
8048 TO 8051 ASSEMBLY LANGUAGE CONVERTER                                                                        PAGE  55


 3070   
 3071   W0E3D:
 3072         mov    A,@R1                      
 3073         jnz    W0E15                      
 3074         mov    A,@R0                      
 3075         jb3    W0E46                      
 3076         mov    @R0,#08h                   
 3077         ret                               
 3078   
 3079   W0E46:
 3080         mov    @R0,#02h                   
 3081         ret                               
 3082   
 3083         mov    A,R7                       
 3084         mov    A,R7                       
 3085         mov    A,R7                       
 3086         mov    A,R7                       
 3087         mov    A,R7                       
 3088         mov    A,R7                       
 3089         mov    A,R7                       
 3090         mov    A,R7                       
 3091         mov    A,R7                       
 3092         mov    A,R7                       
 3093         mov    A,R7                       
 3094         mov    A,R7                       
 3095         mov    A,R7                       
 3096         mov    A,R7                       
 3097         mov    A,R7                       
 3098         mov    A,R7                       
 3099         mov    A,R7                       
 3100         mov    A,R7                       
 3101         mov    A,R7                       
 3102         mov    A,R7                       
 3103         mov    A,R7                       
 3104         mov    A,R7                       
 3105         mov    A,R7                       
 3106         mov    A,R7                       
 3107         mov    A,R7                       
 3108         mov    A,R7                       
 3109         mov    A,R7                       
 3110         mov    A,R7                       
 3111         mov    A,R7                       
 3112         mov    A,R7                       
 3113         mov    A,R7                       
 3114         mov    A,R7                       
 3115         mov    A,R7                       
 3116         mov    A,R7                       
 3117         mov    A,R7                       
 3118         mov    A,R7                       
 3119         mov    A,R7                       
 3120         mov    A,R7                       
 3121         mov    A,R7                       
 3122         mov    A,R7                       
 3123         mov    A,R7                       
 3124         mov    A,R7                       
 3125         mov    A,R7                       
 3126         mov    A,R7                       
8048 TO 8051 ASSEMBLY LANGUAGE CONVERTER                                                                        PAGE  56


 3127         mov    A,R7                       
 3128         mov    A,R7                       
 3129         mov    A,R7                       
 3130         mov    A,R7                       
 3131         mov    A,R7                       
 3132         mov    A,R7                       
 3133         mov    A,R7                       
 3134         mov    A,R7                       
 3135         mov    A,R7                       
 3136         mov    A,R7                       
 3137         mov    A,R7                       
 3138         mov    A,R7                       
 3139         mov    A,R7                       
 3140         mov    A,R7                       
 3141         mov    A,R7                       
 3142         mov    A,R7                       
 3143         mov    A,R7                       
 3144         mov    A,R7                       
 3145         mov    A,R7                       
 3146         mov    A,R7                       
 3147         mov    A,R7                       
 3148         mov    A,R7                       
 3149         mov    A,R7                       
 3150         mov    A,R7                       
 3151         mov    A,R7                       
 3152         mov    A,R7                       
 3153         mov    A,R7                       
 3154         mov    A,R7                       
 3155         mov    A,R7                       
 3156         mov    A,R7                       
 3157         mov    A,R7                       
 3158         mov    A,R7                       
 3159         mov    A,R7                       
 3160         mov    A,R7                       
 3161         mov    A,R7                       
 3162         mov    A,R7                       
 3163         mov    A,R7                       
 3164         mov    A,R7                       
 3165         mov    A,R7                       
 3166         mov    A,R7                       
 3167         mov    A,R7                       
 3168         mov    A,R7                       
 3169         mov    A,R7                       
 3170         mov    A,R7                       
 3171         mov    A,R7                       
 3172         mov    A,R7                       
 3173         mov    A,R7                       
 3174         mov    A,R7                       
 3175         mov    A,R7                       
 3176         mov    A,R7                       
 3177         mov    A,R7                       
 3178         mov    A,R7                       
 3179         mov    A,R7                       
 3180         mov    A,R7                       
 3181         mov    A,R7                       
 3182         mov    A,R7                       
 3183         mov    A,R7                       
8048 TO 8051 ASSEMBLY LANGUAGE CONVERTER                                                                        PAGE  57


 3184         mov    A,R7                       
 3185         mov    A,R7                       
 3186         mov    A,R7                       
 3187         mov    A,R7                       
 3188         mov    A,R7                       
 3189         mov    A,R7                       
 3190         mov    A,R7                       
 3191         mov    A,R7                       
 3192         mov    A,R7                       
 3193         mov    A,R7                       
 3194         mov    A,R7                       
 3195         mov    A,R7                       
 3196         mov    A,R7                       
 3197         mov    A,R7                       
 3198         mov    A,R7                       
 3199         mov    A,R7                       
 3200         mov    A,R7                       
 3201         mov    A,R7                       
 3202         mov    A,R7                       
 3203         mov    A,R7                       
 3204         mov    A,R7                       
 3205         mov    A,R7                       
 3206         mov    A,R7                       
 3207         mov    A,R7                       
 3208         mov    A,R7                       
 3209         mov    A,R7                       
 3210         mov    A,R7                       
 3211         mov    A,R7                       
 3212         mov    A,R7                       
 3213         mov    A,R7                       
 3214         mov    A,R7                       
 3215         mov    A,R7                       
 3216         mov    A,R7                       
 3217         mov    A,R7                       
 3218         mov    A,R7                       
 3219         mov    A,R7                       
 3220         mov    A,R7                       
 3221         mov    A,R7                       
 3222         mov    A,R7                       
 3223         mov    A,R7                       
 3224         mov    A,R7                       
 3225         mov    A,R7                       
 3226         mov    A,R7                       
 3227         mov    A,R7                       
 3228         mov    A,R7                       
 3229         mov    A,R7                       
 3230         mov    A,R7                       
 3231         mov    A,R7                       
 3232         mov    A,R7                       
 3233         mov    A,R7                       
 3234         mov    A,R7                       
 3235         mov    A,R7                       
 3236         mov    A,R7                       
 3237         mov    A,R7                       
 3238         mov    A,R7                       
 3239         mov    A,R7                       
 3240         mov    A,R7                       
8048 TO 8051 ASSEMBLY LANGUAGE CONVERTER                                                                        PAGE  58


 3241         mov    A,R7                       
 3242         mov    A,R7                       
 3243         mov    A,R7                       
 3244         mov    A,R7                       
 3245         mov    A,R7                       
 3246         mov    A,R7                       
 3247         mov    A,R7                       
 3248         mov    A,R7                       
 3249         mov    A,R7                       
 3250         mov    A,R7                       
 3251         mov    A,R7                       
 3252         mov    A,R7                       
 3253         mov    A,R7                       
 3254         mov    A,R7                       
 3255         mov    A,R7                       
 3256         mov    A,R7                       
 3257         mov    A,R7                       
 3258         mov    A,R7                       
 3259         mov    A,R7                       
 3260         mov    A,R7                       
 3261         mov    A,R7                       
 3262         mov    A,R7                       
 3263         sel    MB0                        
 3264         jmp    W0411                      
 3265   
 3266         nop                               
 3267         nop                               
 3268         nop                               
 3269         nop                               
 3270         nop                               
 3271         nop                               
 3272         nop                               
 3273         nop                               
 3274         nop                               
 3275         nop                               
 3276         nop                               
 3277         nop                               
 3278         nop                               
 3279         nop                               
 3280         nop                               
 3281         sel    MB0                        
 3282         jmp    W0411                      
 3283   
 3284         outl   P1,A                       
 3285         mov    R1,#01h                    
 3286         call   W00C2                      
 3287         anl    P1,#0BFh                   
 3288         mov    R1,#02h                    
 3289         call   W00C2                      
 3290         ret                               
 3291   
 3292         djnz   R7,W0F29                   
 3293         in     A,P2                       
 3294         jb7    W0F27                      
 3295         orl    P2,#80h                    
 3296         jmp    W0729                      
 3297   
8048 TO 8051 ASSEMBLY LANGUAGE CONVERTER                                                                        PAGE  59


 3298   W0F27:
 3299         anl    P2,#7Fh                    
 3300   W0F29:
 3301         ret                               
 3302   
 3303         mov    R1,#7Eh                    
 3304         mov    @R1,#2Eh                   
 3305         inc    R1                         
 3306         mov    @R1,#0D2h                  
 3307         ins    A,BUS                      
 3308         anl    A,#3Fh                     
 3309         xrl    A,#02h                     
 3310         jz     W0F41                      
 3311         mov    A,#9Fh                     
 3312         jni    W0F3E                      
 3313         mov    A,#0DFh                    
 3314   W0F3E:
 3315         outl   P2,A                       
 3316         jmp    W07C2+1                    
 3317   
 3318   W0F41:
 3319         anl    P2,#5Fh                    
 3320         in     A,P1                       
 3321         swap   A                          
 3322         orl    A,#0Fh                     
 3323         outl   P1,A                       
 3324         ins    A,BUS                      
 3325         jb7    W0F4F                      
 3326         orl    P2,#10h                    
 3327         jmp    W0751                      
 3328   
 3329   W0F4F:
 3330         anl    P2,#0EFh                   
 3331         call   W071E                      
 3332         jni    W0F57                      
 3333         jmp    W0743                      
 3334   
 3335   W0F57:
 3336         in     A,P2                       
 3337         swap   A                          
 3338         orl    A,#0Fh                     
 3339         outl   P1,A                       
 3340         ins    A,BUS                      
 3341         jb6    W0F63                      
 3342         orl    P2,#10h                    
 3343         jmp    W0764+1                    
 3344   
 3345   W0F63:
 3346         anl    P2,#0EFh                   
 3347         jt1    W0F6B                      
 3348         orl    P2,#40h                    
 3349         jmp    W076D                      
 3350   
 3351   W0F6B:
 3352         anl    P2,#0BFh                   
 3353         call   W071E                      
 3354         jni    W0F57                      
8048 TO 8051 ASSEMBLY LANGUAGE CONVERTER                                                                        PAGE  60


 3355         orl    P2,#3Fh                    
 3356   W0F73:
 3357         call   W071E                      
 3358         ins    A,BUS                      
 3359         anl    A,#3Fh                     
 3360         jz     W0F73                      
 3361         anl    P2,#0DFh                   
 3362   W0F7C:
 3363         ins    A,BUS                      
 3364         jb4    W0F83                      
 3365         orl    P2,#10h                    
 3366         jmp    W0785                      
 3367   
 3368   W0F83:
 3369         anl    P2,#0EFh                   
 3370         jb5    W0F8B                      
 3371         orl    P2,#48h                    
 3372         jmp    W078D                      
 3373   
 3374   W0F8B:
 3375         anl    P2,#0B7h                   
 3376         orl    A,#0F0h                    
 3377         mov    R0,A                       
 3378         swap   A                          
 3379         anl    A,R0                       
 3380         outl   P1,A                       
 3381         call   W071E                      
 3382         jni    W0F7C                      
 3383   W0F97:
 3384         jnt0   W0F9D                      
 3385         anl    P2,#0BFh                   
 3386         jmp    W079E+1                    
 3387   
 3388   W0F9D:
 3389         orl    P2,#40h                    
 3390         call   W071E                      
 3391         ins    A,BUS                      
 3392         anl    A,#3Fh                     
 3393         jz     W0F97                      
 3394         orl    P2,#5Fh                    
 3395   W0FA8:
 3396         mov    A,#28h                     
 3397         swap   A                          
 3398         outl   P1,A                       
 3399         cpl    A                          
 3400         jb0    W0FB1                      
 3401         anl    P2,#0EFh                   
 3402   W0FB1:
 3403         jb1    W0FB5                      
 3404         anl    P2,#0F7h                   
 3405   W0FB5:
 3406         call   W071E                      
 3407         jni    W0FA8                      
 3408         anl    P2,#7Fh                    
 3409         mov    R3,#00h                    
 3410   W0FBD:
 3411         djnz   R7,W0FBD                   
8048 TO 8051 ASSEMBLY LANGUAGE CONVERTER                                                                        PAGE  61


 3412         mov    A,#9Fh                     
 3413         jmp    W07FC                      
 3414   
 3415         mov    A,#0FFh                    
 3416         outl   P1,A                       
 3417         mov    R1,#28h                    
 3418         call   W00C2                      
 3419         in     A,P2                       
 3420         swap   A                          
 3421         rr     A                          
 3422         orl    A,#4Fh                     
 3423         call   W0712                      
 3424         in     A,P2                       
 3425         swap   A                          
 3426         orl    A,#6Fh                     
 3427         mov    R2,A                       
 3428         ins    A,BUS                      
 3429         jb6    W0FDD                      
 3430         mov    A,R2                       
 3431         anl    A,#0DFh                    
 3432         mov    R2,A                       
 3433   W0FDD:
 3434         mov    A,R2                       
 3435         call   W0712                      
 3436         mov    A,#0EFh                    
 3437         rl     A                          
 3438         mov    R2,A                       
 3439         ins    A,BUS                      
 3440         jb7    W0FEB                      
 3441         mov    A,R2                       
 3442         anl    A,#7Fh                     
 3443         mov    R2,A                       
 3444   W0FEB:
 3445         mov    A,R2                       
 3446         call   W0712                      
 3447         mov    A,#0F8h                    
 3448         swap   A                          
 3449         jb6    W0FF7                      
 3450         anl    A,#7Fh                     
 3451         orl    A,#40h                     
 3452   W0FF7:
 3453         call   W0712                      
 3454         mov    A,#0FFh                    
 3455         outl   P1,A                       
 3456         outl   P2,A                       
 3457         sel    MB1                        
 3458         jmp    W07FE                      
 3459   
8048 TO 8051 ASSEMBLY LANGUAGE CONVERTER                                                                        PAGE  62


8051 PROGRAM

        BUS     EQU     P0
*** WARNING 013 ***  NEITHER ORG 3 NOR ORG 7 FOUND
        F1      EQU     IT1
        PSWSAV  EQU     TL1
        DPHSAV  EQU     TH1
        T       SET     TH0
        EA_OR_ET0  EQU  82H
        EA_OR_EX0  EQU  81H
        %*DEFINE (REPT (N) LOCALS (BODY)) LOCAL MACRO (
                %*DEFINE (MACRO) LOCAL %LOCALS (%BODY)
                %REPEAT (%N) (%MACRO) )
        %*DEFINE (IRP (PARM,PLIST) LOCALS (BODY)) LOCAL MACRO LIST (
                %*DEFINE (MACRO) LOCAL %LOCALS (%BODY)
                %*DEFINE (LIST) (%PLIST)  
                %IF (%LEN(%*LIST)  EQ 0) THEN (
                        %DEFINE (%PARM) (%0)
                        %MACRO )
                ELSE (
                        %WHILE (%LEN(%*LIST)  NE 0) (
                                %MATCH(%PARM,LIST) (%LIST)
                                %MACRO ) )
                FI )
        %*DEFINE (IRPC (PARM,TEXT) LOCALS (BODY)) LOCAL MACRO LIST (
                %*DEFINE (MACRO) LOCAL %LOCALS (%BODY)
                %*DEFINE (LIST) (%TEXT)   
                %IF (%LEN(%*LIST)  EQ 0) THEN (
                        %DEFINE (%PARM) (%0)
                        %MACRO )
                ELSE (
                        %WHILE (%LEN(%*LIST)  NE 0) (
                                %DEFINE (%PARM) (%*SUBSTR(%*LIST,1,1))
                                %DEFINE (LIST) (%*SUBSTR(%*LIST,2,9999))
                                %MACRO ) )
                FI )
    1   W0000:
    2           
*** WARNING 004 ***  SEL MB INSTRUCTION HAS BEEN DELETED
    3           SJMP    W0000                   ; Cold Boot
    4
    5           ORL     PSW,#18H
    6           MOV     R2,A
    7           AJMP    W013D                   ; Get Keystroke
    8
    9           ORL     PSW,#18H
   10           MOV     R2,A
   11           MOV     R0,#6Bh
   12           MOV     A,@R0
   13           INC     @R0
   14           JZ      W002A
   15           ADD     A,#0FCh
   16           JC      W0055
   17           ADD     A,#02h
   18           JNZ     W0040
   19           SETB    P2.6
   20           MOV     R0,#48h
8048 TO 8051 ASSEMBLY LANGUAGE CONVERTER                                                                        PAGE  63


   21           MOV     @R0,#0D8h
   22           MOV     R0,#6Ch
   23           MOV     A,@R0
   24           JB      ACC.7,W0024
   25           SJMP    W0045
   26
   27   W0024:
   28           ANL     PSW,#0E7H
   29           MOV     A,R2
   30           ADD     A,#06h
   31           SJMP    W0047
   32
   33   W002A:
   34           MOV     A,R7
   35           JZ      W0035
   36           MOV     A,#01h
   37   W002F:
   38           ADD     A,#0FFh
   39           JNZ     W002F
   40   W0033:
   41           DJNZ    R7,W0033
   42   W0035:
   43           CLR     P2.6
   44           MOV     A,R6
   45           ANL     A,#0BFh
   46           MOV     R6,A
   47           MOV     R1,#69h
   48           MOV     A,@R1
   49           SJMP    W0047
   50
   51   W0040:
   52           INC     A
   53   W0041:
   54           JZ      W0045
   55           SETB    P2.6
   56   W0045:
   57           ANL     PSW,#0E7H
   58           MOV     A,R2
   59   W0047:
   60           CPL     A
   61           INC     A
   62           ORL     PSW,#18H
   63           MOV     R0,A
   64           ACALL   W059E
   65           MOV     A,T
   66           ADD     A,R0
   67           MOV     T,A
   68           MOV     A,R0
   69           ACALL   W0470
   70           AJMP    W0400                   ; Restart
   71
   72   W0055:
   73           JNB     INT0,W005C
   74           MOV     A,R7
   75           JZ      W005C
   76   W005A:
   77           DJNZ    R7,W005A
8048 TO 8051 ASSEMBLY LANGUAGE CONVERTER                                                                        PAGE  64


   78   W005C:
   79           CLR     P2.6
   80           MOV     A,R2
   81           MOV     PSW,PSWSAV
   81           MOV     DPH,DPHSAV
   81           RETI    
*** WARNING 003 ***  ANY CALLS TO THE INTERRUPT ROUTINE NEED TO SAVE PSW AND DPH
   82
   83   W0060:
   84           ANL     PSW,#0E7H
   85           MOV     R0,#76h
   86           ACALL   W059E
   87           ORL     PSW,#18H
   88           MOV     A,R6
   89           JB      ACC.1,W0077
   90           ORL     A,#02h
   91           MOV     R6,A
   92           ANL     PSW,#0E7H
   93           MOV     R1,#67h
   94           MOV     A,@R1
   95           ADD     A,@R0
   96           MOV     R1,#78h
   97           ADD     A,@R1
   98           MOV     @R0,A
   99           MOV     @R1,#00h
  100   W0077:
  101           ANL     PSW,#0E7H
  102           MOV     A,T
  103           ADD     A,@R0
  104           ADD     A,#0F6h
  105           JC      W008A
  106           ADD     A,#01h
  107           JC      W008A
  108           ADD     A,#03h
  109           JNC     W0088
  110           SJMP    W0060
  111
  112   W0088:
  113           ANL     PSW,#0E7H
  114           RET
  115
  116   W008A:
  117           ACALL   W059E
  118           MOV     R0,#76h
  119           MOV     A,@R0
  120           ADD     A,#0F4h
  121           MOV     @R0,A
  122           MOV     R1,#57h
  123           MOV     @R1,#0FEh
  124           MOV     R0,#52h
  125           ACALL   W0133
  126           ACALL   W04A5
  127           ANL     PSW,#0E7H
  128           MOV     A,R3
  129           ADD     A,#9Bh
  130           JC      W00E7                   ; Set up VDC Access
  131           CLR     C
8048 TO 8051 ASSEMBLY LANGUAGE CONVERTER                                                                        PAGE  65


  132           JNB     T1,W00A6
*** WARNING 002 ***  TIMING INSTRUCTIONS MAY HAVE INCORRECT TIME SPANS
  133           CPL     C
  134   W00A6:
  135           MOV     R1,#34h
  136           MOV     A,@R1
  137           RLC     A
  138           MOV     @R1,A
  139           MOV     R0,#3Bh
  140           JNB     INT0,W00D2
  141           MOV     A,@R0
  142           JNZ     W00D7
  143           CPL     A
  144           MOV     @R0,A
  145           MOV     R0,#3Dh
  146           MOV     A,@R1
  147   W00B7:
  148           ANL     A,#0Fh
  149   W00B9:
  150           JZ      W00C0
  151           XRL     A,#0Fh
  152           JNZ     W00C8
  153           CPL     A
  154   W00C0:
  155           MOV     @R1,A
  156           XRL     A,@R0
  157   W00C2:
  158           JZ      W00C8
  159           MOV     A,@R1
  160           MOV     @R0,A
  161           SJMP    W00CC
  162
  163   W00C8:
  164           MOV     R1,#38h
  165           MOV     A,@R0
  166           MOV     @R1,A
  167   W00CC:
  168           MOV     A,R5
  169           JZ      W00D7
  170           DEC     R5
  171           SJMP    W00D7
  172
  173   W00D2:
  174           MOV     A,@R0
  175           JZ      W00D7
  176           MOV     @R0,#00h
  177   W00D7:
  178           ACALL   W041E
  179           MOV     R0,#2Fh
  180           MOV     A,@R0
  181           DEC     A
  182           MOV     @R0,A
  183           JZ      W00E5
  184           DEC     A
  185           JB      ACC.7,W00E5
  186           AJMP    W01BE
  187
8048 TO 8051 ASSEMBLY LANGUAGE CONVERTER                                                                        PAGE  66


  188   W00E5:
  189           SJMP    W0100
  190
  191   W00E7:
  192           AJMP    W0411
  193
  194           MOV     A,R7
  195           MOV     A,R7
  196           MOV     A,R7
  197           MOV     A,R7
  198           MOV     A,R7
  199           MOV     A,R7
  200           MOV     A,R7
  201           MOV     A,R7
  202           MOV     A,R7
  203           MOV     A,R7
  204           MOV     A,R7
  205           MOV     A,R7
  206           MOV     A,R7
  207           MOV     A,R7
  208           MOV     A,R7
  209           MOV     A,R7
  210           MOV     A,R7
  211           MOV     A,R7
  212           MOV     A,R7
  213           MOV     A,R7
  214           MOV     A,R7
  215           AJMP    W0411
  216
  217   W0100:
  218           ADD     A,#05h
  219           MOV     @R0,A
  220           MOV     A,R2
  221           ADD     A,#0EBh
  222           JNC     W010C
  223           
*** WARNING 004 ***  SEL MB INSTRUCTION HAS BEEN DELETED
  224           ACALL   W0500
  225           
*** WARNING 004 ***  SEL MB INSTRUCTION HAS BEEN DELETED
  226   W010C:
  227           MOV     R1,#2Eh
  228           MOV     A,@R1
  229           INC     @R1
  230           JB      ACC.0,W0116
  231           CLR     P2.7
  232           SJMP    W0118
  233
  234   W0116:
  235           SETB    P2.7
  236   W0118:
  237           ACALL   W04B4
  238           ANL     PSW,#0E7H
  239           MOV     R1,#57h
  240           MOV     @R1,#0F9h
  241           MOV     R0,#43h
  242           ACALL   W0133
8048 TO 8051 ASSEMBLY LANGUAGE CONVERTER                                                                        PAGE  67


  243           MOV     R0,#30h
  244           MOV     A,@R0
  245           DEC     A
  246           MOV     @R0,A
  247           JNZ     W0131
  248           MOV     @R0,#15h
  249           ORL     PSW,#18H
  250           MOV     A,R6
  251           ORL     A,#08h
  252           MOV     R6,A
  253   W0131:
  254           AJMP    W01BE
  255
  256   W0133:
  257           MOV     A,@R0
  258           JZ      W0137
  259           INC     @R0
  260   W0137:
  261           INC     R0
  262           INC     @R1
  263           MOV     A,@R1
  264           JNZ     W0133
  265           RET
  266
  267   W013D:
  268           MOV     R1,#6Ch
  269           MOV     A,@R1
  270           JB      ACC.7,W014F
  271           CLR     P2.6
  272           ANL     TMOD,#0F8H
  272           MOV     TL0,#00H
  272           SETB    TR0
*** WARNING 002 ***  TIMING INSTRUCTIONS MAY HAVE INCORRECT TIME SPANS
  273           MOV     A,T
  274           MOV     R0,#67h
  275           MOV     @R0,A
  276           CLR     A
  277           MOV     T,A
  278           ACALL   W0520
  279   W014D:
  280           SJMP    W019B
  281
  282   W014F:
  283           MOV     R0,#67h
  284           ANL     TMOD,#0F8H
  284           MOV     TL0,#00H
  284           SETB    TR0
*** WARNING 002 ***  TIMING INSTRUCTIONS MAY HAVE INCORRECT TIME SPANS
  285           MOV     A,T
  286           MOV     @R0,A
  287           MOV     R1,#61h
  288           MOV     A,@R1
  289           JZ      W017A
  290           ADD     A,#0F9h
  291           JNC     W016F
  292           MOV     A,@R1
  293           CPL     A
8048 TO 8051 ASSEMBLY LANGUAGE CONVERTER                                                                        PAGE  68


  294           INC     A
  295           MOV     T,A
  296           MOV     A,R6
  297           ORL     A,#40h
  298           MOV     R6,A
  299           ACALL   W0520
  300           ACALL   W0469
  301           MOV     R0,#6Bh
  302           MOV     @R0,#00h
  303           SJMP    W01A9
  304
  305   W016F:
  306           MOV     A,@R1
  307           CPL     A
  308           INC     A
  309           JBC     TF0,W0174
*** WARNING 002 ***  TIMING INSTRUCTIONS MAY HAVE INCORRECT TIME SPANS
  310   W0174:
  311           MOV     T,A
  312           NOP
  313   W0176:
  314           JBC     TF0,W0187
*** WARNING 002 ***  TIMING INSTRUCTIONS MAY HAVE INCORRECT TIME SPANS
  315           SJMP    W0176                   ; Wait for Interrupt
  316
  317   W017A:
  318           CLR     A
  319           MOV     T,A
  320           MOV     A,R7
  321           JZ      W0191
  322           ADD     A,#0FDh
  323           JNC     W0191
  324           DEC     R7
  325           DEC     R7
  326           SJMP    W018F
  327
  328   W0187:
  329           MOV     A,R7
  330           JZ      W0191
  331           MOV     A,#03h
  332   W018C:
  333           DEC     A
  334           JNZ     W018C
  335   W018F:
  336           DJNZ    R7,W018F
  337   W0191:
  338           CLR     P2.6
  339           ACALL   W0520
  340           ACALL   W0469
  341           MOV     R1,#6Bh
  342           MOV     @R1,#01h
  343   W019B:
  344           ACALL   W059E
  345           MOV     A,T
  346           CPL     A
  347           INC     A
  348           MOV     R0,#69h
8048 TO 8051 ASSEMBLY LANGUAGE CONVERTER                                                                        PAGE  69


  349           ADD     A,@R0
  350   W01A3:
  351           CPL     A
  352           INC     A
  353           MOV     T,A
  354           MOV     A,@R0
  355           ACALL   W0476
  356   W01A9:
  357           MOV     R1,#47h
  358           MOV     @R1,#0D8h
  359           MOV     R1,#79h
  360           MOV     A,@R1
  361           ANL     A,#7Fh
  362           MOV     @R1,A
  363           MOV     A,R6
  364           ANL     A,#0F8h
  365           MOV     R6,A
  366           CLR     EX0
  367           JBC     TF0,W01BA
*** WARNING 002 ***  TIMING INSTRUCTIONS MAY HAVE INCORRECT TIME SPANS
  368   W01BA:
  369           CLR     ET0
  370           ORL     IE,#EA_OR_ET0
  371           AJMP    W040F
  372
  373   W01BE:
  374           ORL     PSW,#18H
  375           MOV     A,R6
  376           JB      ACC.6,W01E0
  377           JB      ACC.2,W01D2
  378           ORL     A,#24h
  379           MOV     R6,A
  380           
*** WARNING 004 ***  SEL MB INSTRUCTION HAS BEEN DELETED
  381           ACALL   W0200
  382           
*** WARNING 004 ***  SEL MB INSTRUCTION HAS BEEN DELETED
  383           ORL     PSW,#18H
  384           MOV     A,R6
  385           ANL     A,#0DFh
  386           MOV     R6,A
  387           SJMP    W01E0
  388
  389   W01D2:
  390           ANL     PSW,#0E7H
  391           MOV     R0,#79h
  392           MOV     A,@R0
  393           JB      ACC.7,W01E0
  394           JNB     T0,W01E0
*** WARNING 002 ***  TIMING INSTRUCTIONS MAY HAVE INCORRECT TIME SPANS
  395           MOV     @R0,#01h
  396           MOV     R0,#4Dh
  397           MOV     @R0,#01h
  398   W01E0:
  399           ORL     PSW,#18H
  400           MOV     A,R6
  401           JB      ACC.0,W01EA
8048 TO 8051 ASSEMBLY LANGUAGE CONVERTER                                                                        PAGE  70


  402           JNB     INT0,W01EA
  403           ORL     IE,#EA_OR_EX0
  404           ORL     A,#01h
  405           MOV     R6,A
  406   W01EA:
  407           JB      ACC.5,W01F4
  408           ANL     PSW,#0E7H
  409           MOV     A,R2
  410           ADD     A,#0ECh
  411           JC      W01F4
  412           AJMP    W0060
  413
  414   W01F4:
  415           ANL     PSW,#0E7H
  416           RET
  417
  418           MOV     A,R7
  419           MOV     A,R7
  420           MOV     A,R7
  421           MOV     A,R7
  422           MOV     A,R7
  423           MOV     A,R7
  424           MOV     A,R7
  425           MOV     A,R7
  426           AJMP    W0411
  427
  428   W0200:
  429           MOV     R0,#41h
  430           MOV     A,@R0
  431           JNZ     W020E
  432           JB      F1,W0221
  433           MOV     R1,#38h
  434           MOV     A,@R1
  435           JZ      W022D
  436           AJMP    W02C6
  437
  438   W020E:
  439           MOV     A,R4
  440           ORL     A,#2Ah
  441           MOV     R4,A
  442           MOV     R0,#31h
  443           MOV     A,@R0
  444           JB      ACC.2,W021B
  445           MOV     R0,#4Ah
  446           SJMP    W021D
  447
  448   W021B:
  449           MOV     R0,#4Bh
  450   W021D:
  451           MOV     A,@R0
  452           MOV     R3,A
  453           CLR     F1
  454           CPL     F1
  455   W0221:
  456           AJMP    W0700
  457
  458   W0223:
8048 TO 8051 ASSEMBLY LANGUAGE CONVERTER                                                                        PAGE  71


  459           ADD     A,#9Ch
  460           JNC     W0228
  461           CLR     A
  462   W0228:
  463           ADD     A,#64h
  464           MOV     R3,A
  465           AJMP    W0700
  466
  467   W022D:
  468           MOV     R0,#73h
  469           MOV     A,R4
  470   W0230:
  471           ORL     A,#08h
  472           MOV     R4,A
  473           JB      ACC.1,W0279
  474           MOV     A,@R0
  475           JNZ     W023C
  476           MOV     A,R4
  477           ORL     A,#40h
  478           MOV     R4,A
  479   W023C:
  480           MOV     A,R5
  481           JNZ     W0221
  482           MOV     R0,#53h
  483           MOV     A,@R0
  484           JNZ     W0221
  485           MOV     R0,#49h
  486           MOV     A,@R0
  487           JNZ     W0221
  488           MOV     R0,#40h
  489           MOV     A,@R0
  490           JZ      L_1
  490           AJMP    W02AF
  490   L_1:
  491           MOV     R0,#5Fh
  492           MOV     A,@R0
  493           MOV     R0,#31h
  494           JZ      W025C
  495           MOV     A,@R0
  496           ANL     A,#2Bh
  497           XRL     A,#28h
  498           JZ      W0266
  499   W025C:
  500           MOV     A,R4
  501           JB      ACC.2,W026F
  502           MOV     A,@R0
  503           ANL     A,#2Fh
  504           XRL     A,#2Dh
  505           JNZ     W026F
  506   W0266:
  507           MOV     A,R3
  508           JZ      W0221
  509           DEC     A
  510           ACALL   W05A5
  511           MOV     R3,A
  512           SJMP    W0273
  513
8048 TO 8051 ASSEMBLY LANGUAGE CONVERTER                                                                        PAGE  72


  514   W026F:
  515           MOV     A,R3
  516           JZ      W0221
  517           DEC     R3
  518   W0273:
  519           CLR     F1
  520           CPL     F1
  521           ACALL   W05BF
  522           AJMP    W0700
  523
  524   W0279:
  525           MOV     @R0,#0ECh
  526           JB      ACC.5,W02C1
  527           MOV     R0,#2Ch
  528           MOV     A,R3
  529           MOV     @R0,A
  530           MOV     R0,#31h
  531           MOV     A,@R0
  532           ANL     A,#0Bh
  533           XRL     A,#08h
  534           JNZ     W028C
  535           ACALL   W0445
  536   W028C:
  537           MOV     A,R4
  538           ANL     A,#0BDh
  539           MOV     R4,A
  540           MOV     R0,#74h
  541           MOV     A,@R0
  542           JNZ     W02AF
  543           MOV     A,R4
  544           CPL     A
  545           JB      ACC.4,W02AF
  546           MOV     R0,#49h
  547           MOV     A,P2
  548           JB      ACC.3,W02A3
  549           MOV     A,R2
  550           ADD     A,#0D6h
  551           JC      W02A7
  552   W02A3:
  553           MOV     @R0,#0D8h
  554           SJMP    W02A9
  555
  556   W02A7:
  557           MOV     @R0,#88h
  558   W02A9:
  559           MOV     R0,#40h
  560           MOV     @R0,#0FFh
  561           AJMP    W0700
  562
  563   W02AF:
  564           MOV     R0,#40h
  565           MOV     @R0,#00h
  566           MOV     R0,#2Ch
  567           MOV     A,@R0
  568           MOV     R0,#2Dh
  569           ADD     A,@R0
  570           INC     A
8048 TO 8051 ASSEMBLY LANGUAGE CONVERTER                                                                        PAGE  73


  571           CLR     C
  572           RRC     A
  573           MOV     R3,A
  574           CLR     F1
  575           CPL     F1
  576           AJMP    W0700
  577
  578   W02C1:
  579           ANL     A,#9Dh
  580           MOV     R4,A
  581           AJMP    W0700
  582
  583   W02C6:
  584           MOV     A,R4
  585           ORL     A,#02h
  586           MOV     R4,A
  587           JB      ACC.3,W02DC
  588           MOV     A,R5
  589           JZ      L_2
  589           AJMP    W0221
  589   L_2:
  590           MOV     R0,#53h
  591           MOV     A,@R0
  592           JZ      L_3
  592           AJMP    W0221
  592   L_3:
  593           MOV     A,R3
  594           ADD     A,#9Ch
  595           JNC     L_4
  595           AJMP    W0221
  595   L_4:
  596           INC     R3
  597           AJMP    W0273
  598
  599   W02DC:
  600           JB      ACC.5,W02E8
  601           MOV     R0,#2Dh
  602           MOV     A,R3
  603           MOV     @R0,A
  604           MOV     A,R4
  605           ANL     A,#0B7h
  606           MOV     R4,A
  607           SJMP    W02AF
  608
  609   W02E8:
  610           ANL     A,#97h
  611           MOV     R4,A
  612           AJMP    W0700
  613
  614           MOV     A,R7
  615           MOV     A,R7
  616           MOV     A,R7
  617           MOV     A,R7
  618           MOV     A,R7
  619           MOV     A,R7
  620           MOV     A,R7
  621           MOV     A,R7
8048 TO 8051 ASSEMBLY LANGUAGE CONVERTER                                                                        PAGE  74


  622           MOV     A,R7
  623           MOV     A,R7
  624           MOV     A,R7
  625           MOV     A,R7
  626           MOV     A,R7
  627           MOV     A,R7
  628           MOV     A,R7
  629           MOV     A,R7
  630           MOV     A,R7
  631           AJMP    W0411
  632
  633   W0300:
  634           MOV     A,P2
  635           JNB     ACC.2,L_5
  635           AJMP    W03C1
  635   L_5:
  636   W0303:
  637           JB      F0,W0309
  638   W0305:
  639           ACALL   W0500
  640           SJMP    W030B
  641
  642   W0309:
  643           ACALL   W051B
  644   W030B:
  645           MOV     A,#32h
  646           AJMP    W0223
  647
  648   W030F:
  649           JNB     F0,L_6
  649           AJMP    W03D9
  649   L_6:
  650   W0311:
  651           ACALL   W0509
  652   W0313:
  653           AJMP    W0200
  654
  655   W0315:
  656           JNB     F0,L_7
  656           AJMP    W03D9
  656   L_7:
  657           MOV     A,P2
  658           JB      ACC.2,W0311
  659           MOV     A,BUS
  660           JB      ACC.6,W031F
  661           SJMP    W0311
  662
  663   W031F:
  664           ACALL   W0512
  665           AJMP    W0200
  666
  667   W0323:
  668           ACALL   W0500
  669   W0325:
  670           JNB     F0,L_8
  670           AJMP    W03D9
  670   L_8:
8048 TO 8051 ASSEMBLY LANGUAGE CONVERTER                                                                        PAGE  75


  671           MOV     A,P2
  672           JB      ACC.2,W0340
  673           JB      ACC.3,W0336
  674           JB      ACC.0,W0332
  675   W032E:
  676           MOV     A,#28h
  677           AJMP    W0223
  678
  679   W0332:
  680           MOV     A,#32h
  681           AJMP    W0223
  682
  683   W0336:
  684           JB      ACC.0,W033C
  685   W0338:
  686           MOV     A,#23h
  687           AJMP    W0223
  688
  689   W033C:
  690           MOV     A,#2Dh
  691           AJMP    W0223
  692
  693   W0340:
  694           JB      ACC.3,W0344
  695           SJMP    W0336
  696
  697   W0344:
  698           JB      ACC.0,W032E
  699           MOV     A,#1Eh
  700           AJMP    W0223
  701
  702   W034A:
  703           JNB     F0,L_9
  703           AJMP    W03DD
  703   L_9:
  704   W034C:
  705           ACALL   W0500
  706           AJMP    W0200
  707
  708   W0350:
  709           JNB     F0,L_10
  709           AJMP    W03DD
  709   L_10:
  710           MOV     A,P2
  711           JB      ACC.2,W0360
  712           JB      ACC.1,W0359
  713           SJMP    W034C
  714
  715   W0359:
  716           ACALL   W0500
  717   W035B:
  718           MOV     R0,#4Ah
  719   W035D:
  720           MOV     A,@R0
  721           AJMP    W0223
  722
  723   W0360:
8048 TO 8051 ASSEMBLY LANGUAGE CONVERTER                                                                        PAGE  76


  724           JB      ACC.1,W0366
  725           ACALL   W0512
  726           SJMP    W0368
  727
  728   W0366:
  729           ACALL   W0500
  730   W0368:
  731           MOV     A,P2
  732           CPL     A
  733           JNB     ACC.3,L_11
  733           AJMP    W0313
  733   L_11:
  734           MOV     A,BUS
  735           JB      ACC.6,W035B
  736           AJMP    W0200
  737
  738   W0371:
  739           JNB     F0,L_12
  739           AJMP    W0305
  739   L_12:
  740           MOV     A,R4
  741   W0374:
  742           JNB     ACC.2,L_13
  742           AJMP    W0311
  742   L_13:
  743           SJMP    W034C
  744
  745   W0378:
  746           JB      F0,W0391
  747           MOV     A,R4
  748           CPL     A
  749           JB      ACC.2,W0389
  750           MOV     A,P2
  751           JNB     ACC.2,L_14
  751           AJMP    W0311
  751   L_14:
  752           MOV     A,BUS
  753           CPL     A
  754           JNB     ACC.6,L_15
  754           AJMP    W0311
  754   L_15:
  755           ACALL   W0512
  756           AJMP    W0200
  757
  758   W0389:
  759           MOV     A,P2
  760           CPL     A
  761           JB      ACC.2,W034C
  762           JNB     ACC.1,L_16
  762           AJMP    W0311
  762   L_16:
  763           SJMP    W034C
  764
  765   W0391:
  766           ACALL   W0500
  767   W0393:
  768           MOV     A,#3Ch
8048 TO 8051 ASSEMBLY LANGUAGE CONVERTER                                                                        PAGE  77


  769           AJMP    W0223
  770
  771   W0397:
  772           JB      F0,W03A2
  773           ACALL   W0500
  774           MOV     A,P2
  775           JB      ACC.2,W0393
  776   W039E:
  777           MOV     A,#46h
  778           AJMP    W0223
  779
  780   W03A2:
  781           ACALL   W051B
  782           SJMP    W039E
  783
  784   W03A6:
  785           MOV     A,R4
  786           CPL     A
  787           JNB     ACC.2,L_17
  787           AJMP    W0305
  787   L_17:
  788           MOV     A,P2
  789   W03AB:
  790           JNB     ACC.2,L_18
  790           AJMP    W0305
  790   L_18:
  791           SJMP    W03D9
  792
  793   W03AF:
  794           ACALL   W0500
  795           MOV     A,R4
  796           CPL     A
  797           JB      ACC.2,W0393
  798           MOV     A,P2
  799           CPL     A
  800           JNB     ACC.2,L_19
  800           AJMP    W033C
  800   L_19:
  801           JNB     F0,L_20
  801           AJMP    W0338
  801   L_20:
  802           AJMP    W033C
  803
  804   W03BD:
  805           JB      F0,W03D0
  806           SJMP    W03DD
  807
  808   W03C1:
  809           JB      F0,W03C7
  810           ACALL   W0500
  811           SJMP    W03C9
  812
  813   W03C7:
  814           ACALL   W051B
  815   W03C9:
  816           MOV     R0,#36h
  817           MOV     A,@R0
8048 TO 8051 ASSEMBLY LANGUAGE CONVERTER                                                                        PAGE  78


  818           ADD     A,#32h
  819           AJMP    W0223
  820
  821   W03D0:
  822           ACALL   W051B
  823           MOV     R0,#36h
  824           MOV     A,@R0
  825           ADD     A,#2Ah
  826           AJMP    W0223
  827
  828   W03D9:
  829           ACALL   W0500
  830           SJMP    W03DF
  831
  832   W03DD:
  833           ACALL   W051B
  834   W03DF:
  835           MOV     R0,#36h
  836           MOV     A,@R0
  837           AJMP    W0223
  838
  839           MOV     A,R7
  840           MOV     A,R7
  841           MOV     A,R7
  842           MOV     A,R7
  843           MOV     A,R7
  844           MOV     A,R7
  845           MOV     A,R7
  846           MOV     A,R7
  847           MOV     A,R7
  848           MOV     A,R7
  849           MOV     A,R7
  850           MOV     A,R7
  851           MOV     A,R7
  852           MOV     A,R7
  853           MOV     A,R7
  854           MOV     A,R7
  855           MOV     A,R7
  856           MOV     A,R7
  857           MOV     A,R7
  858           MOV     A,R7
  859           MOV     A,R7
  860           MOV     A,R7
  861           MOV     A,R7
  862           MOV     A,R7
  863           MOV     A,R7
  864           MOV     A,R7
  865           SJMP    W0411
  866
  867   W0400:
  868           MOV     A,PSW
*** WARNING 014 ***  PSW FORMAT DIFFERENT IN THE 8051
  869           DEC     A
  870           ANL     A,#07h
  871           ADD     A,#0FAh
  872           JC      W0411
  873           JNB     INT0,W040F
8048 TO 8051 ASSEMBLY LANGUAGE CONVERTER                                                                        PAGE  79


  874           ORL     IE,#EA_OR_EX0
  875           MOV     A,R6
  876           ORL     A,#01h
  877           MOV     R6,A
  878   W040F:
  879           MOV     A,R2
  880   W0410:
  881           MOV     PSW,PSWSAV
  881           MOV     DPH,DPHSAV
  881           RETI    
*** WARNING 003 ***  ANY CALLS TO THE INTERRUPT ROUTINE NEED TO SAVE PSW AND DPH
  882
  883   W0411:
  884           SETB    P2.5
  885           CLR     ET0
  886           CLR     EX0
  887           CLR     A
  888           MOV     PSW,A
*** WARNING 014 ***  PSW FORMAT DIFFERENT IN THE 8051
  889           
*** WARNING 004 ***  SEL MB INSTRUCTION HAS BEEN DELETED
  890           ACALL   W0410
  891           ANL     PSW,#0E7H
  892           MOVX    A,@R0
  893           AJMP    W0000                   ; Cold Boot
  894
  895   W041E:
  896           ANL     PSW,#0E7H
  897           MOV     R0,#29h
  898           MOV     R1,#28h
  899           MOV     A,BUS
  900           ANL     A,#3Fh
  901           XCH     A,@R0
  902           XRL     A,@R0
  903           JZ      W042E
  904           MOV     @R1,#0FDh
  905           SJMP    W0444
  906
  907   W042E:
  908           INC     @R1
  909           MOV     A,@R1
  910           JNZ     W0444
  911           MOV     A,@R0
  912           MOV     R0,#2Ah
  913           MOV     @R0,A
  914           MOV     A,R4
  915           JB      ACC.7,W0444
  916           MOV     A,@R0
  917           JB      ACC.1,W0444
  918           MOV     R0,#5Fh
  919           MOV     @R0,#10h
  920           MOV     A,R4
  921   W0441:
  922           ORL     A,#80h
  923           MOV     R4,A
  924   W0444:
  925           RET
8048 TO 8051 ASSEMBLY LANGUAGE CONVERTER                                                                        PAGE  80


  926
  927   W0445:
  928           MOV     R1,#31h
  929           MOV     A,@R1
  930           MOV     R1,#4Bh
  931           JB      ACC.2,W044E
  932   W044C:
  933           MOV     R1,#4Ah
  934   W044E:
  935           MOV     R0,#2Ch
  936           MOV     A,@R0
  937           MOV     R0,#2Dh
  938           ADD     A,@R0
  939           CLR     C
  940           RRC     A
  941           CLR     C
  942           ADD     A,@R1
  943           ADD     A,@R1
  944           JC      W045E
  945           ADD     A,@R1
  946           SJMP    W0461
  947
  948   W045E:
  949           ADD     A,@R1
  950           CLR     C
  951           CPL     C
  952   W0461:
  953           RRC     A
  954           CLR     C
  955           RRC     A
  956           JNC     W0467
  957           INC     A
  958   W0467:
  959           MOV     @R1,A
  960           RET
  961
  962   W0469:
  963           MOV     R0,#61h
  964           MOV     A,@R0
  965           JZ      W0483
  966           SJMP    W0476
  967
  968   W0470:
  969           MOV     R1,#76h
  970   W0472:
  971           CPL     A
  972           INC     A
  973           SJMP    W0478
  974
  975   W0476:
  976           MOV     R1,#78h
  977   W0478:
  978           MOV     R0,#77h
  979           MOV     @R0,A
  980           ADD     A,@R1
  981           MOV     @R1,A
  982           MOV     A,@R0
8048 TO 8051 ASSEMBLY LANGUAGE CONVERTER                                                                        PAGE  81


  983           ADD     A,R4
  984           JNC     W0482
  985           INC     R5
  986   W0482:
  987           MOV     R4,A
  988   W0483:
  989           RET
  990
  991   W0484:
  992           MOV     R1,#66h
  993           MOV     R0,#65h
  994           MOV     A,@R0
  995           CPL     A
  996           INC     A
  997           ADD     A,R4
  998           JZ      W049C
  999           DEC     A
 1000           JZ      W049C
 1001           MOV     A,R4
 1002           MOV     @R0,A
 1003           MOV     R0,#63h
 1004           MOV     @R0,A
 1005           MOV     A,R5
 1006   W0497:
 1007           MOV     @R1,A
 1008           MOV     R1,#64h
 1009           MOV     @R1,A
 1010           RET
 1011
 1012   W049C:
 1013           MOV     A,@R0
 1014           MOV     R0,#63h
 1015           MOV     @R0,A
 1016           MOV     A,@R1
 1017           MOV     R1,#64h
 1018           MOV     @R1,A
 1019           RET
 1020
 1021   W04A5:
 1022           MOV     R0,#3Ah
 1023           MOV     A,@R0
 1024           JNZ     W04EA
 1025           MOV     R0,#3Eh
 1026           MOV     A,@R0
 1027           INC     @R0
 1028           JNZ     W04EA
 1029   W04B0:
 1030           MOV     @R0,#0F6h
 1031           SJMP    W04B9
 1032
 1033   W04B4:
 1034           MOV     R0,#3Ah
 1035           MOV     A,@R0
 1036           JZ      W04EA
 1037   W04B9:
 1038           ANL     PSW,#0E7H
 1039           MOV     A,R3
8048 TO 8051 ASSEMBLY LANGUAGE CONVERTER                                                                        PAGE  82


 1040           ORL     PSW,#18H
 1041           CPL     A
 1042           ADD     A,R3
 1043   W04BE:
 1044           INC     A
 1045           JZ      W04E9
 1046           JNC     W04C6
 1047           DEC     R3
 1048           SJMP    W04C7
 1049
 1050   W04C6:
 1051           INC     R3
 1052   W04C7:
 1053           MOV     A,R3
 1054           ANL     A,#03h
 1055           ADD     A,#0CDh
 1056           MOV     DPTR,#($ AND 0F00H)
*** WARNING 001 ***  REFERENCED INSTRUCTION OR DATA MAY NOT BE IN CORRECT PAGE
 1056           MOVC    A,@A+DPTR
 1056           JMP     @A+DPTR
 1057           XRL     A,@R1
 1058           MOV     PSW,A
*** WARNING 014 ***  PSW FORMAT DIFFERENT IN THE 8051
 1059           XRL     A,R5
 1060           MOV     DPTR,#300H
*** WARNING 001 ***  REFERENCED INSTRUCTION OR DATA MAY NOT BE IN CORRECT PAGE
 1060           MOVC    A,@A+DPTR
 1061           ORL     P1,#09h
 1062           ANL     P1,#0F9h
 1063           SJMP    W04EA
 1064
 1065           ORL     P1,#0Ah
 1066           ANL     P1,#0FAh
 1067           SJMP    W04EA
 1068
 1069           ORL     P1,#06h
 1070           ANL     P1,#0F6h
 1071           SJMP    W04EA
 1072
 1073           ORL     P1,#05h
 1074           ANL     P1,#0F5h
 1075           SJMP    W04EA
 1076
 1077   W04E9:
 1078           CLR     F1
 1079   W04EA:
 1080           RET
 1081
 1082           MOV     A,R7
 1083           MOV     A,R7
 1084           MOV     A,R7
 1085           MOV     A,R7
 1086           MOV     A,R7
 1087           MOV     A,R7
 1088           MOV     A,R7
 1089           MOV     A,R7
 1090           MOV     A,R7
8048 TO 8051 ASSEMBLY LANGUAGE CONVERTER                                                                        PAGE  83


 1091           MOV     A,R7
 1092           MOV     A,R7
 1093           MOV     A,R7
 1094           MOV     A,R7
 1095           MOV     A,R7
 1096           MOV     A,R7
 1097           MOV     A,R7
 1098           MOV     A,R7
 1099           MOV     A,R7
 1100           MOV     A,R7
 1101           AJMP    W0411
 1102
 1103   W0500:
 1104           ACALL   W05D5
 1105           JZ      W051B
 1106   W0504:
 1107           SETB    P1.5
 1108           SETB    P1.4
 1109           RET
 1110
 1111   W0509:
 1112           ACALL   W05D5
 1113           JZ      W051B
 1114   W050D:
 1115           CLR     P1.5
 1116           SETB    P1.4
 1117           RET
 1118
 1119   W0512:
 1120           ACALL   W05D5
 1121           JZ      W051B
 1122           MOV     A,R4
 1123           JB      ACC.6,W0504
 1124           SJMP    W050D
 1125
 1126   W051B:
 1127           CLR     P1.5
 1128           CLR     P1.4
 1129           RET
 1130
 1131   W0520:
 1132           MOV     R0,#6Bh
 1133           MOV     R1,#67h
 1134           MOV     A,@R0
 1135           ADD     A,#0FBh
 1136           JNC     W0530
 1137           MOV     A,@R1
 1138           ADD     A,R4
 1139           JNC     W0537
 1140           INC     R5
 1141           SJMP    W0537
 1142
 1143   W0530:
 1144           MOV     A,@R1
 1145           JZ      W0538
 1146           ADD     A,R4
 1147           JC      W0537
8048 TO 8051 ASSEMBLY LANGUAGE CONVERTER                                                                        PAGE  84


 1148           DEC     R5
 1149   W0537:
 1150           MOV     R4,A
 1151   W0538:
 1152           ACALL   W0484
 1153           MOV     R0,#00h
 1154           MOV     R1,#00h
 1155           MOV     R1,#66h
 1156           MOV     A,@R1
 1157           MOV     R0,#65h
 1158           ANL     PSW,#0E7H
 1159           MOV     R2,#00h
 1160           CLR     C
 1161           JZ      W0556
 1162           DEC     A
 1163           JZ      W0555
 1164           DEC     A
 1165           MOV     R2,#80h
 1166           JZ      W0556
 1167           MOV     R2,#0C0h
 1168           SJMP    W0556
 1169
 1170   W0555:
 1171           CPL     C
 1172   W0556:
 1173           ORL     PSW,#18H
 1174           MOV     A,@R0
 1175   W0558:
 1176           MOV     R1,#7Bh
 1177           MOV     @R1,#00h
 1178           RRC     A
 1179           JNC     W0560
 1180           INC     @R1
 1181   W0560:
 1182           CLR     C
 1183           RRC     A
 1184           JNC     W0566
 1185           INC     @R1
 1186           INC     @R1
 1187   W0566:
 1188           ANL     PSW,#0E7H
 1189           ADD     A,R2
 1190           MOV     R2,A
 1191           JNC     W056F
 1192           MOV     R2,#0FFh
 1193           ORL     PSW,#18H
 1194           RET
 1195
 1196   W056F:
 1197           MOV     A,R2
 1198           ORL     PSW,#18H
 1199           MOV     R1,#6Bh
 1200           MOV     @R1,#01h
 1201           MOV     R1,#7Bh
 1202           ADD     A,@R1
 1203           MOV     R0,#69h
 1204           JC      W0592
8048 TO 8051 ASSEMBLY LANGUAGE CONVERTER                                                                        PAGE  85


 1205           MOV     @R0,A
 1206           MOV     R1,#6Ch
 1207           MOV     A,@R1
 1208           JB      ACC.7,W059D
 1209   W0582:
 1210           MOV     R1,#61h
 1211           MOV     A,@R1
 1212           JZ      W059D
 1213           CPL     A
 1214           INC     A
 1215           ADD     A,@R0
 1216           MOV     @R0,A
 1217           JNC     W0595
 1218           ADD     A,#0F6h
 1219           JNC     W0595
 1220           RET
 1221
 1222   W0592:
 1223           MOV     @R0,#0FFh
 1224           RET
 1225
 1226   W0595:
 1227           MOV     R1,#6Bh
 1228   W0597:
 1229           INC     @R1
 1230           ANL     PSW,#0E7H
 1231           MOV     A,R2
 1232           ORL     PSW,#18H
 1233           ADD     A,@R0
 1234           MOV     @R0,A
 1235   W059D:
 1236           RET
 1237
 1238   W059E:
 1239           MOV     A,T
 1240           MOV     R1,A
 1241   W05A0:
 1242           MOV     A,T
 1243           XRL     A,R1
 1244           JZ      W05A0
 1245           RET
 1246
 1247   W05A5:
 1248           MOV     R0,A
 1249           MOV     R1,#36h
 1250           MOV     A,@R1
 1251           ADD     A,#0E2h
 1252           JNC     W05BB
 1253           JZ      W05BB
 1254           CPL     A
 1255           INC     A
 1256           CLR     C
 1257           ADD     A,R0
 1258           JC      W05BB
 1259           MOV     A,@R1
 1260           ADD     A,#0E2h
 1261           JB      ACC.7,W05BD
8048 TO 8051 ASSEMBLY LANGUAGE CONVERTER                                                                        PAGE  86


 1262           RET
 1263
 1264   W05BB:
 1265           MOV     A,R0
 1266           RET
 1267
 1268   W05BD:
 1269           CLR     A
 1270           RET
 1271
 1272   W05BF:
 1273           MOV     A,R2
 1274           ADD     A,#0DFh
 1275           JNC     W05CC
 1276           MOV     A,R2
 1277           ADD     A,#0CFh
 1278           JNC     W05D0
 1279           MOV     R1,#08h
 1280           RET
 1281
 1282   W05CC:
 1283           MOV     A,#0Ch
 1284           MOV     R5,A
 1285           RET
 1286
 1287   W05D0:
 1288           MOV     R0,#53h
 1289           MOV     @R0,#83h
 1290           RET
 1291
 1292   W05D5:
 1293           MOV     R0,#5Dh
 1294           MOV     A,@R0
 1295           JZ      W05F0
 1296           MOV     R0,#5Ch
 1297           MOV     A,@R0
 1298           JZ      W05F0
 1299           MOV     R1,#37h
 1300           MOV     A,R2
 1301           ADD     A,#0DFh
 1302           JNC     W05EE
 1303           MOV     A,R2
 1304           ADD     A,#0DEh
 1305           JC      W05F2
 1306           MOV     A,@R1
 1307           JZ      W05F4
 1308   W05EE:
 1309           MOV     @R1,#01h
 1310   W05F0:
 1311           CLR     A
 1312           RET
 1313
 1314   W05F2:
 1315           MOV     @R1,#00h
 1316   W05F4:
 1317           MOV     A,#0FFh
 1318           RET
8048 TO 8051 ASSEMBLY LANGUAGE CONVERTER                                                                        PAGE  87


 1319
 1320           MOV     A,R7
 1321           MOV     A,R7
 1322           MOV     A,R7
 1323           MOV     A,R7
 1324           MOV     A,R7
 1325           MOV     A,R7
 1326           MOV     A,R7
 1327           AJMP    W0411
 1328
 1329   W0600:
 1330           MOV     R0,#5Bh
 1331           MOV     @R0,#00h
 1332           MOV     R0,#6Eh
 1333           MOV     @R0,#00h
 1334           MOV     R0,#5Eh
 1335           MOV     @R0,#00h
 1336           AJMP    W03DD
 1337
 1338   W060E:
 1339           ACALL   W0060
 1340           CLR     F0
 1341           MOV     R0,#5Bh
 1342           MOV     A,@R0
 1343           JZ      W0617
 1344           CPL     F0
 1345   W0617:
 1346           MOV     R0,#31h
 1347           MOV     A,@R0
 1348           ANL     A,#35h
 1349           XRL     A,#31h
 1350           JZ      W0624
 1351           MOV     R1,#5Ch
 1352           MOV     @R1,#0E2h
 1353   W0624:
 1354           MOV     A,@R0
 1355           ANL     A,#2Dh
 1356           XRL     A,#2Dh
 1357           JZ      W062F
 1358           MOV     R1,#5Dh
 1359           MOV     @R1,#88h
 1360   W062F:
 1361           ACALL   W0631
 1362   W0631:
 1363           MOV     R0,#31h
 1364           MOV     A,@R0
 1365           ANL     A,#3Fh
 1366           RL      A
 1367           ADD     A,#3Dh
 1368           MOV     R0,#08h
 1369           MOV     @R0,A
 1370           RET
 1371
 1372           AJMP    W07C7
 1373
 1374           AJMP    W03C7
 1375
8048 TO 8051 ASSEMBLY LANGUAGE CONVERTER                                                                        PAGE  88


 1376           AJMP    W03DD
 1377
 1378           AJMP    W03C7
 1379
 1380           AJMP    W03DD
 1381
 1382           AJMP    W03DD
 1383
 1384           AJMP    W03DD
 1385
 1386           AJMP    W03DD
 1387
 1388           AJMP    W03BD
 1389
 1390           AJMP    W03C7
 1391
 1392           AJMP    W03D0
 1393
 1394           AJMP    W03D0
 1395
 1396           AJMP    W03BD
 1397
 1398           AJMP    W03D0
 1399
 1400           AJMP    W03D0
 1401
 1402           AJMP    W03D0
 1403
 1404           AJMP    W03DD
 1405
 1406           AJMP    W03C7
 1407
 1408           AJMP    W03DD
 1409
 1410           AJMP    W03C7
 1411
 1412           AJMP    W03DD
 1413
 1414           AJMP    W03DD
 1415
 1416           AJMP    W03DD
 1417
 1418           AJMP    W03DD
 1419
 1420           AJMP    W03BD
 1421
 1422           AJMP    W03C7
 1423
 1424           AJMP    W03D0
 1425
 1426           AJMP    W03D0
 1427
 1428           AJMP    W03BD
 1429
 1430           AJMP    W03D0
 1431
 1432           AJMP    W03D0
8048 TO 8051 ASSEMBLY LANGUAGE CONVERTER                                                                        PAGE  89


 1433
 1434           AJMP    W03D0
 1435
 1436           AJMP    W03DD
 1437
 1438           AJMP    W0300                   ; Frequency Data
 1439
 1440           AJMP    W03DD
 1441
 1442           AJMP    W03C1
 1443
 1444           AJMP    W03DD
 1445
 1446           AJMP    W03DD
 1447
 1448           AJMP    W03DD
 1449
 1450           AJMP    W03DD
 1451
 1452           AJMP    W030F
 1453
 1454           AJMP    W034A                   ; Tune Data
 1455
 1456           AJMP    W03D9
 1457
 1458           AJMP    W0303
 1459
 1460           AJMP    W030F
 1461
 1462           AJMP    W0371
 1463
 1464           AJMP    W03D9
 1465
 1466           AJMP    W03A6
 1467
 1468           AJMP    W03DD
 1469
 1470           AJMP    W03C1
 1471
 1472           AJMP    W03DD
 1473
 1474           AJMP    W03C1
 1475
 1476           AJMP    W03DD
 1477
 1478           AJMP    W03DD
 1479
 1480           AJMP    W03DD
 1481
 1482           AJMP    W03DD
 1483
 1484           AJMP    W0315
 1485
 1486           AJMP    W0350
 1487
 1488           AJMP    W03D9
 1489
8048 TO 8051 ASSEMBLY LANGUAGE CONVERTER                                                                        PAGE  90


 1490           AJMP    W0397
 1491
 1492           AJMP    W0315
 1493
 1494           AJMP    W0378
 1495
 1496           AJMP    W0323
 1497
 1498           AJMP    W03AF
 1499
 1500           MOV     A,R7
 1501           MOV     A,R7
 1502           MOV     A,R7
 1503           MOV     A,R7
 1504           MOV     A,R7
 1505           MOV     A,R7
 1506           MOV     A,R7
 1507           MOV     A,R7
 1508           MOV     A,R7
 1509           MOV     A,R7
 1510           MOV     A,R7
 1511           MOV     A,R7
 1512           MOV     A,R7
 1513           MOV     A,R7
 1514           MOV     A,R7
 1515           MOV     A,R7
 1516           MOV     A,R7
 1517           MOV     A,R7
 1518           MOV     A,R7
 1519           MOV     A,R7
 1520           MOV     A,R7
 1521           MOV     A,R7
 1522           MOV     A,R7
 1523           MOV     A,R7
 1524           MOV     A,R7
 1525           MOV     A,R7
 1526           MOV     A,R7
 1527           MOV     A,R7
 1528           MOV     A,R7
 1529           MOV     A,R7
 1530           MOV     A,R7
 1531           MOV     A,R7
 1532           MOV     A,R7
 1533           MOV     A,R7
 1534           MOV     A,R7
 1535           MOV     A,R7
 1536           MOV     A,R7
 1537           MOV     A,R7
 1538           MOV     A,R7
 1539           MOV     A,R7
 1540           MOV     A,R7
 1541           MOV     A,R7
 1542           MOV     A,R7
 1543           MOV     A,R7
 1544           MOV     A,R7
 1545           MOV     A,R7
 1546           MOV     A,R7
8048 TO 8051 ASSEMBLY LANGUAGE CONVERTER                                                                        PAGE  91


 1547           MOV     A,R7
 1548           MOV     A,R7
 1549           MOV     A,R7
 1550           MOV     A,R7
 1551           MOV     A,R7
 1552           MOV     A,R7
 1553           MOV     A,R7
 1554           MOV     A,R7
 1555           MOV     A,R7
 1556           MOV     A,R7
 1557           MOV     A,R7
 1558           MOV     A,R7
 1559           MOV     A,R7
 1560           MOV     A,R7
 1561           MOV     A,R7
 1562           MOV     A,R7
 1563           MOV     A,R7
 1564           MOV     A,R7
 1565           AJMP    W0411
 1566
 1567   W0700:
 1568           ORL     IE,#EA_OR_ET0
 1569           ACALL   W0410
 1570           MOV     R0,#47h
 1571           MOV     A,@R0
 1572           JNZ     W070A
 1573           AJMP    W0411
 1574
 1575   W070A:
 1576           INC     R0
 1577           MOV     A,@R0
 1578           JNZ     W0710
 1579           AJMP    W0411
 1580
 1581   W0710:
 1582           ACALL   W07A4
 1583   W0712:
 1584           ACALL   W0060
 1585           MOV     R0,#31h
 1586           MOV     A,@R0
 1587           ANL     A,#0Dh
 1588           XRL     A,#0Dh
 1589           JNZ     W0724
 1590           MOV     A,R4
 1591   W071E:
 1592           JB      ACC.2,W0724
 1593           CLR     P2.4
 1594           SJMP    W0726
 1595
 1596   W0724:
 1597           SETB    P2.4
 1598   W0726:
 1599           
*** WARNING 004 ***  SEL MB INSTRUCTION HAS BEEN DELETED
 1600           MOV     R0,#50h
 1601   W0729:
 1602           MOV     A,@R0
8048 TO 8051 ASSEMBLY LANGUAGE CONVERTER                                                                        PAGE  92


 1603   W072A:
 1604           JB      ACC.0,W0731
 1605           ACALL   W0100
 1606           
*** WARNING 004 ***  SEL MB INSTRUCTION HAS BEEN DELETED
 1607           SJMP    W0734
 1608
 1609   W0731:
 1610           ACALL   W0600
 1611           
*** WARNING 004 ***  SEL MB INSTRUCTION HAS BEEN DELETED
 1612   W0734:
 1613           ACALL   W07A4
 1614           ACALL   W0060
 1615           ANL     PSW,#0E7H
 1616           MOV     A,P2
 1617           JB      ACC.3,W0745
 1618           MOV     A,#0A7h
 1619           ADD     A,R2
 1620           JC      W0759
 1621           MOV     A,#0BEh
 1622   W0743:
 1623           SJMP    W074C
 1624
 1625   W0745:
 1626           MOV     A,#0B2h
 1627           ADD     A,R2
 1628           JC      W0759
 1629           MOV     A,#0C4h
 1630   W074C:
 1631           ADD     A,R2
 1632           JNC     W0753
 1633           MOV     A,R4
 1634           CPL     A
 1635   W0751:
 1636           JB      ACC.2,W0759
 1637   W0753:
 1638           MOV     A,R4
 1639           ORL     A,#04h
 1640           MOV     R4,A
 1641           SJMP    W075D
 1642
 1643   W0759:
 1644           MOV     A,R4
 1645           ANL     A,#0FBh
 1646           MOV     R4,A
 1647   W075D:
 1648           MOV     R0,#36h
 1649           MOV     @R0,#32h
 1650           MOV     A,BUS
 1651           JB      ACC.4,W0766
 1652           MOV     @R0,#19h
 1653   W0766:
 1654           MOV     R1,#3Ch
 1655           MOV     R0,#2Ah
 1656           MOV     A,@R0
 1657           MOV     R0,#31h
8048 TO 8051 ASSEMBLY LANGUAGE CONVERTER                                                                        PAGE  93


 1658   W076D:
 1659           MOV     @R0,A
 1660           XRL     A,@R1
 1661           MOV     R0,#41h
 1662           MOV     @R0,#00h
 1663           JZ      W079E
 1664           MOV     @R0,#0FFh
 1665           MOV     A,P2
 1666           CPL     A
 1667           JB      ACC.2,W079A
 1668           MOV     A,BUS
 1669           JB      ACC.7,W079A
 1670           MOV     R0,#31h
 1671           MOV     A,@R0
 1672           ANL     A,#3Bh
 1673           XRL     A,#38h
 1674   W0785:
 1675           JZ      W0794
 1676           MOV     A,@R0
 1677           XRL     A,#3Dh
 1678           JNZ     W079A
 1679           MOV     A,R4
 1680   W078D:
 1681           CPL     A
 1682           JB      ACC.2,W0794
 1683           MOV     R0,#74h
 1684           MOV     @R0,#0CEh
 1685   W0794:
 1686           MOV     A,R4
 1687           ORL     A,#10h
 1688           MOV     R4,A
 1689           SJMP    W079E
 1690
 1691   W079A:
 1692           MOV     A,R4
 1693           ANL     A,#0EFh
 1694           MOV     R4,A
 1695   W079E:
 1696           MOV     R0,#31h
 1697           MOV     A,@R0
 1698           MOV     @R1,A
 1699           AJMP    W060E
 1700
 1701   W07A4:
 1702           ORL     PSW,#18H
 1703           MOV     A,R6
 1704           JB      ACC.3,W07A9
 1705           RET
 1706
 1707   W07A9:
 1708           ANL     A,#0F7h
 1709           MOV     R6,A
 1710           ANL     PSW,#0E7H
 1711           MOV     R1,#57h
 1712           MOV     @R1,#0F9h
 1713           MOV     R0,#6Eh
 1714           ACALL   W0133
8048 TO 8051 ASSEMBLY LANGUAGE CONVERTER                                                                        PAGE  94


 1715           MOV     R0,#4Eh
 1716           MOV     A,@R0
 1717           JZ      W07BC
 1718           INC     @R0
 1719           RET
 1720
 1721   W07BC:
 1722           MOV     @R0,#0F7h
 1723           MOV     R1,#57h
 1724           MOV     @R1,#0FAh
 1725           MOV     R0,#5Ah
 1726           ACALL   W0133
 1727           RET
 1728
 1729   W07C7:
 1730           MOV     R0,#50h
 1731           MOV     A,@R0
 1732           JB      ACC.1,W07F6
 1733           JB      ACC.0,W07F4
 1734           MOV     R1,#41h
 1735           MOV     A,@R1
 1736           JZ      W07D7
 1737           MOV     A,@R0
 1738           ORL     A,#04h
 1739           MOV     @R0,A
 1740   W07D7:
 1741           MOV     A,@R0
 1742           CPL     A
 1743           JB      ACC.2,W07F6
 1744           MOV     A,R2
 1745           ADD     A,#0D6h
 1746           JC      W07F6
 1747           MOV     A,@R0
 1748           ANL     A,#0FBh
 1749           ORL     A,#11h
 1750           MOV     @R0,A
 1751           MOV     R1,#7Ch
 1752           MOV     @R1,#06h
 1753           MOV     R1,#6Fh
 1754           MOV     @R1,#0FBh
 1755           MOV     R1,#4Dh
 1756           MOV     @R1,#00h
 1757           ANL     P1,#3Fh
 1758   W07F4:
 1759           AJMP    W03DD
 1760
 1761   W07F6:
 1762           AJMP    W0600
 1763
 1764           MOV     A,R7
 1765           MOV     A,R7
 1766           MOV     A,R7
 1767           MOV     A,R7
 1768   W07FC:
 1769           MOV     A,R7
 1770           MOV     A,R7
 1771   W07FE:
8048 TO 8051 ASSEMBLY LANGUAGE CONVERTER                                                                        PAGE  95


 1772           AJMP    W0411
 1773
 1774           ANL     PSW,#0E7H
 1775           SETB    P2.5
 1776           CLR     P2.7
 1777           MOV     R1,#7Eh
 1778           MOV     A,@R1
 1779           XRL     A,#2Eh
 1780           JNZ     W0812
 1781           INC     R1
 1782           MOV     A,@R1
 1783           XRL     A,#0D2h
 1784           JZ      W0814
 1785   W0812:
 1786           AJMP    W072A
 1787
 1788   W0814:
 1789           MOV     R0,#7Dh
 1790           CLR     A
 1791   W0817:
 1792           MOV     @R0,A
 1793           DJNZ    R0,W0817
 1794           ACALL   W01A3
 1795           MOV     R0,#36h
 1796           MOV     @R0,#32h
 1797           MOV     A,BUS
 1798           JB      ACC.4,W0825
 1799           MOV     @R0,#19h
 1800   W0825:
 1801           MOV     A,@R0
 1802           MOV     R0,#4Ah
 1803           MOV     @R0,A
 1804           MOV     R0,#4Bh
 1805           MOV     @R0,A
 1806           MOV     R0,#0Bh
 1807           MOV     A,BUS
 1808           JB      ACC.1,W0835
 1809           MOV     A,R4
 1810           ORL     A,#80h
 1811           MOV     R4,A
 1812   W0835:
 1813           CLR     EX0
 1814           CLR     ET0
 1815           ORL     PSW,#18H
 1816   W0838:
 1817           MOV     R1,#00h
 1818           ANL     PSW,#0E7H
 1819           CLR     A
 1820   W083C:
 1821           JNB     INT0,W0849
 1822           SETB    P2.6
 1823           CLR     A
 1824   W0841:
 1825           JNB     INT0,W0851
 1826           JNZ     W0841
 1827           ACALL   W00C8+1
*** WARNING 009 ***  ADDRESS EXPRESSION MAY BE INVALID FOR 8051
8048 TO 8051 ASSEMBLY LANGUAGE CONVERTER                                                                        PAGE  96


 1828           AJMP    W0041
 1829
 1830   W0849:
 1831           CLR     P2.6
 1832           JNZ     W083C
 1833           ACALL   W00C8+1
*** WARNING 009 ***  ADDRESS EXPRESSION MAY BE INVALID FOR 8051
 1834           AJMP    W003B+1
*** WARNING 009 ***  ADDRESS EXPRESSION MAY BE INVALID FOR 8051
 1835
 1836   W0851:
 1837           CLR     A
 1838           MOV     T,A
 1839           ANL     TMOD,#0F8H
 1839           MOV     TL0,#00H
 1839           SETB    TR0
*** WARNING 002 ***  TIMING INSTRUCTIONS MAY HAVE INCORRECT TIME SPANS
 1840           JBC     TF0,W0856
*** WARNING 002 ***  TIMING INSTRUCTIONS MAY HAVE INCORRECT TIME SPANS
 1841   W0856:
 1842           JNB     INT0,W086A
 1843           SETB    P2.6
 1844           CLR     A
 1845           JNB     INT0,W0879
 1846           JNZ     W0861
 1847           ACALL   W00C8+1
*** WARNING 009 ***  ADDRESS EXPRESSION MAY BE INVALID FOR 8051
 1848   W0861:
 1849           JBC     TF0,W0865
*** WARNING 002 ***  TIMING INSTRUCTIONS MAY HAVE INCORRECT TIME SPANS
 1850           AJMP    W005A+1
*** WARNING 009 ***  ADDRESS EXPRESSION MAY BE INVALID FOR 8051
 1851
 1852   W0865:
 1853           ORL     PSW,#18H
 1854           INC     R5
 1855           ANL     PSW,#0E7H
 1856           AJMP    W005A+1
*** WARNING 009 ***  ADDRESS EXPRESSION MAY BE INVALID FOR 8051
 1857
 1858   W086A:
 1859           CLR     P2.6
 1860           JNZ     W0870
 1861           ACALL   W00C8+1
*** WARNING 009 ***  ADDRESS EXPRESSION MAY BE INVALID FOR 8051
 1862   W0870:
 1863           JBC     TF0,W0874
*** WARNING 002 ***  TIMING INSTRUCTIONS MAY HAVE INCORRECT TIME SPANS
 1864           AJMP    W0055+1
*** WARNING 009 ***  ADDRESS EXPRESSION MAY BE INVALID FOR 8051
 1865
 1866   W0874:
 1867           ORL     PSW,#18H
 1868           INC     R5
 1869           ANL     PSW,#0E7H
 1870           AJMP    W0055+1
*** WARNING 009 ***  ADDRESS EXPRESSION MAY BE INVALID FOR 8051
8048 TO 8051 ASSEMBLY LANGUAGE CONVERTER                                                                        PAGE  97


 1871
 1872   W0879:
 1873           MOV     A,T
 1874           ORL     PSW,#18H
 1875           MOV     R4,A
 1876           MOV     A,R5
 1877           ADD     A,#0FDh
 1878           JC      W0838
 1879           ANL     TMOD,#0F8H
 1879           MOV     TL0,#00H
 1879           SETB    TR0
*** WARNING 002 ***  TIMING INSTRUCTIONS MAY HAVE INCORRECT TIME SPANS
 1880           CLR     A
 1881           MOV     T,A
 1882           ANL     PSW,#0E7H
 1883           ORL     IE,#EA_OR_EX0
 1884           CLR     P2.5
 1885           ACALL   W00C8+1
*** WARNING 009 ***  ADDRESS EXPRESSION MAY BE INVALID FOR 8051
 1886           MOV     R1,#32h
 1887           ACALL   W00C2
 1888           ACALL   W00C8+1
*** WARNING 009 ***  ADDRESS EXPRESSION MAY BE INVALID FOR 8051
 1889           ANL     PSW,#0E7H
 1890           MOV     R1,#31h
 1891           MOV     R0,#35h
 1892           MOV     A,BUS
 1893           MOV     @R0,A
 1894           MOV     @R1,A
 1895           MOV     R3,#64h
 1896           ACALL   W00B7
 1897           MOV     R3,#32h
 1898           ACALL   W00B7
 1899           MOV     R0,#3Ah
 1900           INC     @R0
 1901   W08A3:
 1902           
*** WARNING 004 ***  SEL MB INSTRUCTION HAS BEEN DELETED
 1903           ACALL   W0060
 1904           
*** WARNING 004 ***  SEL MB INSTRUCTION HAS BEEN DELETED
 1905           MOV     A,R2
 1906           ADD     A,#4Dh
 1907           JC      W08A3
 1908           MOV     R0,#5Bh
 1909           MOV     @R0,#0ECh
 1910           MOV     R0,#6Ch
 1911           MOV     @R0,#06h
 1912           
*** WARNING 004 ***  SEL MB INSTRUCTION HAS BEEN DELETED
 1913           AJMP    W0700
 1914
 1915           CLR     F1
 1916           CPL     F1
 1917           JB      F1,W08BC
 1918           RET
 1919
8048 TO 8051 ASSEMBLY LANGUAGE CONVERTER                                                                        PAGE  98


 1920   W08BC:
 1921           
*** WARNING 004 ***  SEL MB INSTRUCTION HAS BEEN DELETED
 1922           ACALL   W0060
 1923           
*** WARNING 004 ***  SEL MB INSTRUCTION HAS BEEN DELETED
 1924           AJMP    W00B9
 1925
 1926   W08C2:
 1927           MOV     R0,#63h
 1928   W08C4:
 1929           DJNZ    R0,W08C4
 1930           DJNZ    R1,W08C2
 1931           RET
 1932
 1933           SETB    P2.7
 1934           MOV     A,#64h
 1935   W08CD:
 1936           DEC     A
 1937           JNZ     W08CD
 1938           CLR     P2.7
 1939           MOV     A,#01h
 1940           RET
 1941
 1942           MOV     A,R7
 1943           MOV     A,R7
 1944           MOV     A,R7
 1945           MOV     A,R7
 1946           MOV     A,R7
 1947           MOV     A,R7
 1948           MOV     A,R7
 1949           MOV     A,R7
 1950           MOV     A,R7
 1951           MOV     A,R7
 1952           MOV     A,R7
 1953           MOV     A,R7
 1954           MOV     A,R7
 1955           MOV     A,R7
 1956           MOV     A,R7
 1957           MOV     A,R7
 1958           MOV     A,R7
 1959           MOV     A,R7
 1960           MOV     A,R7
 1961           MOV     A,R7
 1962           MOV     A,R7
 1963           MOV     A,R7
 1964           MOV     A,R7
 1965           MOV     A,R7
 1966           MOV     A,R7
 1967           MOV     A,R7
 1968           MOV     A,R7
 1969           MOV     A,R7
 1970           MOV     A,R7
 1971           MOV     A,R7
 1972           MOV     A,R7
 1973           MOV     A,R7
 1974           MOV     A,R7
8048 TO 8051 ASSEMBLY LANGUAGE CONVERTER                                                                        PAGE  99


 1975           MOV     A,R7
 1976           MOV     A,R7
 1977           MOV     A,R7
 1978           MOV     A,R7
 1979           MOV     A,R7
 1980           MOV     A,R7
 1981           MOV     A,R7
 1982           
*** WARNING 004 ***  SEL MB INSTRUCTION HAS BEEN DELETED
 1983           AJMP    W0411
 1984
 1985           MOV     R0,#6Eh
 1986           MOV     R1,#7Dh
 1987           MOV     A,@R1
 1988           JNB     ACC.0,L_21
 1988           AJMP    W0977
 1988   L_21:
 1989           MOV     A,@R0
 1990           JNZ     W0911
 1991           MOV     R0,#52h
 1992           MOV     A,@R0
 1993           JNZ     W0911
 1994           CLR     P1.6
 1995   W0911:
 1996           MOV     R0,#6Fh
 1997           MOV     A,@R0
 1998           JNZ     W0918
 1999           CLR     P1.7
 2000   W0918:
 2001           MOV     A,P2
 2002           CPL     A
 2003           JB      ACC.3,W0921
 2004           MOV     A,R2
 2005           ADD     A,#8Eh
 2006           AJMP    W0123+1
*** WARNING 009 ***  ADDRESS EXPRESSION MAY BE INVALID FOR 8051
 2007
 2008   W0921:
 2009           MOV     A,R2
 2010           ADD     A,#70h
 2011           JNC     W0936
 2012           SETB    P1.6
 2013           SETB    P1.7
 2014           MOV     R0,#6Eh
 2015           MOV     @R0,#0FCh
 2016           MOV     R0,#6Fh
 2017           MOV     @R0,#0E7h
 2018           MOV     R0,#55h
 2019           MOV     @R0,#0FFh
 2020   W0936:
 2021           MOV     R0,#55h
 2022           MOV     A,@R0
 2023           JZ      W094D
 2024           MOV     R1,#31h
 2025           MOV     A,@R1
 2026           JB      ACC.0,W0949
 2027           MOV     R1,#6Fh
8048 TO 8051 ASSEMBLY LANGUAGE CONVERTER                                                                        PAGE 100


 2028           MOV     A,@R1
 2029           JNZ     W094D
 2030           MOV     @R0,#00h
 2031           AJMP    W014D
 2032
 2033   W0949:
 2034           MOV     R0,#6Fh
 2035           MOV     @R0,#0E7h
 2036   W094D:
 2037           MOV     R0,#31h
 2038           MOV     A,@R0
 2039           ANL     A,#05h
 2040           XRL     A,#05h
 2041           JNZ     W0963
 2042           MOV     A,P2
 2043           JB      ACC.3,W0963
 2044           MOV     A,R2
 2045           ADD     A,#0A0h
 2046           JNC     W09A2
 2047           MOV     R0,#4Ch
 2048           MOV     @R0,#0FFh
 2049           RET
 2050
 2051   W0963:
 2052           MOV     R0,#4Ch
 2053           MOV     A,@R0
 2054           JZ      W09A2
 2055           MOV     @R0,#00h
 2056           SETB    P1.6
 2057           SETB    P1.7
 2058           MOV     R0,#6Fh
 2059           MOV     @R0,#0E7h
 2060           MOV     R0,#52h
 2061           MOV     @R0,#98h
 2062           RET
 2063
 2064   W0977:
 2065           MOV     A,@R0
 2066           JNZ     W09A2
 2067           MOV     R0,#31h
 2068           MOV     A,@R1
 2069           JB      ACC.1,W0998
 2070           JB      ACC.2,W099C
 2071           MOV     A,@R0
 2072           JB      ACC.1,W0990
 2073   W0984:
 2074           CLR     P1.6
 2075   W0986:
 2076           MOV     R0,#5Eh
 2077           MOV     A,@R0
 2078           JNZ     W09A2
 2079           CLR     P1.7
 2080           MOV     @R1,#00h
 2081           RET
 2082
 2083   W0990:
 2084           JB      ACC.5,W0995
8048 TO 8051 ASSEMBLY LANGUAGE CONVERTER                                                                        PAGE 101


 2085           MOV     @R1,#03h
 2086           RET
 2087
 2088   W0995:
 2089           MOV     @R1,#05h
 2090           RET
 2091
 2092   W0998:
 2093           MOV     A,@R0
 2094           JB      ACC.5,W0984
 2095           RET
 2096
 2097   W099C:
 2098           CLR     P1.6
 2099           MOV     A,@R0
 2100           CPL     A
 2101           JB      ACC.1,W0986
 2102   W09A2:
 2103           RET
 2104
 2105           ANL     PSW,#0E7H
 2106           MOV     A,#0F9h
 2107           MOV     P1,A
 2108           ORL     P2,#5Fh
 2109           MOV     R0,#30h
 2110           MOV     @R0,#15h
 2111           MOV     R1,#2Fh
 2112           MOV     @R1,#05h
 2113           MOV     R0,#7Dh
 2114           MOV     @R0,#01h
 2115           MOV     R0,#6Eh
 2116           MOV     @R0,#6Ah
 2117           MOV     R0,#5Eh
 2118           MOV     @R0,#0C4h
 2119           MOV     R0,#2Ch
 2120           MOV     @R0,#32h
 2121           INC     R0
 2122           MOV     @R0,#32h
 2123           MOV     R0,#5Ch
 2124           MOV     @R0,#0E2h
 2125           MOV     R0,#5Dh
 2126           MOV     @R0,#88h
 2127           MOV     R2,#06h
 2128           MOV     R0,#3Eh
 2129           MOV     @R0,#0F5h
 2130           MOV     R0,#5Ah
 2131           MOV     @R0,#0FEh
 2132           RET
 2133
 2134           MOV     A,R7
 2135           MOV     A,R7
 2136           MOV     A,R7
 2137           MOV     A,R7
 2138           MOV     A,R7
 2139           MOV     A,R7
 2140           MOV     A,R7
 2141           MOV     A,R7
8048 TO 8051 ASSEMBLY LANGUAGE CONVERTER                                                                        PAGE 102


 2142           MOV     A,R7
 2143           MOV     A,R7
 2144           MOV     A,R7
 2145           MOV     A,R7
 2146           MOV     A,R7
 2147           MOV     A,R7
 2148           MOV     A,R7
 2149           MOV     A,R7
 2150           MOV     A,R7
 2151           MOV     A,R7
 2152           MOV     A,R7
 2153           MOV     A,R7
 2154           MOV     A,R7
 2155           MOV     A,R7
 2156           MOV     A,R7
 2157           MOV     A,R7
 2158           MOV     A,R7
 2159           MOV     A,R7
 2160           MOV     A,R7
 2161           MOV     A,R7
 2162           MOV     A,R7
 2163           MOV     A,R7
 2164           MOV     A,R7
 2165           MOV     A,R7
 2166           MOV     A,R7
 2167           MOV     A,R7
 2168           MOV     A,R7
 2169           MOV     A,R7
 2170           MOV     A,R7
 2171           MOV     A,R7
 2172           
*** WARNING 004 ***  SEL MB INSTRUCTION HAS BEEN DELETED
 2173           AJMP    W0411
 2174
 2175           ORL     PSW,#18H
 2176           MOV     R3,#00h
 2177           ANL     PSW,#0E7H
 2178           MOV     R0,#33h
 2179           MOV     A,R2
 2180           ADD     A,#0EBh
 2181           JC      W0A0F
 2182           MOV     @R0,#01h
 2183           AJMP    W0215+1
*** WARNING 009 ***  ADDRESS EXPRESSION MAY BE INVALID FOR 8051
 2184
 2185   W0A0F:
 2186           MOV     A,R2
 2187           ADD     A,#0EAh
 2188           JNC     W0A16
 2189           MOV     @R0,#00h
 2190   W0A16:
 2191           MOV     R0,#56h
 2192           MOV     R1,#6Ch
 2193           MOV     A,@R0
 2194           JB      ACC.7,W0A36
 2195           MOV     R0,#50h
 2196           MOV     A,@R0
8048 TO 8051 ASSEMBLY LANGUAGE CONVERTER                                                                        PAGE 103


 2197           CPL     A
 2198           JB      ACC.0,W0A27
 2199           MOV     R0,#7Ch
 2200           AJMP    W0230
 2201
 2202   W0A27:
 2203           MOV     R0,#46h
 2204           MOV     A,@R0
 2205           JZ      W0A40
 2206           AJMP    W022D+1
*** WARNING 009 ***  ADDRESS EXPRESSION MAY BE INVALID FOR 8051
 2207
 2208           MOV     R0,#6Ah
 2209           MOV     A,@R0
 2210           MOV     @R1,A
 2211           JB      ACC.7,W0A87
 2212           AJMP    W0400                   ; Restart
 2213
 2214   W0A36:
 2215           MOV     @R0,#00h
 2216           MOV     R0,#71h
 2217           MOV     @R0,#0F9h
 2218           MOV     R0,#6Ah
 2219           MOV     A,@R0
 2220           MOV     @R1,A
 2221   W0A40:
 2222           MOV     R0,#39h
 2223           MOV     A,@R0
 2224           SWAP    A
 2225           ORL     A,#01h
 2226           MOV     @R0,A
 2227           MOV     R0,#31h
 2228           MOV     A,@R0
 2229           ANL     A,#0Fh
 2230           XRL     A,#03h
 2231           JZ      W0A56
 2232           XRL     A,#02h
 2233           JNZ     W0A66
 2234           AJMP    W028A+1
*** WARNING 009 ***  ADDRESS EXPRESSION MAY BE INVALID FOR 8051
 2235
 2236   W0A56:
 2237           MOV     R0,#61h
 2238           MOV     A,R2
 2239           ADD     A,#0EAh
 2240           JC      W0A62
 2241           MOV     @R1,#01h
 2242           MOV     @R0,#02h
 2243           RET
 2244
 2245   W0A62:
 2246           MOV     @R1,#04h
 2247           AJMP    W0400                   ; Restart
 2248
 2249   W0A66:
 2250           MOV     A,@R0
 2251           ANL     A,#0Bh
8048 TO 8051 ASSEMBLY LANGUAGE CONVERTER                                                                        PAGE 104


 2252           XRL     A,#08h
 2253           MOV     R0,#33h
 2254           JNZ     W0A82
 2255           MOV     A,@R0
 2256           JZ      W0A89
 2257           MOV     A,P2
 2258           JB      ACC.2,W0A7B
 2259           MOV     A,BUS
 2260           CPL     A
 2261           JB      ACC.7,W0A7B
 2262           AJMP    W03DD
 2263
 2264   W0A7B:
 2265           MOV     @R1,#0FCh
 2266           MOV     R0,#61h
 2267           MOV     @R0,#02h
 2268           RET
 2269
 2270   W0A82:
 2271           MOV     A,@R0
 2272           JZ      W0A89
 2273           AJMP    W03DD
 2274
 2275   W0A87:
 2276           AJMP    W03C5+1
*** WARNING 009 ***  ADDRESS EXPRESSION MAY BE INVALID FOR 8051
 2277
 2278   W0A89:
 2279           AJMP    W0300                   ; Frequency Data
 2280
 2281           MOV     A,R2
 2282           ADD     A,#0D2h
 2283           JNC     W0A94
 2284           MOV     @R1,#0FCh
 2285           AJMP    W0400                   ; Restart
 2286
 2287   W0A94:
 2288           AJMP    W03DD
 2289
 2290           MOV     A,R7
 2291           MOV     A,R7
 2292           MOV     A,R7
 2293           MOV     A,R7
 2294           MOV     A,R7
 2295           MOV     A,R7
 2296           MOV     A,R7
 2297           MOV     A,R7
 2298           MOV     A,R7
 2299           MOV     A,R7
 2300           MOV     A,R7
 2301           MOV     A,R7
 2302           MOV     A,R7
 2303           MOV     A,R7
 2304           MOV     A,R7
 2305           MOV     A,R7
 2306           MOV     A,R7
 2307           MOV     A,R7
8048 TO 8051 ASSEMBLY LANGUAGE CONVERTER                                                                        PAGE 105


 2308           MOV     A,R7
 2309           MOV     A,R7
 2310           MOV     A,R7
 2311           MOV     A,R7
 2312           MOV     A,R7
 2313           MOV     A,R7
 2314           MOV     A,R7
 2315           MOV     A,R7
 2316           MOV     A,R7
 2317           MOV     A,R7
 2318           MOV     A,R7
 2319           MOV     A,R7
 2320           MOV     A,R7
 2321           MOV     A,R7
 2322           MOV     A,R7
 2323           MOV     A,R7
 2324           MOV     A,R7
 2325           MOV     A,R7
 2326           MOV     A,R7
 2327           MOV     A,R7
 2328           MOV     A,R7
 2329           MOV     A,R7
 2330           MOV     A,R7
 2331           MOV     A,R7
 2332           MOV     A,R7
 2333           MOV     A,R7
 2334           MOV     A,R7
 2335           MOV     A,R7
 2336           MOV     A,R7
 2337           MOV     A,R7
 2338           MOV     A,R7
 2339           MOV     A,R7
 2340           MOV     A,R7
 2341           MOV     A,R7
 2342           MOV     A,R7
 2343           MOV     A,R7
 2344           MOV     A,R7
 2345           MOV     A,R7
 2346           MOV     A,R7
 2347           MOV     A,R7
 2348           MOV     A,R7
 2349           MOV     A,R7
 2350           MOV     A,R7
 2351           MOV     A,R7
 2352           MOV     A,R7
 2353           MOV     A,R7
 2354           MOV     A,R7
 2355           MOV     A,R7
 2356           MOV     A,R7
 2357           MOV     A,R7
 2358           MOV     A,R7
 2359           MOV     A,R7
 2360           MOV     A,R7
 2361           MOV     A,R7
 2362           MOV     A,R7
 2363           MOV     A,R7
 2364           MOV     A,R7
8048 TO 8051 ASSEMBLY LANGUAGE CONVERTER                                                                        PAGE 106


 2365           MOV     A,R7
 2366           MOV     A,R7
 2367           MOV     A,R7
 2368           MOV     A,R7
 2369           MOV     A,R7
 2370           MOV     A,R7
 2371           MOV     A,R7
 2372           MOV     A,R7
 2373           MOV     A,R7
 2374           MOV     A,R7
 2375           MOV     A,R7
 2376           MOV     A,R7
 2377           MOV     A,R7
 2378           MOV     A,R7
 2379           MOV     A,R7
 2380           MOV     A,R7
 2381           MOV     A,R7
 2382           MOV     A,R7
 2383           MOV     A,R7
 2384           MOV     A,R7
 2385           MOV     A,R7
 2386           MOV     A,R7
 2387           MOV     A,R7
 2388           MOV     A,R7
 2389           MOV     A,R7
 2390           MOV     A,R7
 2391           MOV     A,R7
 2392           MOV     A,R7
 2393           
*** WARNING 004 ***  SEL MB INSTRUCTION HAS BEEN DELETED
 2394           AJMP    W0411
 2395
 2396           ANL     PSW,#0E7H
 2397           MOV     R1,#6Dh
 2398           MOV     R0,#31h
 2399           MOV     A,@R0
 2400           ANL     A,#0Ah
 2401           XRL     A,#0Ah
 2402           JZ      W0B23
 2403           MOV     A,P2
 2404           JB      ACC.2,W0B13
 2405   W0B0F:
 2406           MOV     R2,#06h
 2407           AJMP    W0325
 2408
 2409   W0B13:
 2410           JB      ACC.3,W0B0F
 2411           MOV     A,@R0
 2412           ANL     A,#3Eh
 2413           XRL     A,#38h
 2414           JNZ     W0B0F
 2415           MOV     A,BUS
 2416           JB      ACC.6,W0B0F
 2417           MOV     R2,#04h
 2418           AJMP    W0325
 2419
 2420   W0B23:
8048 TO 8051 ASSEMBLY LANGUAGE CONVERTER                                                                        PAGE 107


 2421           MOV     R2,#0Ch
 2422           MOV     R0,#31h
 2423           MOV     A,@R0
 2424           ANL     A,#05h
 2425           XRL     A,#05h
 2426           JNZ     W0B51
 2427           MOV     A,@R1
 2428           JB      ACC.7,W0B3B
 2429           CPL     A
 2430           MOV     R0,#72h
 2431           JB      ACC.0,W0B4B
 2432           MOV     A,@R0
 2433           JNZ     W0B5D
 2434           MOV     @R1,#80h
 2435   W0B3B:
 2436           MOV     R1,#6Ch
 2437           MOV     A,R4
 2438           JNB     ACC.2,L_22
 2438           AJMP    W0BDD
 2438   L_22:
 2439           MOV     A,P2
 2440           JB      ACC.3,W0B47
 2441           MOV     @R1,#0F7h
 2442           AJMP    W0400                   ; Restart
 2443
 2444   W0B47:
 2445           MOV     @R1,#0F3h
 2446           AJMP    W0400                   ; Restart
 2447
 2448   W0B4B:
 2449           MOV     @R1,#01h
 2450           MOV     @R0,#0F6h
 2451           AJMP    W035D
 2452
 2453   W0B51:
 2454           MOV     A,@R1
 2455           MOV     @R1,#00h
 2456           JNB     ACC.7,L_23
 2456           AJMP    W0BD7
 2456   L_23:
 2457           MOV     R0,#39h
 2458           MOV     A,@R0
 2459           MOV     @R0,#00h
 2460           JNB     ACC.4,L_24
 2460           AJMP    W0BD7
 2460   L_24:
 2461   W0B5D:
 2462           MOV     R0,#5Ah
 2463           MOV     R1,#6Ch
 2464           MOV     A,@R0
 2465           MOV     R0,#79h
 2466           JZ      W0B6A
 2467           MOV     @R0,#00h
 2468           AJMP    W03AB
 2469
 2470   W0B6A:
 2471           MOV     A,@R0
8048 TO 8051 ASSEMBLY LANGUAGE CONVERTER                                                                        PAGE 108


 2472           JNB     T0,W0BA9
*** WARNING 002 ***  TIMING INSTRUCTIONS MAY HAVE INCORRECT TIME SPANS
 2473           ORL     A,#80h
 2474           MOV     @R0,A
 2475           AJMP    W0374
 2476
 2477   W0B72:
 2478           MOV     @R0,#00h
 2479           ANL     PSW,#0E7H
 2480           MOV     R0,#4Dh
 2481           MOV     @R0,#01h
 2482           MOV     R0,#71h
 2483           MOV     @R0,#0F4h
 2484           MOV     R0,#31h
 2485           MOV     A,@R1
 2486           JB      ACC.7,W0BA4
 2487           MOV     A,R4
 2488           JB      ACC.0,W0B87
 2489           AJMP    W0397+1
*** WARNING 009 ***  ADDRESS EXPRESSION MAY BE INVALID FOR 8051
 2490
 2491   W0B87:
 2492           MOV     A,R4
 2493           ANL     A,#0FEh
 2494           MOV     R4,A
 2495           MOV     A,@R0
 2496           JB      ACC.0,W0B93
 2497           MOV     A,@R1
 2498           ADD     A,#0FCh
 2499           AJMP    W039E+1
*** WARNING 009 ***  ADDRESS EXPRESSION MAY BE INVALID FOR 8051
 2500
 2501   W0B93:
 2502           MOV     A,@R1
 2503           ADD     A,#0FDh
 2504           AJMP    W039E+1
*** WARNING 009 ***  ADDRESS EXPRESSION MAY BE INVALID FOR 8051
 2505
 2506           MOV     A,@R1
 2507           ADD     A,#0FEh
 2508           AJMP    W039E+1
*** WARNING 009 ***  ADDRESS EXPRESSION MAY BE INVALID FOR 8051
 2509
 2510   W0B9D:
 2511           MOV     A,@R1
 2512           DEC     A
 2513           MOV     @R1,A
 2514           JB      ACC.7,W0BC6
 2515           AJMP    W0400                   ; Restart
 2516
 2517   W0BA4:
 2518           MOV     A,@R0
 2519           JB      ACC.0,W0B9D
 2520           AJMP    W0397+1
*** WARNING 009 ***  ADDRESS EXPRESSION MAY BE INVALID FOR 8051
 2521
 2522   W0BA9:
8048 TO 8051 ASSEMBLY LANGUAGE CONVERTER                                                                        PAGE 109


 2523           JB      ACC.0,W0B72
 2524           MOV     R0,#71h
 2525           MOV     A,@R0
 2526           JNZ     W0BD5
 2527           MOV     A,R4
 2528           ORL     A,#01h
 2529           MOV     R4,A
 2530           MOV     @R0,#0F9h
 2531           MOV     A,@R1
 2532           ADD     A,#01h
 2533           MOV     @R1,A
 2534           JB      ACC.7,W0BD5
 2535           MOV     A,R6
 2536           CPL     A
 2537           INC     A
 2538           ADD     A,@R1
 2539           JNC     W0BD5
 2540           MOV     A,R6
 2541           MOV     @R1,A
 2542           AJMP    W0400                   ; Restart
 2543
 2544   W0BC6:
 2545           ADD     A,#09h
 2546           JC      W0BD5
 2547           MOV     @R1,#0F6h
 2548           MOV     R0,#46h
 2549           MOV     A,@R0
 2550           JNZ     W0BD5
 2551           MOV     R1,#5Ah
 2552           MOV     @R1,#0FCh
 2553   W0BD5:
 2554           AJMP    W0400                   ; Restart
 2555
 2556   W0BD7:
 2557           MOV     R1,#6Ch
 2558           MOV     A,R6
 2559           MOV     @R1,A
 2560           AJMP    W0400                   ; Restart
 2561
 2562   W0BDD:
 2563           MOV     @R1,#00h
 2564           MOV     R0,#61h
 2565           MOV     @R0,#00h
 2566           RET
 2567
 2568           MOV     A,R7
 2569           MOV     A,R7
 2570           MOV     A,R7
 2571           MOV     A,R7
 2572           MOV     A,R7
 2573           MOV     A,R7
 2574           MOV     A,R7
 2575           MOV     A,R7
 2576           MOV     A,R7
 2577           MOV     A,R7
 2578           MOV     A,R7
 2579           MOV     A,R7
8048 TO 8051 ASSEMBLY LANGUAGE CONVERTER                                                                        PAGE 110


 2580           MOV     A,R7
 2581           MOV     A,R7
 2582           MOV     A,R7
 2583           MOV     A,R7
 2584           MOV     A,R7
 2585           MOV     A,R7
 2586           MOV     A,R7
 2587           MOV     A,R7
 2588           MOV     A,R7
 2589           MOV     A,R7
 2590           MOV     A,R7
 2591           MOV     A,R7
 2592           MOV     A,R7
 2593           
*** WARNING 004 ***  SEL MB INSTRUCTION HAS BEEN DELETED
 2594           AJMP    W0411
 2595
 2596           
*** WARNING 004 ***  SEL MB INSTRUCTION HAS BEEN DELETED
 2597           ACALL   W0060
 2598           
*** WARNING 004 ***  SEL MB INSTRUCTION HAS BEEN DELETED
 2599           ANL     PSW,#0E7H
 2600           MOV     R0,#63h
 2601           MOV     R1,#64h
 2602           MOV     A,@R1
 2603           JNZ     W0C11
 2604           MOV     A,@R0
 2605           ADD     A,#89h
 2606           JNC     W0C41
 2607   W0C11:
 2608           MOV     R3,#00h
 2609           MOV     A,@R1
 2610           JZ      W0C28
 2611           MOV     @R1,#02h
 2612           MOV     R3,#10h
 2613           DEC     A
 2614           JZ      W0C28
 2615           MOV     @R1,#04h
 2616           MOV     R3,#20h
 2617           DEC     A
 2618           JZ      W0C28
 2619           MOV     @R1,#06h
 2620           MOV     R3,#30h
 2621   W0C28:
 2622           MOV     A,@R0
 2623           ADD     A,#88h
 2624           JNC     W0C2F
 2625           INC     @R1
 2626           MOV     @R0,A
 2627   W0C2F:
 2628           MOV     A,R7
 2629           ADD     A,@R0
 2630           MOV     @R0,A
 2631           JNC     W0C3B
 2632           INC     @R1
 2633           INC     @R1
8048 TO 8051 ASSEMBLY LANGUAGE CONVERTER                                                                        PAGE 111


 2634           ADD     A,#10h
 2635           MOV     @R0,A
 2636           AJMP    W0441
 2637
 2638   W0C3B:
 2639           ADD     A,#88h
 2640           JNC     W0C41
 2641           INC     @R1
 2642           MOV     @R0,A
 2643   W0C41:
 2644           MOV     R1,#7Ah
 2645           MOV     R0,#6Ch
 2646           MOV     A,@R0
 2647           JB      ACC.7,W0C4A
 2648           AJMP    W044C
 2649
 2650   W0C4A:
 2651           CPL     A
 2652           INC     A
 2653           MOV     R7,A
 2654           ANL     PSW,#0E7H
 2655           MOV     @R1,A
 2656           MOV     R1,#64h
 2657           MOV     R0,#63h
 2658           MOV     A,R7
 2659           JNZ     L_25
 2659           AJMP    W0CBE
 2659   L_25:
 2660           CLR     A
 2661   W0C57:
 2662           ADD     A,@R1
 2663           DJNZ    R7,W0C57
 2664           MOV     @R1,A
 2665           
*** WARNING 004 ***  SEL MB INSTRUCTION HAS BEEN DELETED
 2666           ACALL   W0060
 2667           
*** WARNING 004 ***  SEL MB INSTRUCTION HAS BEEN DELETED
 2668           MOV     R1,#64h
 2669           MOV     R0,#7Ah
 2670           MOV     A,@R0
 2671           MOV     R0,#63h
 2672           MOV     R7,A
 2673           CLR     A
 2674   W0C68:
 2675           ADD     A,@R0
 2676           JNC     W0C6F
 2677           INC     @R1
 2678           INC     @R1
 2679           ADD     A,#10h
 2680   W0C6F:
 2681           DJNZ    R7,W0C68
 2682           MOV     @R0,A
 2683           ADD     A,#88h
 2684           JNC     W0C79
 2685           INC     @R1
 2686           AJMP    W0472
8048 TO 8051 ASSEMBLY LANGUAGE CONVERTER                                                                        PAGE 112


 2687
 2688   W0C79:
 2689           ADD     A,#78h
 2690           MOV     R0,#7Ah
 2691           RL      A
 2692           MOV     @R0,A
 2693           MOV     R1,#6Ch
 2694           MOV     A,@R1
 2695           MOV     R1,#64h
 2696           JB      ACC.7,W0C9C
 2697           INC     @R1
 2698           MOV     A,@R0
 2699           ADD     A,#80h
 2700           JC      W0C94
 2701           ADD     A,#10h
 2702           JC      W0C96
 2703           ADD     A,#0F0h
 2704           AJMP    W0497
 2705
 2706   W0C94:
 2707           ADD     A,#10h
 2708   W0C96:
 2709           INC     @R1
 2710           ADD     A,#10h
 2711           CPL     A
 2712           AJMP    W04AE+1
*** WARNING 009 ***  ADDRESS EXPRESSION MAY BE INVALID FOR 8051
 2713
 2714   W0C9C:
 2715           MOV     A,@R0
 2716           ADD     A,#80h
 2717           JC      W0CAF
 2718           MOV     @R0,A
 2719           MOV     A,@R1
 2720           DEC     A
 2721           JB      ACC.7,W0CAC
 2722           MOV     @R1,A
 2723           MOV     A,@R0
 2724           ADD     A,#0F0h
 2725           AJMP    W04AE+1
*** WARNING 009 ***  ADDRESS EXPRESSION MAY BE INVALID FOR 8051
 2726
 2727   W0CAC:
 2728           CLR     A
 2729           AJMP    W04BE
 2730
 2731   W0CAF:
 2732           ORL     PSW,#18H
 2733           ADD     A,#0F1h
 2734           JNC     W0CB7
 2735           INC     R7
 2736           AJMP    W04B0
 2737
 2738   W0CB7:
 2739           ADD     A,#07h
 2740           JNC     W0CBC
 2741           INC     R7
8048 TO 8051 ASSEMBLY LANGUAGE CONVERTER                                                                        PAGE 113


 2742   W0CBC:
 2743           ANL     PSW,#0E7H
 2744           MOV     A,@R1
 2745   W0CBE:
 2746           MOV     R0,#61h
 2747           MOV     @R0,A
 2748           RET
 2749
 2750           MOV     A,R7
 2751           MOV     A,R7
 2752           MOV     A,R7
 2753           MOV     A,R7
 2754           MOV     A,R7
 2755           MOV     A,R7
 2756           MOV     A,R7
 2757           MOV     A,R7
 2758           MOV     A,R7
 2759           MOV     A,R7
 2760           MOV     A,R7
 2761           MOV     A,R7
 2762           MOV     A,R7
 2763           MOV     A,R7
 2764           MOV     A,R7
 2765           MOV     A,R7
 2766           MOV     A,R7
 2767           MOV     A,R7
 2768           MOV     A,R7
 2769           MOV     A,R7
 2770           MOV     A,R7
 2771           MOV     A,R7
 2772           MOV     A,R7
 2773           MOV     A,R7
 2774           MOV     A,R7
 2775           MOV     A,R7
 2776           MOV     A,R7
 2777           MOV     A,R7
 2778           MOV     A,R7
 2779           MOV     A,R7
 2780           MOV     A,R7
 2781           MOV     A,R7
 2782           MOV     A,R7
 2783           MOV     A,R7
 2784           MOV     A,R7
 2785           MOV     A,R7
 2786           MOV     A,R7
 2787           MOV     A,R7
 2788           MOV     A,R7
 2789           MOV     A,R7
 2790           MOV     A,R7
 2791           MOV     A,R7
 2792           MOV     A,R7
 2793           MOV     A,R7
 2794           MOV     A,R7
 2795           MOV     A,R7
 2796           MOV     A,R7
 2797           MOV     A,R7
 2798           MOV     A,R7
8048 TO 8051 ASSEMBLY LANGUAGE CONVERTER                                                                        PAGE 114


 2799           MOV     A,R7
 2800           MOV     A,R7
 2801           MOV     A,R7
 2802           MOV     A,R7
 2803           MOV     A,R7
 2804           MOV     A,R7
 2805           MOV     A,R7
 2806           MOV     A,R7
 2807           MOV     A,R7
 2808           MOV     A,R7
 2809           
*** WARNING 004 ***  SEL MB INSTRUCTION HAS BEEN DELETED
 2810           AJMP    W0411
 2811
 2812           ANL     PSW,#0E7H
 2813           MOV     R1,#70h
 2814           MOV     R0,#56h
 2815           MOV     A,@R0
 2816           JB      ACC.1,W0D61
 2817           JNB     ACC.2,L_26
 2817           AJMP    W0D90
 2817   L_26:
 2818           MOV     A,BUS
 2819           JNB     ACC.1,L_27
 2819           AJMP    W0D97
 2819   L_27:
 2820           CPL     A
 2821           JNB     ACC.5,L_28
 2821           AJMP    W0D97
 2821   L_28:
 2822           MOV     R1,#35h
 2823           MOV     A,@R1
 2824           JB      ACC.2,W0D17
 2825           AJMP    W0597
 2826
 2827   W0D17:
 2828           MOV     A,BUS
 2829           JNB     ACC.2,L_29
 2829           AJMP    W0D97
 2829   L_29:
 2830           JB      ACC.0,W0D4B
 2831           MOV     R1,#43h
 2832           MOV     @R1,#0E2h
 2833           MOV     R1,#44h
 2834           MOV     @R1,#0ECh
 2835           MOV     @R0,#02h
 2836           MOV     R0,#6Ch
 2837           MOV     A,@R0
 2838           MOV     R1,#4Fh
 2839           MOV     @R1,A
 2840           MOV     R1,#70h
 2841           MOV     A,@R1
 2842           MOV     R1,#3Fh
 2843           JNZ     W0D41
 2844           MOV     @R1,#01h
 2845           MOV     A,@R0
 2846           ADD     A,#0F8h
8048 TO 8051 ASSEMBLY LANGUAGE CONVERTER                                                                        PAGE 115


 2847           MOV     R0,#6Ah
 2848           MOV     @R0,A
 2849           MOV     R0,#70h
 2850           MOV     @R0,#0CEh
 2851           AJMP    W0558
 2852
 2853   W0D41:
 2854           MOV     @R1,#00h
 2855           MOV     A,@R0
 2856           ADD     A,#0FCh
 2857           MOV     R0,#6Ah
 2858           MOV     @R0,A
 2859           AJMP    W0558
 2860
 2861   W0D4B:
 2862           MOV     @R0,#04h
 2863           MOV     R0,#6Ch
 2864           MOV     A,@R0
 2865           MOV     R1,#4Fh
 2866           MOV     @R1,A
 2867           ADD     A,#0F4h
 2868           MOV     R0,#6Ah
 2869           MOV     @R0,A
 2870           MOV     R0,#45h
 2871           MOV     @R0,#0CEh
 2872           MOV     R0,#46h
 2873           MOV     @R0,#0CAh
 2874   W0D60:
 2875           RET
 2876
 2877   W0D61:
 2878           MOV     R1,#44h
 2879           MOV     A,@R1
 2880           JZ      W0D7D
 2881           MOV     A,BUS
 2882           JB      ACC.0,W0D6A
 2883           RET
 2884
 2885   W0D6A:
 2886           MOV     @R0,#04h
 2887           MOV     R0,#3Fh
 2888           MOV     A,@R0
 2889           MOV     R0,#6Ah
 2890           JZ      W0D78
 2891           MOV     A,@R0
 2892           ADD     A,#0FCh
 2893           MOV     @R0,A
 2894           RET
 2895
 2896   W0D78:
 2897           MOV     A,@R0
 2898           ADD     A,#0F8h
 2899           MOV     @R0,A
 2900           RET
 2901
 2902   W0D7D:
 2903           MOV     R1,#43h
8048 TO 8051 ASSEMBLY LANGUAGE CONVERTER                                                                        PAGE 116


 2904           MOV     A,@R1
 2905           JNZ     W0D60
 2906           MOV     R1,#4Fh
 2907           MOV     A,@R1
 2908           MOV     R1,#6Ah
 2909           MOV     @R1,A
 2910           MOV     @R0,#80h
 2911           MOV     R0,#46h
 2912           MOV     @R0,#0FCh
 2913           AJMP    W0597
 2914
 2915   W0D90:
 2916           MOV     R1,#45h
 2917           MOV     A,@R1
 2918           JNZ     W0D60
 2919           AJMP    W0582
 2920
 2921   W0D97:
 2922           MOV     R0,#35h
 2923           MOV     A,BUS
 2924           MOV     @R0,A
 2925           RET
 2926
 2927           MOV     A,R7
 2928           MOV     A,R7
 2929           MOV     A,R7
 2930           MOV     A,R7
 2931           MOV     A,R7
 2932           MOV     A,R7
 2933           MOV     A,R7
 2934           MOV     A,R7
 2935           MOV     A,R7
 2936           MOV     A,R7
 2937           MOV     A,R7
 2938           MOV     A,R7
 2939           MOV     A,R7
 2940           MOV     A,R7
 2941           MOV     A,R7
 2942           MOV     A,R7
 2943           MOV     A,R7
 2944           MOV     A,R7
 2945           MOV     A,R7
 2946           MOV     A,R7
 2947           MOV     A,R7
 2948           MOV     A,R7
 2949           MOV     A,R7
 2950           MOV     A,R7
 2951           MOV     A,R7
 2952           MOV     A,R7
 2953           MOV     A,R7
 2954           MOV     A,R7
 2955           MOV     A,R7
 2956           MOV     A,R7
 2957           MOV     A,R7
 2958           MOV     A,R7
 2959           MOV     A,R7
 2960           MOV     A,R7
8048 TO 8051 ASSEMBLY LANGUAGE CONVERTER                                                                        PAGE 117


 2961           MOV     A,R7
 2962           MOV     A,R7
 2963           MOV     A,R7
 2964           MOV     A,R7
 2965           MOV     A,R7
 2966           MOV     A,R7
 2967           MOV     A,R7
 2968           MOV     A,R7
 2969           MOV     A,R7
 2970           MOV     A,R7
 2971           MOV     A,R7
 2972           MOV     A,R7
 2973           MOV     A,R7
 2974           MOV     A,R7
 2975           MOV     A,R7
 2976           MOV     A,R7
 2977           MOV     A,R7
 2978           MOV     A,R7
 2979           MOV     A,R7
 2980           MOV     A,R7
 2981           MOV     A,R7
 2982           MOV     A,R7
 2983           MOV     A,R7
 2984           MOV     A,R7
 2985           MOV     A,R7
 2986           MOV     A,R7
 2987           MOV     A,R7
 2988           MOV     A,R7
 2989           MOV     A,R7
 2990           MOV     A,R7
 2991           MOV     A,R7
 2992           MOV     A,R7
 2993           MOV     A,R7
 2994           MOV     A,R7
 2995           MOV     A,R7
 2996           MOV     A,R7
 2997           MOV     A,R7
 2998           MOV     A,R7
 2999           MOV     A,R7
 3000           MOV     A,R7
 3001           MOV     A,R7
 3002           MOV     A,R7
 3003           MOV     A,R7
 3004           MOV     A,R7
 3005           MOV     A,R7
 3006           MOV     A,R7
 3007           MOV     A,R7
 3008           MOV     A,R7
 3009           MOV     A,R7
 3010           MOV     A,R7
 3011           MOV     A,R7
 3012           MOV     A,R7
 3013           MOV     A,R7
 3014           MOV     A,R7
 3015           MOV     A,R7
 3016           MOV     A,R7
 3017           MOV     A,R7
8048 TO 8051 ASSEMBLY LANGUAGE CONVERTER                                                                        PAGE 118


 3018           MOV     A,R7
 3019           MOV     A,R7
 3020           MOV     A,R7
 3021           MOV     A,R7
 3022           MOV     A,R7
 3023           MOV     A,R7
 3024           
*** WARNING 004 ***  SEL MB INSTRUCTION HAS BEEN DELETED
 3025           AJMP    W0411
 3026
 3027           MOV     R1,#6Fh
 3028           JB      ACC.7,W0E3D
 3029           JB      ACC.6,W0E31
 3030           JB      ACC.5,W0E16
 3031           MOV     A,@R1
 3032           JNZ     W0E15
 3033           MOV     A,@R0
 3034           ORL     A,#20h
 3035           MOV     @R0,A
 3036           MOV     @R1,#0EBh
 3037           MOV     R1,#7Ch
 3038           MOV     @R1,#1Fh
 3039   W0E15:
 3040           RET
 3041
 3042   W0E16:
 3043           MOV     A,@R1
 3044           JZ      W0E24
 3045           MOV     R1,#4Dh
 3046           MOV     A,@R1
 3047           JZ      W0E15
 3048           MOV     R1,#6Fh
 3049           MOV     @R1,#0FCh
 3050           ORL     P1,#0C0h
 3051   W0E24:
 3052           MOV     R1,#7Ch
 3053           MOV     @R1,#06h
 3054           MOV     R1,#79h
 3055           MOV     @R1,#00h
 3056           MOV     A,@R0
 3057           ORL     A,#40h
 3058           MOV     @R0,A
 3059           RET
 3060
 3061   W0E31:
 3062           MOV     A,@R1
 3063           JNZ     W0E15
 3064           ANL     P1,#3Fh
 3065           MOV     @R1,#0FBh
 3066           MOV     A,@R0
 3067           ORL     A,#80h
 3068           MOV     @R0,A
 3069           RET
 3070
 3071   W0E3D:
 3072           MOV     A,@R1
 3073           JNZ     W0E15
8048 TO 8051 ASSEMBLY LANGUAGE CONVERTER                                                                        PAGE 119


 3074           MOV     A,@R0
 3075           JB      ACC.3,W0E46
 3076           MOV     @R0,#08h
 3077           RET
 3078
 3079   W0E46:
 3080           MOV     @R0,#02h
 3081           RET
 3082
 3083           MOV     A,R7
 3084           MOV     A,R7
 3085           MOV     A,R7
 3086           MOV     A,R7
 3087           MOV     A,R7
 3088           MOV     A,R7
 3089           MOV     A,R7
 3090           MOV     A,R7
 3091           MOV     A,R7
 3092           MOV     A,R7
 3093           MOV     A,R7
 3094           MOV     A,R7
 3095           MOV     A,R7
 3096           MOV     A,R7
 3097           MOV     A,R7
 3098           MOV     A,R7
 3099           MOV     A,R7
 3100           MOV     A,R7
 3101           MOV     A,R7
 3102           MOV     A,R7
 3103           MOV     A,R7
 3104           MOV     A,R7
 3105           MOV     A,R7
 3106           MOV     A,R7
 3107           MOV     A,R7
 3108           MOV     A,R7
 3109           MOV     A,R7
 3110           MOV     A,R7
 3111           MOV     A,R7
 3112           MOV     A,R7
 3113           MOV     A,R7
 3114           MOV     A,R7
 3115           MOV     A,R7
 3116           MOV     A,R7
 3117           MOV     A,R7
 3118           MOV     A,R7
 3119           MOV     A,R7
 3120           MOV     A,R7
 3121           MOV     A,R7
 3122           MOV     A,R7
 3123           MOV     A,R7
 3124           MOV     A,R7
 3125           MOV     A,R7
 3126           MOV     A,R7
 3127           MOV     A,R7
 3128           MOV     A,R7
 3129           MOV     A,R7
 3130           MOV     A,R7
8048 TO 8051 ASSEMBLY LANGUAGE CONVERTER                                                                        PAGE 120


 3131           MOV     A,R7
 3132           MOV     A,R7
 3133           MOV     A,R7
 3134           MOV     A,R7
 3135           MOV     A,R7
 3136           MOV     A,R7
 3137           MOV     A,R7
 3138           MOV     A,R7
 3139           MOV     A,R7
 3140           MOV     A,R7
 3141           MOV     A,R7
 3142           MOV     A,R7
 3143           MOV     A,R7
 3144           MOV     A,R7
 3145           MOV     A,R7
 3146           MOV     A,R7
 3147           MOV     A,R7
 3148           MOV     A,R7
 3149           MOV     A,R7
 3150           MOV     A,R7
 3151           MOV     A,R7
 3152           MOV     A,R7
 3153           MOV     A,R7
 3154           MOV     A,R7
 3155           MOV     A,R7
 3156           MOV     A,R7
 3157           MOV     A,R7
 3158           MOV     A,R7
 3159           MOV     A,R7
 3160           MOV     A,R7
 3161           MOV     A,R7
 3162           MOV     A,R7
 3163           MOV     A,R7
 3164           MOV     A,R7
 3165           MOV     A,R7
 3166           MOV     A,R7
 3167           MOV     A,R7
 3168           MOV     A,R7
 3169           MOV     A,R7
 3170           MOV     A,R7
 3171           MOV     A,R7
 3172           MOV     A,R7
 3173           MOV     A,R7
 3174           MOV     A,R7
 3175           MOV     A,R7
 3176           MOV     A,R7
 3177           MOV     A,R7
 3178           MOV     A,R7
 3179           MOV     A,R7
 3180           MOV     A,R7
 3181           MOV     A,R7
 3182           MOV     A,R7
 3183           MOV     A,R7
 3184           MOV     A,R7
 3185           MOV     A,R7
 3186           MOV     A,R7
 3187           MOV     A,R7
8048 TO 8051 ASSEMBLY LANGUAGE CONVERTER                                                                        PAGE 121


 3188           MOV     A,R7
 3189           MOV     A,R7
 3190           MOV     A,R7
 3191           MOV     A,R7
 3192           MOV     A,R7
 3193           MOV     A,R7
 3194           MOV     A,R7
 3195           MOV     A,R7
 3196           MOV     A,R7
 3197           MOV     A,R7
 3198           MOV     A,R7
 3199           MOV     A,R7
 3200           MOV     A,R7
 3201           MOV     A,R7
 3202           MOV     A,R7
 3203           MOV     A,R7
 3204           MOV     A,R7
 3205           MOV     A,R7
 3206           MOV     A,R7
 3207           MOV     A,R7
 3208           MOV     A,R7
 3209           MOV     A,R7
 3210           MOV     A,R7
 3211           MOV     A,R7
 3212           MOV     A,R7
 3213           MOV     A,R7
 3214           MOV     A,R7
 3215           MOV     A,R7
 3216           MOV     A,R7
 3217           MOV     A,R7
 3218           MOV     A,R7
 3219           MOV     A,R7
 3220           MOV     A,R7
 3221           MOV     A,R7
 3222           MOV     A,R7
 3223           MOV     A,R7
 3224           MOV     A,R7
 3225           MOV     A,R7
 3226           MOV     A,R7
 3227           MOV     A,R7
 3228           MOV     A,R7
 3229           MOV     A,R7
 3230           MOV     A,R7
 3231           MOV     A,R7
 3232           MOV     A,R7
 3233           MOV     A,R7
 3234           MOV     A,R7
 3235           MOV     A,R7
 3236           MOV     A,R7
 3237           MOV     A,R7
 3238           MOV     A,R7
 3239           MOV     A,R7
 3240           MOV     A,R7
 3241           MOV     A,R7
 3242           MOV     A,R7
 3243           MOV     A,R7
 3244           MOV     A,R7
8048 TO 8051 ASSEMBLY LANGUAGE CONVERTER                                                                        PAGE 122


 3245           MOV     A,R7
 3246           MOV     A,R7
 3247           MOV     A,R7
 3248           MOV     A,R7
 3249           MOV     A,R7
 3250           MOV     A,R7
 3251           MOV     A,R7
 3252           MOV     A,R7
 3253           MOV     A,R7
 3254           MOV     A,R7
 3255           MOV     A,R7
 3256           MOV     A,R7
 3257           MOV     A,R7
 3258           MOV     A,R7
 3259           MOV     A,R7
 3260           MOV     A,R7
 3261           MOV     A,R7
 3262           MOV     A,R7
 3263           
*** WARNING 004 ***  SEL MB INSTRUCTION HAS BEEN DELETED
 3264           AJMP    W0411
 3265
 3266           NOP
 3267           NOP
 3268           NOP
 3269           NOP
 3270           NOP
 3271           NOP
 3272           NOP
 3273           NOP
 3274           NOP
 3275           NOP
 3276           NOP
 3277           NOP
 3278           NOP
 3279           NOP
 3280           NOP
 3281           
*** WARNING 004 ***  SEL MB INSTRUCTION HAS BEEN DELETED
 3282           AJMP    W0411
 3283
 3284           MOV     P1,A
 3285           MOV     R1,#01h
 3286           ACALL   W00C2
 3287           CLR     P1.6
 3288           MOV     R1,#02h
 3289           ACALL   W00C2
 3290           RET
 3291
 3292           DJNZ    R7,W0F29
 3293           MOV     A,P2
 3294           JB      ACC.7,W0F27
 3295           SETB    P2.7
 3296           AJMP    W0729
 3297
 3298   W0F27:
 3299           CLR     P2.7
8048 TO 8051 ASSEMBLY LANGUAGE CONVERTER                                                                        PAGE 123


 3300   W0F29:
 3301           RET
 3302
 3303           MOV     R1,#7Eh
 3304           MOV     @R1,#2Eh
 3305           INC     R1
 3306           MOV     @R1,#0D2h
 3307           MOV     A,BUS
 3308           ANL     A,#3Fh
 3309           XRL     A,#02h
 3310           JZ      W0F41
 3311           MOV     A,#9Fh
 3312           JNB     INT0,W0F3E
 3313           MOV     A,#0DFh
 3314   W0F3E:
 3315           MOV     P2,A
 3316           AJMP    W07C2+1
*** WARNING 009 ***  ADDRESS EXPRESSION MAY BE INVALID FOR 8051
 3317
 3318   W0F41:
 3319           ANL     P2,#5Fh
 3320           MOV     A,P1
 3321           SWAP    A
 3322           ORL     A,#0Fh
 3323           MOV     P1,A
 3324           MOV     A,BUS
 3325           JB      ACC.7,W0F4F
 3326           SETB    P2.4
 3327           AJMP    W0751
 3328
 3329   W0F4F:
 3330           CLR     P2.4
 3331           ACALL   W071E
 3332           JNB     INT0,W0F57
 3333           AJMP    W0743
 3334
 3335   W0F57:
 3336           MOV     A,P2
 3337           SWAP    A
 3338           ORL     A,#0Fh
 3339           MOV     P1,A
 3340           MOV     A,BUS
 3341           JB      ACC.6,W0F63
 3342           SETB    P2.4
 3343           AJMP    W0764+1
*** WARNING 009 ***  ADDRESS EXPRESSION MAY BE INVALID FOR 8051
 3344
 3345   W0F63:
 3346           CLR     P2.4
 3347           JB      T1,W0F6B
*** WARNING 002 ***  TIMING INSTRUCTIONS MAY HAVE INCORRECT TIME SPANS
 3348           SETB    P2.6
 3349           AJMP    W076D
 3350
 3351   W0F6B:
 3352           CLR     P2.6
 3353           ACALL   W071E
8048 TO 8051 ASSEMBLY LANGUAGE CONVERTER                                                                        PAGE 124


 3354           JNB     INT0,W0F57
 3355           ORL     P2,#3Fh
 3356   W0F73:
 3357           ACALL   W071E
 3358           MOV     A,BUS
 3359           ANL     A,#3Fh
 3360           JZ      W0F73
 3361           CLR     P2.5
 3362   W0F7C:
 3363           MOV     A,BUS
 3364           JB      ACC.4,W0F83
 3365           SETB    P2.4
 3366           AJMP    W0785
 3367
 3368   W0F83:
 3369           CLR     P2.4
 3370           JB      ACC.5,W0F8B
 3371           ORL     P2,#48h
 3372           AJMP    W078D
 3373
 3374   W0F8B:
 3375           ANL     P2,#0B7h
 3376           ORL     A,#0F0h
 3377           MOV     R0,A
 3378           SWAP    A
 3379           ANL     A,R0
 3380           MOV     P1,A
 3381           ACALL   W071E
 3382           JNB     INT0,W0F7C
 3383   W0F97:
 3384           JNB     T0,W0F9D
*** WARNING 002 ***  TIMING INSTRUCTIONS MAY HAVE INCORRECT TIME SPANS
 3385           CLR     P2.6
 3386           AJMP    W079E+1
*** WARNING 009 ***  ADDRESS EXPRESSION MAY BE INVALID FOR 8051
 3387
 3388   W0F9D:
 3389           SETB    P2.6
 3390           ACALL   W071E
 3391           MOV     A,BUS
 3392           ANL     A,#3Fh
 3393           JZ      W0F97
 3394           ORL     P2,#5Fh
 3395   W0FA8:
 3396           MOV     A,#28h
 3397           SWAP    A
 3398           MOV     P1,A
 3399           CPL     A
 3400           JB      ACC.0,W0FB1
 3401           CLR     P2.4
 3402   W0FB1:
 3403           JB      ACC.1,W0FB5
 3404           CLR     P2.3
 3405   W0FB5:
 3406           ACALL   W071E
 3407           JNB     INT0,W0FA8
 3408           CLR     P2.7
8048 TO 8051 ASSEMBLY LANGUAGE CONVERTER                                                                        PAGE 125


 3409           MOV     R3,#00h
 3410   W0FBD:
 3411           DJNZ    R7,W0FBD
 3412           MOV     A,#9Fh
 3413           AJMP    W07FC
 3414
 3415           MOV     A,#0FFh
 3416           MOV     P1,A
 3417           MOV     R1,#28h
 3418           ACALL   W00C2
 3419           MOV     A,P2
 3420           SWAP    A
 3421           RR      A
 3422           ORL     A,#4Fh
 3423           ACALL   W0712
 3424           MOV     A,P2
 3425           SWAP    A
 3426           ORL     A,#6Fh
 3427           MOV     R2,A
 3428           MOV     A,BUS
 3429           JB      ACC.6,W0FDD
 3430           MOV     A,R2
 3431           ANL     A,#0DFh
 3432           MOV     R2,A
 3433   W0FDD:
 3434           MOV     A,R2
 3435           ACALL   W0712
 3436           MOV     A,#0EFh
 3437           RL      A
 3438           MOV     R2,A
 3439           MOV     A,BUS
 3440           JB      ACC.7,W0FEB
 3441           MOV     A,R2
 3442           ANL     A,#7Fh
 3443           MOV     R2,A
 3444   W0FEB:
 3445           MOV     A,R2
 3446           ACALL   W0712
 3447           MOV     A,#0F8h
 3448           SWAP    A
 3449           JB      ACC.6,W0FF7
 3450           ANL     A,#7Fh
 3451           ORL     A,#40h
 3452   W0FF7:
 3453           ACALL   W0712
 3454           MOV     A,#0FFh
 3455           MOV     P1,A
 3456           MOV     P2,A
 3457           
*** WARNING 004 ***  SEL MB INSTRUCTION HAS BEEN DELETED
 3458           AJMP    W07FE
 3459


76 DIAGNOSTIC(S)

END OF ASM48 TO ASM51 CONVERSION
